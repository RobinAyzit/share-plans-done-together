(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Yp={exports:{}},Uc={};var Jw;function wI(){if(Jw)return Uc;Jw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Uc.Fragment=e,Uc.jsx=t,Uc.jsxs=t,Uc}var Zw;function TI(){return Zw||(Zw=1,Yp.exports=wI()),Yp.exports}var x=TI(),Qp={exports:{}},Le={};var eT;function xI(){if(eT)return Le;eT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function S(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,L={};function F(E,B,Y){this.props=E,this.context=B,this.refs=L,this.updater=Y||N}F.prototype.isReactComponent={},F.prototype.setState=function(E,B){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,B,"setState")},F.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function W(){}W.prototype=F.prototype;function J(E,B,Y){this.props=E,this.context=B,this.refs=L,this.updater=Y||N}var re=J.prototype=new W;re.constructor=J,j(re,F.prototype),re.isPureReactComponent=!0;var he=Array.isArray;function me(){}var R={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(E,B,Y){var ne=Y.ref;return{$$typeof:n,type:E,key:B,ref:ne!==void 0?ne:null,props:Y}}function M(E,B){return I(E.type,B,E.props)}function P(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function V(E){var B={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(Y){return B[Y]})}var D=/\/+/g;function Re(E,B){return typeof E=="object"&&E!==null&&E.key!=null?V(""+E.key):B.toString(36)}function Ve(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(me,me):(E.status="pending",E.then(function(B){E.status==="pending"&&(E.status="fulfilled",E.value=B)},function(B){E.status==="pending"&&(E.status="rejected",E.reason=B)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function X(E,B,Y,ne,ce){var fe=typeof E;(fe==="undefined"||fe==="boolean")&&(E=null);var de=!1;if(E===null)de=!0;else switch(fe){case"bigint":case"string":case"number":de=!0;break;case"object":switch(E.$$typeof){case n:case e:de=!0;break;case y:return de=E._init,X(de(E._payload),B,Y,ne,ce)}}if(de)return ce=ce(E),de=ne===""?"."+Re(E,0):ne,he(ce)?(Y="",de!=null&&(Y=de.replace(D,"$&/")+"/"),X(ce,B,Y,"",function(We){return We})):ce!=null&&(P(ce)&&(ce=M(ce,Y+(ce.key==null||E&&E.key===ce.key?"":(""+ce.key).replace(D,"$&/")+"/")+de)),B.push(ce)),1;de=0;var Se=ne===""?".":ne+":";if(he(E))for(var ke=0;ke<E.length;ke++)ne=E[ke],fe=Se+Re(ne,ke),de+=X(ne,B,Y,fe,ce);else if(ke=S(E),typeof ke=="function")for(E=ke.call(E),ke=0;!(ne=E.next()).done;)ne=ne.value,fe=Se+Re(ne,ke++),de+=X(ne,B,Y,fe,ce);else if(fe==="object"){if(typeof E.then=="function")return X(Ve(E),B,Y,ne,ce);throw B=String(E),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return de}function oe(E,B,Y){if(E==null)return E;var ne=[],ce=0;return X(E,ne,"","",function(fe){return B.call(Y,fe,ce++)}),ne}function ye(E){if(E._status===-1){var B=E._result;B=B(),B.then(function(Y){(E._status===0||E._status===-1)&&(E._status=1,E._result=Y)},function(Y){(E._status===0||E._status===-1)&&(E._status=2,E._result=Y)}),E._status===-1&&(E._status=0,E._result=B)}if(E._status===1)return E._result.default;throw E._result}var Ee=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)},z={map:oe,forEach:function(E,B,Y){oe(E,function(){B.apply(this,arguments)},Y)},count:function(E){var B=0;return oe(E,function(){B++}),B},toArray:function(E){return oe(E,function(B){return B})||[]},only:function(E){if(!P(E))throw Error("React.Children.only expected to receive a single React element child.");return E}};return Le.Activity=v,Le.Children=z,Le.Component=F,Le.Fragment=t,Le.Profiler=a,Le.PureComponent=J,Le.StrictMode=s,Le.Suspense=p,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Le.__COMPILER_RUNTIME={__proto__:null,c:function(E){return R.H.useMemoCache(E)}},Le.cache=function(E){return function(){return E.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(E,B,Y){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var ne=j({},E.props),ce=E.key;if(B!=null)for(fe in B.key!==void 0&&(ce=""+B.key),B)!A.call(B,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&B.ref===void 0||(ne[fe]=B[fe]);var fe=arguments.length-2;if(fe===1)ne.children=Y;else if(1<fe){for(var de=Array(fe),Se=0;Se<fe;Se++)de[Se]=arguments[Se+2];ne.children=de}return I(E.type,ce,ne)},Le.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},Le.createElement=function(E,B,Y){var ne,ce={},fe=null;if(B!=null)for(ne in B.key!==void 0&&(fe=""+B.key),B)A.call(B,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=B[ne]);var de=arguments.length-2;if(de===1)ce.children=Y;else if(1<de){for(var Se=Array(de),ke=0;ke<de;ke++)Se[ke]=arguments[ke+2];ce.children=Se}if(E&&E.defaultProps)for(ne in de=E.defaultProps,de)ce[ne]===void 0&&(ce[ne]=de[ne]);return I(E,fe,ce)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(E){return{$$typeof:h,render:E}},Le.isValidElement=P,Le.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:ye}},Le.memo=function(E,B){return{$$typeof:m,type:E,compare:B===void 0?null:B}},Le.startTransition=function(E){var B=R.T,Y={};R.T=Y;try{var ne=E(),ce=R.S;ce!==null&&ce(Y,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(me,Ee)}catch(fe){Ee(fe)}finally{B!==null&&Y.types!==null&&(B.types=Y.types),R.T=B}},Le.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Le.use=function(E){return R.H.use(E)},Le.useActionState=function(E,B,Y){return R.H.useActionState(E,B,Y)},Le.useCallback=function(E,B){return R.H.useCallback(E,B)},Le.useContext=function(E){return R.H.useContext(E)},Le.useDebugValue=function(){},Le.useDeferredValue=function(E,B){return R.H.useDeferredValue(E,B)},Le.useEffect=function(E,B){return R.H.useEffect(E,B)},Le.useEffectEvent=function(E){return R.H.useEffectEvent(E)},Le.useId=function(){return R.H.useId()},Le.useImperativeHandle=function(E,B,Y){return R.H.useImperativeHandle(E,B,Y)},Le.useInsertionEffect=function(E,B){return R.H.useInsertionEffect(E,B)},Le.useLayoutEffect=function(E,B){return R.H.useLayoutEffect(E,B)},Le.useMemo=function(E,B){return R.H.useMemo(E,B)},Le.useOptimistic=function(E,B){return R.H.useOptimistic(E,B)},Le.useReducer=function(E,B,Y){return R.H.useReducer(E,B,Y)},Le.useRef=function(E){return R.H.useRef(E)},Le.useState=function(E){return R.H.useState(E)},Le.useSyncExternalStore=function(E,B,Y){return R.H.useSyncExternalStore(E,B,Y)},Le.useTransition=function(){return R.H.useTransition()},Le.version="19.2.4",Le}var tT;function _f(){return tT||(tT=1,Qp.exports=xI()),Qp.exports}var Q=_f(),Xp={exports:{}},Bc={},Wp={exports:{}},Jp={};var nT;function EI(){return nT||(nT=1,(function(n){function e(X,oe){var ye=X.length;X.push(oe);e:for(;0<ye;){var Ee=ye-1>>>1,z=X[Ee];if(0<a(z,oe))X[Ee]=oe,X[ye]=z,ye=Ee;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],ye=X.pop();if(ye!==oe){X[0]=ye;e:for(var Ee=0,z=X.length,E=z>>>1;Ee<E;){var B=2*(Ee+1)-1,Y=X[B],ne=B+1,ce=X[ne];if(0>a(Y,ye))ne<z&&0>a(ce,Y)?(X[Ee]=ce,X[ne]=ye,Ee=ne):(X[Ee]=Y,X[B]=ye,Ee=B);else if(ne<z&&0>a(ce,ye))X[Ee]=ce,X[ne]=ye,Ee=ne;else break e}}return oe}function a(X,oe){var ye=X.sortIndex-oe.sortIndex;return ye!==0?ye:X.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,v=null,w=3,S=!1,N=!1,j=!1,L=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function re(X){for(var oe=t(m);oe!==null;){if(oe.callback===null)s(m);else if(oe.startTime<=X)s(m),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(m)}}function he(X){if(j=!1,re(X),!N)if(t(p)!==null)N=!0,me||(me=!0,V());else{var oe=t(m);oe!==null&&Ve(he,oe.startTime-X)}}var me=!1,R=-1,A=5,I=-1;function M(){return L?!0:!(n.unstable_now()-I<A)}function P(){if(L=!1,me){var X=n.unstable_now();I=X;var oe=!0;try{e:{N=!1,j&&(j=!1,W(R),R=-1),S=!0;var ye=w;try{t:{for(re(X),v=t(p);v!==null&&!(v.expirationTime>X&&M());){var Ee=v.callback;if(typeof Ee=="function"){v.callback=null,w=v.priorityLevel;var z=Ee(v.expirationTime<=X);if(X=n.unstable_now(),typeof z=="function"){v.callback=z,re(X),oe=!0;break t}v===t(p)&&s(p),re(X)}else s(p);v=t(p)}if(v!==null)oe=!0;else{var E=t(m);E!==null&&Ve(he,E.startTime-X),oe=!1}}break e}finally{v=null,w=ye,S=!1}oe=void 0}}finally{oe?V():me=!1}}}var V;if(typeof J=="function")V=function(){J(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,Re=D.port2;D.port1.onmessage=P,V=function(){Re.postMessage(null)}}else V=function(){F(P,0)};function Ve(X,oe){R=F(function(){X(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(X){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var ye=w;w=oe;try{return X()}finally{w=ye}},n.unstable_requestPaint=function(){L=!0},n.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ye=w;w=X;try{return oe()}finally{w=ye}},n.unstable_scheduleCallback=function(X,oe,ye){var Ee=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Ee+ye:Ee):ye=Ee,X){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=ye+z,X={id:y++,callback:oe,priorityLevel:X,startTime:ye,expirationTime:z,sortIndex:-1},ye>Ee?(X.sortIndex=ye,e(m,X),t(p)===null&&X===t(m)&&(j?(W(R),R=-1):j=!0,Ve(he,ye-Ee))):(X.sortIndex=z,e(p,X),N||S||(N=!0,me||(me=!0,V()))),X},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(X){var oe=w;return function(){var ye=w;w=oe;try{return X.apply(this,arguments)}finally{w=ye}}}})(Jp)),Jp}var iT;function SI(){return iT||(iT=1,Wp.exports=EI()),Wp.exports}var Zp={exports:{}},_n={};var sT;function AI(){if(sT)return _n;sT=1;var n=_f();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,_n.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,y)},_n.flushSync=function(p){var m=c.T,y=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=m,s.p=y,s.d.f()}},_n.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(p,m))},_n.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},_n.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,S=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:S}):y==="script"&&s.d.X(p,{crossOrigin:v,integrity:w,fetchPriority:S,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},_n.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);s.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(p)},_n.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);s.d.L(p,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},_n.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);s.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(p)},_n.requestFormReset=function(p){s.d.r(p)},_n.unstable_batchedUpdates=function(p,m){return p(m)},_n.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},_n.useFormStatus=function(){return c.H.useHostTransitionStatus()},_n.version="19.2.4",_n}var rT;function CI(){if(rT)return Zp.exports;rT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zp.exports=AI(),Zp.exports}var aT;function RI(){if(aT)return Bc;aT=1;var n=SI(),e=_f(),t=CI();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function p(i){if(l(i)!==i)throw Error(s(188))}function m(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,u=r;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return p(f),i;if(g===u)return p(f),r;g=g.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=g;else{for(var _=!1,C=f.child;C;){if(C===o){_=!0,o=f,u=g;break}if(C===u){_=!0,u=f,o=g;break}C=C.sibling}if(!_){for(C=g.child;C;){if(C===o){_=!0,o=g,u=f;break}if(C===u){_=!0,u=g,o=f;break}C=C.sibling}if(!_)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function y(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=y(i),r!==null)return r;i=i.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),J=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function Re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case F:return"Profiler";case L:return"StrictMode";case he:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case J:return i.displayName||"Context";case W:return(i._context.displayName||"Context")+".Consumer";case re:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:Re(i.type)||"Memo";case A:r=i._payload,i=i._init;try{return Re(i(r))}catch{}}return null}var Ve=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Ee=[],z=-1;function E(i){return{current:i}}function B(i){0>z||(i.current=Ee[z],Ee[z]=null,z--)}function Y(i,r){z++,Ee[z]=i.current,i.current=r}var ne=E(null),ce=E(null),fe=E(null),de=E(null);function Se(i,r){switch(Y(fe,r),Y(ce,i),Y(ne,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?ww(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=ww(r),i=Tw(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}B(ne),Y(ne,i)}function ke(){B(ne),B(ce),B(fe)}function We(i){i.memoizedState!==null&&Y(de,i);var r=ne.current,o=Tw(r,i.type);r!==o&&(Y(ce,i),Y(ne,o))}function $e(i){ce.current===i&&(B(ne),B(ce)),de.current===i&&(B(de),Vc._currentValue=ye)}var nt,ut;function De(i){if(nt===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);nt=r&&r[1]||"",ut=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nt+i+ut}var Nt=!1;function Dt(i,r){if(!i||Nt)return"";Nt=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(ee){var K=ee}Reflect.construct(i,[],le)}else{try{le.call()}catch(ee){K=ee}i.call(le.prototype)}}else{try{throw Error()}catch(ee){K=ee}(le=i())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(ee){if(ee&&K&&typeof ee.stack=="string")return[ee.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),_=g[0],C=g[1];if(_&&C){var O=_.split(`
`),G=C.split(`
`);for(f=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;f<G.length&&!G[f].includes("DetermineComponentFrameRoot");)f++;if(u===O.length||f===G.length)for(u=O.length-1,f=G.length-1;1<=u&&0<=f&&O[u]!==G[f];)f--;for(;1<=u&&0<=f;u--,f--)if(O[u]!==G[f]){if(u!==1||f!==1)do if(u--,f--,0>f||O[u]!==G[f]){var ie=`
`+O[u].replace(" at new "," at ");return i.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",i.displayName)),ie}while(1<=u&&0<=f);break}}}finally{Nt=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?De(o):""}function Ze(i,r){switch(i.tag){case 26:case 27:case 5:return De(i.type);case 16:return De("Lazy");case 13:return i.child!==r&&r!==null?De("Suspense Fallback"):De("Suspense");case 19:return De("SuspenseList");case 0:case 15:return Dt(i.type,!1);case 11:return Dt(i.type.render,!1);case 1:return Dt(i.type,!0);case 31:return De("Activity");default:return""}}function an(i){try{var r="",o=null;do r+=Ze(i,o),o=i,i=i.return;while(i);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var lt=Object.prototype.hasOwnProperty,it=n.unstable_scheduleCallback,ii=n.unstable_cancelCallback,la=n.unstable_shouldYield,ar=n.unstable_requestPaint,Ft=n.unstable_now,Hn=n.unstable_getCurrentPriorityLevel,Ti=n.unstable_ImmediatePriority,As=n.unstable_UserBlockingPriority,Rn=n.unstable_NormalPriority,Cs=n.unstable_LowPriority,$n=n.unstable_IdlePriority,si=n.log,te=n.unstable_setDisableYieldValue,pe=null,Te=null;function vt(i){if(typeof si=="function"&&te(i),Te&&typeof Te.setStrictMode=="function")try{Te.setStrictMode(pe,i)}catch{}}var xt=Math.clz32?Math.clz32:Uu,ju=Math.log,lo=Math.LN2;function Uu(i){return i>>>=0,i===0?32:31-(ju(i)/lo|0)|0}var Hi=256,ca=262144,qt=4194304;function $i(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Gi(i,r,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,_=i.pingedLanes;i=i.warmLanes;var C=u&134217727;return C!==0?(u=C&~g,u!==0?f=$i(u):(_&=C,_!==0?f=$i(_):o||(o=C&~i,o!==0&&(f=$i(o))))):(C=u&~g,C!==0?f=$i(C):_!==0?f=$i(_):o||(o=u&~i,o!==0&&(f=$i(o)))),f===0?0:r!==0&&r!==f&&(r&g)===0&&(g=f&-f,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:f}function xi(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function Jf(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bu(){var i=qt;return qt<<=1,(qt&62914560)===0&&(qt=4194304),i}function Ki(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function ua(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Zf(i,r,o,u,f,g){var _=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,O=i.expirationTimes,G=i.hiddenUpdates;for(o=_&~o;0<o;){var ie=31-xt(o),le=1<<ie;C[ie]=0,O[ie]=-1;var K=G[ie];if(K!==null)for(G[ie]=null,ie=0;ie<K.length;ie++){var ee=K[ie];ee!==null&&(ee.lane&=-536870913)}o&=~le}u!==0&&ha(i,u,0),g!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=g&~(_&~r))}function ha(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var u=31-xt(r);i.entangledLanes|=r,i.entanglements[u]=i.entanglements[u]|1073741824|o&261930}function Bl(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var u=31-xt(o),f=1<<u;f&r|i[u]&r&&(i[u]|=r),o&=~f}}function Fl(i,r){var o=r&-r;return o=(o&42)!==0?1:da(o),(o&(i.suspendedLanes|r))!==0?0:o}function da(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Rs(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Fu(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:$w(i.type))}function Ei(i,r){var o=oe.p;try{return oe.p=i,r()}finally{oe.p=o}}var Si=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Si,on="__reactProps$"+Si,Yi="__reactContainer$"+Si,co="__reactEvents$"+Si,em="__reactListeners$"+Si,qu="__reactHandles$"+Si,Hu="__reactResources$"+Si,Qi="__reactMarker$"+Si;function uo(i){delete i[Ht],delete i[on],delete i[co],delete i[em],delete i[qu]}function Xi(i){var r=i[Ht];if(r)return r;for(var o=i.parentNode;o;){if(r=o[Yi]||o[Ht]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=kw(i);i!==null;){if(o=i[Ht])return o;i=kw(i)}return r}i=o,o=i.parentNode}return null}function ri(i){if(i=i[Ht]||i[Yi]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function Gn(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function Wi(i){var r=i[Hu];return r||(r=i[Hu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function $t(i){i[Qi]=!0}var ql=new Set,Hl={};function Ji(i,r){Zi(i,r),Zi(i+"Capture",r)}function Zi(i,r){for(Hl[i]=r,i=0;i<r.length;i++)ql.add(r[i])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gl={},Kl={};function $u(i){return lt.call(Kl,i)?!0:lt.call(Gl,i)?!1:$l.test(i)?Kl[i]=!0:(Gl[i]=!0,!1)}function ho(i,r,o){if($u(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Kn(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Gt(i,r,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+u)}}function ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function or(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Yl(i,r,o){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,g=u.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,g.call(this,_)}}),Object.defineProperty(i,r,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function ht(i){if(!i._valueTracker){var r=or(i)?"checked":"value";i._valueTracker=Yl(i,r,""+i[r])}}function fa(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return i&&(u=or(i)?i.checked?"true":"false":i.value),i=u,i!==o?(r.setValue(i),!0):!1}function es(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ma=/[\n"\\]/g;function Mn(i){return i.replace(ma,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fo(i,r,o,u,f,g,_,C){i.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?i.type=_:i.removeAttribute("type"),r!=null?_==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+ln(r)):i.value!==""+ln(r)&&(i.value=""+ln(r)):_!=="submit"&&_!=="reset"||i.removeAttribute("value"),r!=null?Ql(i,_,ln(r)):o!=null?Ql(i,_,ln(o)):u!=null&&i.removeAttribute("value"),f==null&&g!=null&&(i.defaultChecked=!!g),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+ln(C):i.removeAttribute("name")}function Gu(i,r,o,u,f,g,_,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null)){ht(i);return}o=o!=null?""+ln(o):"",r=r!=null?""+ln(r):o,C||r===i.value||(i.value=r),i.defaultValue=r}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=C?i.checked:!!u,i.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.name=_),ht(i)}function Ql(i,r,o){r==="number"&&es(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function lr(i,r,o,u){if(i=i.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=r.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&u&&(i[o].defaultSelected=!0)}else{for(o=""+ln(o),r=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,u&&(i[f].defaultSelected=!0);return}r!==null||i[f].disabled||(r=i[f])}r!==null&&(r.selected=!0)}}function Ku(i,r,o){if(r!=null&&(r=""+ln(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+ln(o):""}function cr(i,r,o,u){if(r==null){if(u!=null){if(o!=null)throw Error(s(92));if(Ve(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),r=o}o=ln(r),i.defaultValue=o,u=i.textContent,u===o&&u!==""&&u!==null&&(i.value=u),ht(i)}function Pn(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var Yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xl(i,r,o){var u=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":u?i.setProperty(r,o):typeof o!="number"||o===0||Yu.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function Wl(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var f in r)u=r[f],r.hasOwnProperty(f)&&o[f]!==u&&Xl(i,f,u)}else for(var g in r)r.hasOwnProperty(g)&&Xl(i,g,r[g])}function mo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ur=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(i){return ur.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Ai(){}var Jl=null;function ai(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var hr=null,ts=null;function pa(i){var r=ri(i);if(r&&(i=r.stateNode)){var o=i[on]||null;e:switch(i=r.stateNode,r.type){case"input":if(fo(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Mn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==i&&u.form===i.form){var f=u[on]||null;if(!f)throw Error(s(90));fo(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<o.length;r++)u=o[r],u.form===i.form&&fa(u)}break e;case"textarea":Ku(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&lr(i,!!o.multiple,r,!1)}}}var go=!1;function dr(i,r,o){if(go)return i(r,o);go=!0;try{var u=i(r);return u}finally{if(go=!1,(hr!==null||ts!==null)&&(Fh(),hr&&(r=hr,i=ts,ts=hr=null,pa(r),i)))for(r=0;r<i.length;r++)pa(i[r])}}function Ci(i,r){var o=i.stateNode;if(o===null)return null;var u=o[on]||null;if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ga=!1;if(oi)try{var mt={};Object.defineProperty(mt,"passive",{get:function(){ga=!0}}),window.addEventListener("test",mt,mt),window.removeEventListener("test",mt,mt)}catch{ga=!1}var ns=null,Zl=null,ya=null;function ec(){if(ya)return ya;var i,r=Zl,o=r.length,u,f="value"in ns?ns.value:ns.textContent,g=f.length;for(i=0;i<o&&r[i]===f[i];i++);var _=o-i;for(u=1;u<=_&&r[o-u]===f[g-u];u++);return ya=f.slice(i,1<u?1-u:void 0)}function va(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function ks(){return!0}function Ri(){return!1}function hn(i){function r(o,u,f,g,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ks:Ri,this.isPropagationStopped=Ri,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),r}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=hn(Is),fr=v({},Is,{view:0,detail:0}),tc=hn(fr),mr,yo,ss,vo=v({},fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ss&&(ss&&i.type==="mousemove"?(mr=i.screenX-ss.screenX,yo=i.screenY-ss.screenY):yo=mr=0,ss=i),mr)},movementY:function(i){return"movementY"in i?i.movementY:yo}}),nc=hn(vo),ba=v({},vo,{dataTransfer:0}),Xu=hn(ba),Wu=v({},fr,{relatedTarget:0}),_a=hn(Wu),ic=v({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),Ju=hn(ic),bo=v({},Is,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Zu=hn(bo),eh=v({},Is,{data:0}),rs=hn(eh),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ih={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sh(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=ih[i])?!!r[i]:!1}function pr(){return sh}var kn=v({},fr,{key:function(i){if(i.key){var r=th[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=va(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?nh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(i){return i.type==="keypress"?va(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?va(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),rh=hn(kn),ah=v({},vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ns=hn(ah),d=v({},fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr}),b=hn(d),T=v({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=hn(T),H=v({},vo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=hn(H),ge=v({},Is,{newState:0,oldState:0}),Ue=hn(ge),zt=[9,13,27,32],at=oi&&"CompositionEvent"in window,At=null;oi&&"documentMode"in document&&(At=document.documentMode);var li=oi&&"TextEvent"in window&&!At,as=oi&&(!at||At&&8<At&&11>=At),ki=" ",Ii=!1;function wa(i,r){switch(i){case"keyup":return zt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _o(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var wo=!1;function $2(i,r){switch(i){case"compositionend":return _o(r);case"keypress":return r.which!==32?null:(Ii=!0,ki);case"textInput":return i=r.data,i===ki&&Ii?null:i;default:return null}}function G2(i,r){if(wo)return i==="compositionend"||!at&&wa(i,r)?(i=ec(),ya=Zl=ns=null,wo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return as&&r.locale!=="ko"?null:r.data;default:return null}}var K2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!K2[i.type]:r==="textarea"}function Mv(i,r,o,u){hr?ts?ts.push(u):ts=[u]:hr=u,r=Qh(r,"onChange"),0<r.length&&(o=new is("onChange","change",null,o,u),i.push({event:o,listeners:r}))}var sc=null,rc=null;function Y2(i){pw(i,0)}function oh(i){var r=Gn(i);if(fa(r))return i}function Pv(i,r){if(i==="change")return r}var Ov=!1;if(oi){var tm;if(oi){var nm="oninput"in document;if(!nm){var Vv=document.createElement("div");Vv.setAttribute("oninput","return;"),nm=typeof Vv.oninput=="function"}tm=nm}else tm=!1;Ov=tm&&(!document.documentMode||9<document.documentMode)}function Lv(){sc&&(sc.detachEvent("onpropertychange",zv),rc=sc=null)}function zv(i){if(i.propertyName==="value"&&oh(rc)){var r=[];Mv(r,rc,i,ai(i)),dr(Y2,r)}}function Q2(i,r,o){i==="focusin"?(Lv(),sc=r,rc=o,sc.attachEvent("onpropertychange",zv)):i==="focusout"&&Lv()}function X2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return oh(rc)}function W2(i,r){if(i==="click")return oh(r)}function J2(i,r){if(i==="input"||i==="change")return oh(r)}function Z2(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var Yn=typeof Object.is=="function"?Object.is:Z2;function ac(i,r){if(Yn(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!lt.call(r,f)||!Yn(i[f],r[f]))return!1}return!0}function jv(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Uv(i,r){var o=jv(i);i=0;for(var u;o;){if(o.nodeType===3){if(u=i+o.textContent.length,i<=r&&u>=r)return{node:o,offset:r-i};i=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=jv(o)}}function Bv(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?Bv(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function Fv(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=es(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=es(i.document)}return r}function im(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var ek=oi&&"documentMode"in document&&11>=document.documentMode,To=null,sm=null,oc=null,rm=!1;function qv(i,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rm||To==null||To!==es(u)||(u=To,"selectionStart"in u&&im(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),oc&&ac(oc,u)||(oc=u,u=Qh(sm,"onSelect"),0<u.length&&(r=new is("onSelect","select",null,r,o),i.push({event:r,listeners:u}),r.target=To)))}function Ta(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var xo={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionrun:Ta("Transition","TransitionRun"),transitionstart:Ta("Transition","TransitionStart"),transitioncancel:Ta("Transition","TransitionCancel"),transitionend:Ta("Transition","TransitionEnd")},am={},Hv={};oi&&(Hv=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function xa(i){if(am[i])return am[i];if(!xo[i])return i;var r=xo[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in Hv)return am[i]=r[o];return i}var $v=xa("animationend"),Gv=xa("animationiteration"),Kv=xa("animationstart"),tk=xa("transitionrun"),nk=xa("transitionstart"),ik=xa("transitioncancel"),Yv=xa("transitionend"),Qv=new Map,om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");om.push("scrollEnd");function Ni(i,r){Qv.set(i,r),Ji(r,[i])}var lh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},ci=[],Eo=0,lm=0;function ch(){for(var i=Eo,r=lm=Eo=0;r<i;){var o=ci[r];ci[r++]=null;var u=ci[r];ci[r++]=null;var f=ci[r];ci[r++]=null;var g=ci[r];if(ci[r++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}g!==0&&Xv(o,f,g)}}function uh(i,r,o,u){ci[Eo++]=i,ci[Eo++]=r,ci[Eo++]=o,ci[Eo++]=u,lm|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function cm(i,r,o,u){return uh(i,r,o,u),hh(i)}function Ea(i,r){return uh(i,null,null,r),hh(i)}function Xv(i,r,o){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=i.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(f=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,f&&r!==null&&(f=31-xt(o),i=g.hiddenUpdates,u=i[f],u===null?i[f]=[r]:u.push(r),r.lane=o|536870912),g):null}function hh(i){if(50<kc)throw kc=0,vp=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var So={};function sk(i,r,o,u){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(i,r,o,u){return new sk(i,r,o,u)}function um(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ds(i,r){var o=i.alternate;return o===null?(o=Qn(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function Wv(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function dh(i,r,o,u,f,g){var _=0;if(u=i,typeof i=="function")um(i)&&(_=1);else if(typeof i=="string")_=cI(i,o,ne.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Qn(31,o,r,f),i.elementType=I,i.lanes=g,i;case j:return Sa(o.children,f,g,r);case L:_=8,f|=24;break;case F:return i=Qn(12,o,r,f|2),i.elementType=F,i.lanes=g,i;case he:return i=Qn(13,o,r,f),i.elementType=he,i.lanes=g,i;case me:return i=Qn(19,o,r,f),i.elementType=me,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case J:_=10;break e;case W:_=9;break e;case re:_=11;break e;case R:_=14;break e;case A:_=16,u=null;break e}_=29,o=Error(s(130,i===null?"null":typeof i,"")),u=null}return r=Qn(_,o,r,f),r.elementType=i,r.type=u,r.lanes=g,r}function Sa(i,r,o,u){return i=Qn(7,i,u,r),i.lanes=o,i}function hm(i,r,o){return i=Qn(6,i,null,r),i.lanes=o,i}function Jv(i){var r=Qn(18,null,null,0);return r.stateNode=i,r}function dm(i,r,o){return r=Qn(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var Zv=new WeakMap;function ui(i,r){if(typeof i=="object"&&i!==null){var o=Zv.get(i);return o!==void 0?o:(r={value:i,source:r,stack:an(r)},Zv.set(i,r),r)}return{value:i,source:r,stack:an(r)}}var Ao=[],Co=0,fh=null,lc=0,hi=[],di=0,gr=null,os=1,ls="";function Ms(i,r){Ao[Co++]=lc,Ao[Co++]=fh,fh=i,lc=r}function eb(i,r,o){hi[di++]=os,hi[di++]=ls,hi[di++]=gr,gr=i;var u=os;i=ls;var f=32-xt(u)-1;u&=~(1<<f),o+=1;var g=32-xt(r)+f;if(30<g){var _=f-f%5;g=(u&(1<<_)-1).toString(32),u>>=_,f-=_,os=1<<32-xt(r)+f|o<<f|u,ls=g+i}else os=1<<g|o<<f|u,ls=i}function fm(i){i.return!==null&&(Ms(i,1),eb(i,1,0))}function mm(i){for(;i===fh;)fh=Ao[--Co],Ao[Co]=null,lc=Ao[--Co],Ao[Co]=null;for(;i===gr;)gr=hi[--di],hi[di]=null,ls=hi[--di],hi[di]=null,os=hi[--di],hi[di]=null}function tb(i,r){hi[di++]=os,hi[di++]=ls,hi[di++]=gr,os=r.id,ls=r.overflow,gr=i}var dn=null,Et=null,Je=!1,yr=null,fi=!1,pm=Error(s(519));function vr(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cc(ui(r,i)),pm}function nb(i){var r=i.stateNode,o=i.type,u=i.memoizedProps;switch(r[Ht]=i,r[on]=u,o){case"dialog":He("cancel",r),He("close",r);break;case"iframe":case"object":case"embed":He("load",r);break;case"video":case"audio":for(o=0;o<Nc.length;o++)He(Nc[o],r);break;case"source":He("error",r);break;case"img":case"image":case"link":He("error",r),He("load",r);break;case"details":He("toggle",r);break;case"input":He("invalid",r),Gu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":He("invalid",r);break;case"textarea":He("invalid",r),cr(r,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||u.suppressHydrationWarning===!0||bw(r.textContent,o)?(u.popover!=null&&(He("beforetoggle",r),He("toggle",r)),u.onScroll!=null&&He("scroll",r),u.onScrollEnd!=null&&He("scrollend",r),u.onClick!=null&&(r.onclick=Ai),r=!0):r=!1,r||vr(i,!0)}function ib(i){for(dn=i.return;dn;)switch(dn.tag){case 5:case 31:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:dn=dn.return}}function Ro(i){if(i!==dn)return!1;if(!Je)return ib(i),Je=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Mp(i.type,i.memoizedProps)),o=!o),o&&Et&&vr(i),ib(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Et=Rw(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Et=Rw(i)}else r===27?(r=Et,Dr(i.type)?(i=zp,zp=null,Et=i):Et=r):Et=dn?pi(i.stateNode.nextSibling):null;return!0}function Aa(){Et=dn=null,Je=!1}function gm(){var i=yr;return i!==null&&(zn===null?zn=i:zn.push.apply(zn,i),yr=null),i}function cc(i){yr===null?yr=[i]:yr.push(i)}var ym=E(null),Ca=null,Ps=null;function br(i,r,o){Y(ym,r._currentValue),r._currentValue=o}function Os(i){i._currentValue=ym.current,B(ym)}function vm(i,r,o){for(;i!==null;){var u=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),i===o)break;i=i.return}}function bm(i,r,o,u){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var g=f.dependencies;if(g!==null){var _=f.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=f;for(var O=0;O<r.length;O++)if(C.context===r[O]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),vm(g.return,o,i),u||(_=null);break e}g=C.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=o,g=_.alternate,g!==null&&(g.lanes|=o),vm(_,o,i),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===i){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ko(i,r,o,u){i=null;for(var f=r,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var C=f.type;Yn(f.pendingProps.value,_.value)||(i!==null?i.push(C):i=[C])}}else if(f===de.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Vc):i=[Vc])}f=f.return}i!==null&&bm(r,i,o,u),r.flags|=262144}function mh(i){for(i=i.firstContext;i!==null;){if(!Yn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ra(i){Ca=i,Ps=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function fn(i){return sb(Ca,i)}function ph(i,r){return Ca===null&&Ra(i),sb(i,r)}function sb(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},Ps===null){if(i===null)throw Error(s(308));Ps=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else Ps=Ps.next=r;return o}var rk=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,u){i.push(u)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},ak=n.unstable_scheduleCallback,ok=n.unstable_NormalPriority,Kt={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _m(){return{controller:new rk,data:new Map,refCount:0}}function uc(i){i.refCount--,i.refCount===0&&ak(ok,function(){i.controller.abort()})}var hc=null,wm=0,Io=0,No=null;function lk(i,r){if(hc===null){var o=hc=[];wm=0,Io=Ep(),No={status:"pending",value:void 0,then:function(u){o.push(u)}}}return wm++,r.then(rb,rb),r}function rb(){if(--wm===0&&hc!==null){No!==null&&(No.status="fulfilled");var i=hc;hc=null,Io=0,No=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function ck(i,r){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){u.status="fulfilled",u.value=r;for(var f=0;f<o.length;f++)(0,o[f])(r)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var ab=X.S;X.S=function(i,r){q_=Ft(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&lk(i,r),ab!==null&&ab(i,r)};var ka=E(null);function Tm(){var i=ka.current;return i!==null?i:bt.pooledCache}function gh(i,r){r===null?Y(ka,ka.current):Y(ka,r.pool)}function ob(){var i=Tm();return i===null?null:{parent:Kt._currentValue,pool:i}}var Do=Error(s(460)),xm=Error(s(474)),yh=Error(s(542)),vh={then:function(){}};function lb(i){return i=i.status,i==="fulfilled"||i==="rejected"}function cb(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Ai,Ai),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,hb(i),i;default:if(typeof r.status=="string")r.then(Ai,Ai);else{if(i=bt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(u){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=u}},function(u){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,hb(i),i}throw Na=r,Do}}function Ia(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Na=o,Do):o}}var Na=null;function ub(){if(Na===null)throw Error(s(459));var i=Na;return Na=null,i}function hb(i){if(i===Do||i===yh)throw Error(s(483))}var Mo=null,dc=0;function bh(i){var r=dc;return dc+=1,Mo===null&&(Mo=[]),cb(Mo,i,r)}function fc(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function _h(i,r){throw r.$$typeof===w?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function db(i){function r(q,U){if(i){var $=q.deletions;$===null?(q.deletions=[U],q.flags|=16):$.push(U)}}function o(q,U){if(!i)return null;for(;U!==null;)r(q,U),U=U.sibling;return null}function u(q){for(var U=new Map;q!==null;)q.key!==null?U.set(q.key,q):U.set(q.index,q),q=q.sibling;return U}function f(q,U){return q=Ds(q,U),q.index=0,q.sibling=null,q}function g(q,U,$){return q.index=$,i?($=q.alternate,$!==null?($=$.index,$<U?(q.flags|=67108866,U):$):(q.flags|=67108866,U)):(q.flags|=1048576,U)}function _(q){return i&&q.alternate===null&&(q.flags|=67108866),q}function C(q,U,$,se){return U===null||U.tag!==6?(U=hm($,q.mode,se),U.return=q,U):(U=f(U,$),U.return=q,U)}function O(q,U,$,se){var Ae=$.type;return Ae===j?ie(q,U,$.props.children,se,$.key):U!==null&&(U.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&Ia(Ae)===U.type)?(U=f(U,$.props),fc(U,$),U.return=q,U):(U=dh($.type,$.key,$.props,null,q.mode,se),fc(U,$),U.return=q,U)}function G(q,U,$,se){return U===null||U.tag!==4||U.stateNode.containerInfo!==$.containerInfo||U.stateNode.implementation!==$.implementation?(U=dm($,q.mode,se),U.return=q,U):(U=f(U,$.children||[]),U.return=q,U)}function ie(q,U,$,se,Ae){return U===null||U.tag!==7?(U=Sa($,q.mode,se,Ae),U.return=q,U):(U=f(U,$),U.return=q,U)}function le(q,U,$){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=hm(""+U,q.mode,$),U.return=q,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return $=dh(U.type,U.key,U.props,null,q.mode,$),fc($,U),$.return=q,$;case N:return U=dm(U,q.mode,$),U.return=q,U;case A:return U=Ia(U),le(q,U,$)}if(Ve(U)||V(U))return U=Sa(U,q.mode,$,null),U.return=q,U;if(typeof U.then=="function")return le(q,bh(U),$);if(U.$$typeof===J)return le(q,ph(q,U),$);_h(q,U)}return null}function K(q,U,$,se){var Ae=U!==null?U.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Ae!==null?null:C(q,U,""+$,se);if(typeof $=="object"&&$!==null){switch($.$$typeof){case S:return $.key===Ae?O(q,U,$,se):null;case N:return $.key===Ae?G(q,U,$,se):null;case A:return $=Ia($),K(q,U,$,se)}if(Ve($)||V($))return Ae!==null?null:ie(q,U,$,se,null);if(typeof $.then=="function")return K(q,U,bh($),se);if($.$$typeof===J)return K(q,U,ph(q,$),se);_h(q,$)}return null}function ee(q,U,$,se,Ae){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return q=q.get($)||null,C(U,q,""+se,Ae);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case S:return q=q.get(se.key===null?$:se.key)||null,O(U,q,se,Ae);case N:return q=q.get(se.key===null?$:se.key)||null,G(U,q,se,Ae);case A:return se=Ia(se),ee(q,U,$,se,Ae)}if(Ve(se)||V(se))return q=q.get($)||null,ie(U,q,se,Ae,null);if(typeof se.then=="function")return ee(q,U,$,bh(se),Ae);if(se.$$typeof===J)return ee(q,U,$,ph(U,se),Ae);_h(U,se)}return null}function _e(q,U,$,se){for(var Ae=null,st=null,xe=U,Fe=U=0,Ke=null;xe!==null&&Fe<$.length;Fe++){xe.index>Fe?(Ke=xe,xe=null):Ke=xe.sibling;var rt=K(q,xe,$[Fe],se);if(rt===null){xe===null&&(xe=Ke);break}i&&xe&&rt.alternate===null&&r(q,xe),U=g(rt,U,Fe),st===null?Ae=rt:st.sibling=rt,st=rt,xe=Ke}if(Fe===$.length)return o(q,xe),Je&&Ms(q,Fe),Ae;if(xe===null){for(;Fe<$.length;Fe++)xe=le(q,$[Fe],se),xe!==null&&(U=g(xe,U,Fe),st===null?Ae=xe:st.sibling=xe,st=xe);return Je&&Ms(q,Fe),Ae}for(xe=u(xe);Fe<$.length;Fe++)Ke=ee(xe,q,Fe,$[Fe],se),Ke!==null&&(i&&Ke.alternate!==null&&xe.delete(Ke.key===null?Fe:Ke.key),U=g(Ke,U,Fe),st===null?Ae=Ke:st.sibling=Ke,st=Ke);return i&&xe.forEach(function(Lr){return r(q,Lr)}),Je&&Ms(q,Fe),Ae}function Ie(q,U,$,se){if($==null)throw Error(s(151));for(var Ae=null,st=null,xe=U,Fe=U=0,Ke=null,rt=$.next();xe!==null&&!rt.done;Fe++,rt=$.next()){xe.index>Fe?(Ke=xe,xe=null):Ke=xe.sibling;var Lr=K(q,xe,rt.value,se);if(Lr===null){xe===null&&(xe=Ke);break}i&&xe&&Lr.alternate===null&&r(q,xe),U=g(Lr,U,Fe),st===null?Ae=Lr:st.sibling=Lr,st=Lr,xe=Ke}if(rt.done)return o(q,xe),Je&&Ms(q,Fe),Ae;if(xe===null){for(;!rt.done;Fe++,rt=$.next())rt=le(q,rt.value,se),rt!==null&&(U=g(rt,U,Fe),st===null?Ae=rt:st.sibling=rt,st=rt);return Je&&Ms(q,Fe),Ae}for(xe=u(xe);!rt.done;Fe++,rt=$.next())rt=ee(xe,q,Fe,rt.value,se),rt!==null&&(i&&rt.alternate!==null&&xe.delete(rt.key===null?Fe:rt.key),U=g(rt,U,Fe),st===null?Ae=rt:st.sibling=rt,st=rt);return i&&xe.forEach(function(_I){return r(q,_I)}),Je&&Ms(q,Fe),Ae}function yt(q,U,$,se){if(typeof $=="object"&&$!==null&&$.type===j&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case S:e:{for(var Ae=$.key;U!==null;){if(U.key===Ae){if(Ae=$.type,Ae===j){if(U.tag===7){o(q,U.sibling),se=f(U,$.props.children),se.return=q,q=se;break e}}else if(U.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===A&&Ia(Ae)===U.type){o(q,U.sibling),se=f(U,$.props),fc(se,$),se.return=q,q=se;break e}o(q,U);break}else r(q,U);U=U.sibling}$.type===j?(se=Sa($.props.children,q.mode,se,$.key),se.return=q,q=se):(se=dh($.type,$.key,$.props,null,q.mode,se),fc(se,$),se.return=q,q=se)}return _(q);case N:e:{for(Ae=$.key;U!==null;){if(U.key===Ae)if(U.tag===4&&U.stateNode.containerInfo===$.containerInfo&&U.stateNode.implementation===$.implementation){o(q,U.sibling),se=f(U,$.children||[]),se.return=q,q=se;break e}else{o(q,U);break}else r(q,U);U=U.sibling}se=dm($,q.mode,se),se.return=q,q=se}return _(q);case A:return $=Ia($),yt(q,U,$,se)}if(Ve($))return _e(q,U,$,se);if(V($)){if(Ae=V($),typeof Ae!="function")throw Error(s(150));return $=Ae.call($),Ie(q,U,$,se)}if(typeof $.then=="function")return yt(q,U,bh($),se);if($.$$typeof===J)return yt(q,U,ph(q,$),se);_h(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,U!==null&&U.tag===6?(o(q,U.sibling),se=f(U,$),se.return=q,q=se):(o(q,U),se=hm($,q.mode,se),se.return=q,q=se),_(q)):o(q,U)}return function(q,U,$,se){try{dc=0;var Ae=yt(q,U,$,se);return Mo=null,Ae}catch(xe){if(xe===Do||xe===yh)throw xe;var st=Qn(29,xe,null,q.mode);return st.lanes=se,st.return=q,st}}}var Da=db(!0),fb=db(!1),_r=!1;function Em(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function wr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Tr(i,r,o){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(ot&2)!==0){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,r=hh(i),Xv(i,null,o),r}return uh(i,u,r,o),hh(i)}function mc(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Bl(i,o)}}function Am(i,r){var o=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=_:g=g.next=_,o=o.next}while(o!==null);g===null?f=g=r:g=g.next=r}else f=g=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Cm=!1;function pc(){if(Cm){var i=No;if(i!==null)throw i}}function gc(i,r,o,u){Cm=!1;var f=i.updateQueue;_r=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var O=C,G=O.next;O.next=null,_===null?g=G:_.next=G,_=O;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,C=ie.lastBaseUpdate,C!==_&&(C===null?ie.firstBaseUpdate=G:C.next=G,ie.lastBaseUpdate=O))}if(g!==null){var le=f.baseState;_=0,ie=G=O=null,C=g;do{var K=C.lane&-536870913,ee=K!==C.lane;if(ee?(Ge&K)===K:(u&K)===K){K!==0&&K===Io&&(Cm=!0),ie!==null&&(ie=ie.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var _e=i,Ie=C;K=r;var yt=o;switch(Ie.tag){case 1:if(_e=Ie.payload,typeof _e=="function"){le=_e.call(yt,le,K);break e}le=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ie.payload,K=typeof _e=="function"?_e.call(yt,le,K):_e,K==null)break e;le=v({},le,K);break e;case 2:_r=!0}}K=C.callback,K!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=f.callbacks,ee===null?f.callbacks=[K]:ee.push(K))}else ee={lane:K,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ie===null?(G=ie=ee,O=le):ie=ie.next=ee,_|=K;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);ie===null&&(O=le),f.baseState=O,f.firstBaseUpdate=G,f.lastBaseUpdate=ie,g===null&&(f.shared.lanes=0),Cr|=_,i.lanes=_,i.memoizedState=le}}function mb(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function pb(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)mb(o[i],r)}var Po=E(null),wh=E(0);function gb(i,r){i=Hs,Y(wh,i),Y(Po,r),Hs=i|r.baseLanes}function Rm(){Y(wh,Hs),Y(Po,Po.current)}function km(){Hs=wh.current,B(Po),B(wh)}var Xn=E(null),mi=null;function xr(i){var r=i.alternate;Y(jt,jt.current&1),Y(Xn,i),mi===null&&(r===null||Po.current!==null||r.memoizedState!==null)&&(mi=i)}function Im(i){Y(jt,jt.current),Y(Xn,i),mi===null&&(mi=i)}function yb(i){i.tag===22?(Y(jt,jt.current),Y(Xn,i),mi===null&&(mi=i)):Er()}function Er(){Y(jt,jt.current),Y(Xn,Xn.current)}function Wn(i){B(Xn),mi===i&&(mi=null),B(jt)}var jt=E(0);function Th(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Vp(o)||Lp(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Vs=0,Be=null,pt=null,Yt=null,xh=!1,Oo=!1,Ma=!1,Eh=0,yc=0,Vo=null,uk=0;function Mt(){throw Error(s(321))}function Nm(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!Yn(i[o],r[o]))return!1;return!0}function Dm(i,r,o,u,f,g){return Vs=g,Be=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=i===null||i.memoizedState===null?e_:Km,Ma=!1,g=o(u,f),Ma=!1,Oo&&(g=bb(r,o,u,f)),vb(i),g}function vb(i){X.H=_c;var r=pt!==null&&pt.next!==null;if(Vs=0,Yt=pt=Be=null,xh=!1,yc=0,Vo=null,r)throw Error(s(300));i===null||Qt||(i=i.dependencies,i!==null&&mh(i)&&(Qt=!0))}function bb(i,r,o,u){Be=i;var f=0;do{if(Oo&&(Vo=null),yc=0,Oo=!1,25<=f)throw Error(s(301));if(f+=1,Yt=pt=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}X.H=t_,g=r(o,u)}while(Oo);return g}function hk(){var i=X.H,r=i.useState()[0];return r=typeof r.then=="function"?vc(r):r,i=i.useState()[0],(pt!==null?pt.memoizedState:null)!==i&&(Be.flags|=1024),r}function Mm(){var i=Eh!==0;return Eh=0,i}function Pm(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Om(i){if(xh){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}xh=!1}Vs=0,Yt=pt=Be=null,Oo=!1,yc=Eh=0,Vo=null}function In(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?Be.memoizedState=Yt=i:Yt=Yt.next=i,Yt}function Ut(){if(pt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=pt.next;var r=Yt===null?Be.memoizedState:Yt.next;if(r!==null)Yt=r,pt=i;else{if(i===null)throw Be.alternate===null?Error(s(467)):Error(s(310));pt=i,i={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Yt===null?Be.memoizedState=Yt=i:Yt=Yt.next=i}return Yt}function Sh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vc(i){var r=yc;return yc+=1,Vo===null&&(Vo=[]),i=cb(Vo,i,r),r=Be,(Yt===null?r.memoizedState:Yt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?e_:Km),i}function Ah(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return vc(i);if(i.$$typeof===J)return fn(i)}throw Error(s(438,String(i)))}function Vm(i){var r=null,o=Be.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var u=Be.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Sh(),Be.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),u=0;u<i;u++)o[u]=M;return r.index++,o}function Ls(i,r){return typeof r=="function"?r(i):r}function Ch(i){var r=Ut();return Lm(r,pt,i)}function Lm(i,r,o){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=i.baseQueue,g=u.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}r.baseQueue=f=g,u.pending=null}if(g=i.baseState,f===null)i.memoizedState=g;else{r=f.next;var C=_=null,O=null,G=r,ie=!1;do{var le=G.lane&-536870913;if(le!==G.lane?(Ge&le)===le:(Vs&le)===le){var K=G.revertLane;if(K===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),le===Io&&(ie=!0);else if((Vs&K)===K){G=G.next,K===Io&&(ie=!0);continue}else le={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(C=O=le,_=g):O=O.next=le,Be.lanes|=K,Cr|=K;le=G.action,Ma&&o(g,le),g=G.hasEagerState?G.eagerState:o(g,le)}else K={lane:le,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},O===null?(C=O=K,_=g):O=O.next=K,Be.lanes|=le,Cr|=le;G=G.next}while(G!==null&&G!==r);if(O===null?_=g:O.next=C,!Yn(g,i.memoizedState)&&(Qt=!0,ie&&(o=No,o!==null)))throw o;i.memoizedState=g,i.baseState=_,i.baseQueue=O,u.lastRenderedState=g}return f===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function zm(i){var r=Ut(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var u=o.dispatch,f=o.pending,g=r.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do g=i(g,_.action),_=_.next;while(_!==f);Yn(g,r.memoizedState)||(Qt=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,u]}function _b(i,r,o){var u=Be,f=Ut(),g=Je;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var _=!Yn((pt||f).memoizedState,o);if(_&&(f.memoizedState=o,Qt=!0),f=f.queue,Bm(xb.bind(null,u,f,i),[i]),f.getSnapshot!==r||_||Yt!==null&&Yt.memoizedState.tag&1){if(u.flags|=2048,Lo(9,{destroy:void 0},Tb.bind(null,u,f,o,r),null),bt===null)throw Error(s(349));g||(Vs&127)!==0||wb(u,r,o)}return o}function wb(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=Be.updateQueue,r===null?(r=Sh(),Be.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Tb(i,r,o,u){r.value=o,r.getSnapshot=u,Eb(r)&&Sb(i)}function xb(i,r,o){return o(function(){Eb(r)&&Sb(i)})}function Eb(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!Yn(i,o)}catch{return!0}}function Sb(i){var r=Ea(i,2);r!==null&&jn(r,i,2)}function jm(i){var r=In();if(typeof i=="function"){var o=i;if(i=o(),Ma){vt(!0);try{o()}finally{vt(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:i},r}function Ab(i,r,o,u){return i.baseState=o,Lm(i,pt,typeof u=="function"?u:Ls)}function dk(i,r,o,u,f){if(Ih(i))throw Error(s(485));if(i=r.action,i!==null){var g={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};X.T!==null?o(!0):g.isTransition=!1,u(g),o=r.pending,o===null?(g.next=r.pending=g,Cb(r,g)):(g.next=o.next,r.pending=o.next=g)}}function Cb(i,r){var o=r.action,u=r.payload,f=i.state;if(r.isTransition){var g=X.T,_={};X.T=_;try{var C=o(f,u),O=X.S;O!==null&&O(_,C),Rb(i,r,C)}catch(G){Um(i,r,G)}finally{g!==null&&_.types!==null&&(g.types=_.types),X.T=g}}else try{g=o(f,u),Rb(i,r,g)}catch(G){Um(i,r,G)}}function Rb(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){kb(i,r,u)},function(u){return Um(i,r,u)}):kb(i,r,o)}function kb(i,r,o){r.status="fulfilled",r.value=o,Ib(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Cb(i,o)))}function Um(i,r,o){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=o,Ib(r),r=r.next;while(r!==u)}i.action=null}function Ib(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function Nb(i,r){return r}function Db(i,r){if(Je){var o=bt.formState;if(o!==null){e:{var u=Be;if(Je){if(Et){t:{for(var f=Et,g=fi;f.nodeType!==8;){if(!g){f=null;break t}if(f=pi(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Et=pi(f.nextSibling),u=f.data==="F!";break e}}vr(u)}u=!1}u&&(r=o[0])}}return o=In(),o.memoizedState=o.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nb,lastRenderedState:r},o.queue=u,o=Wb.bind(null,Be,u),u.dispatch=o,u=jm(!1),g=Gm.bind(null,Be,!1,u.queue),u=In(),f={state:r,dispatch:null,action:i,pending:null},u.queue=f,o=dk.bind(null,Be,f,g,o),f.dispatch=o,u.memoizedState=i,[r,o,!1]}function Mb(i){var r=Ut();return Pb(r,pt,i)}function Pb(i,r,o){if(r=Lm(i,r,Nb)[0],i=Ch(Ls)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=vc(r)}catch(_){throw _===Do?yh:_}else u=r;r=Ut();var f=r.queue,g=f.dispatch;return o!==r.memoizedState&&(Be.flags|=2048,Lo(9,{destroy:void 0},fk.bind(null,f,o),null)),[u,g,i]}function fk(i,r){i.action=r}function Ob(i){var r=Ut(),o=pt;if(o!==null)return Pb(r,o,i);Ut(),r=r.memoizedState,o=Ut();var u=o.queue.dispatch;return o.memoizedState=i,[r,u,!1]}function Lo(i,r,o,u){return i={tag:i,create:o,deps:u,inst:r,next:null},r=Be.updateQueue,r===null&&(r=Sh(),Be.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(u=o.next,o.next=i,i.next=u,r.lastEffect=i),i}function Vb(){return Ut().memoizedState}function Rh(i,r,o,u){var f=In();Be.flags|=i,f.memoizedState=Lo(1|r,{destroy:void 0},o,u===void 0?null:u)}function kh(i,r,o,u){var f=Ut();u=u===void 0?null:u;var g=f.memoizedState.inst;pt!==null&&u!==null&&Nm(u,pt.memoizedState.deps)?f.memoizedState=Lo(r,g,o,u):(Be.flags|=i,f.memoizedState=Lo(1|r,g,o,u))}function Lb(i,r){Rh(8390656,8,i,r)}function Bm(i,r){kh(2048,8,i,r)}function mk(i){Be.flags|=4;var r=Be.updateQueue;if(r===null)r=Sh(),Be.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function zb(i){var r=Ut().memoizedState;return mk({ref:r,nextImpl:i}),function(){if((ot&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function jb(i,r){return kh(4,2,i,r)}function Ub(i,r){return kh(4,4,i,r)}function Bb(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function Fb(i,r,o){o=o!=null?o.concat([i]):null,kh(4,4,Bb.bind(null,r,i),o)}function Fm(){}function qb(i,r){var o=Ut();r=r===void 0?null:r;var u=o.memoizedState;return r!==null&&Nm(r,u[1])?u[0]:(o.memoizedState=[i,r],i)}function Hb(i,r){var o=Ut();r=r===void 0?null:r;var u=o.memoizedState;if(r!==null&&Nm(r,u[1]))return u[0];if(u=i(),Ma){vt(!0);try{i()}finally{vt(!1)}}return o.memoizedState=[u,r],u}function qm(i,r,o){return o===void 0||(Vs&1073741824)!==0&&(Ge&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=$_(),Be.lanes|=i,Cr|=i,o)}function $b(i,r,o,u){return Yn(o,r)?o:Po.current!==null?(i=qm(i,o,u),Yn(i,r)||(Qt=!0),i):(Vs&42)===0||(Vs&1073741824)!==0&&(Ge&261930)===0?(Qt=!0,i.memoizedState=o):(i=$_(),Be.lanes|=i,Cr|=i,r)}function Gb(i,r,o,u,f){var g=oe.p;oe.p=g!==0&&8>g?g:8;var _=X.T,C={};X.T=C,Gm(i,!1,r,o);try{var O=f(),G=X.S;if(G!==null&&G(C,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var ie=ck(O,u);bc(i,r,ie,ei(i))}else bc(i,r,u,ei(i))}catch(le){bc(i,r,{then:function(){},status:"rejected",reason:le},ei())}finally{oe.p=g,_!==null&&C.types!==null&&(_.types=C.types),X.T=_}}function pk(){}function Hm(i,r,o,u){if(i.tag!==5)throw Error(s(476));var f=Kb(i).queue;Gb(i,f,r,ye,o===null?pk:function(){return Yb(i),o(u)})}function Kb(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:ye},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function Yb(i){var r=Kb(i);r.next===null&&(r=i.alternate.memoizedState),bc(i,r.next.queue,{},ei())}function $m(){return fn(Vc)}function Qb(){return Ut().memoizedState}function Xb(){return Ut().memoizedState}function gk(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=ei();i=wr(o);var u=Tr(r,i,o);u!==null&&(jn(u,r,o),mc(u,r,o)),r={cache:_m()},i.payload=r;return}r=r.return}}function yk(i,r,o){var u=ei();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ih(i)?Jb(r,o):(o=cm(i,r,o,u),o!==null&&(jn(o,i,u),Zb(o,r,u)))}function Wb(i,r,o){var u=ei();bc(i,r,o,u)}function bc(i,r,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ih(i))Jb(r,f);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var _=r.lastRenderedState,C=g(_,o);if(f.hasEagerState=!0,f.eagerState=C,Yn(C,_))return uh(i,r,f,0),bt===null&&ch(),!1}catch{}if(o=cm(i,r,f,u),o!==null)return jn(o,i,u),Zb(o,r,u),!0}return!1}function Gm(i,r,o,u){if(u={lane:2,revertLane:Ep(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ih(i)){if(r)throw Error(s(479))}else r=cm(i,o,u,2),r!==null&&jn(r,i,2)}function Ih(i){var r=i.alternate;return i===Be||r!==null&&r===Be}function Jb(i,r){Oo=xh=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function Zb(i,r,o){if((o&4194048)!==0){var u=r.lanes;u&=i.pendingLanes,o|=u,r.lanes=o,Bl(i,o)}}var _c={readContext:fn,use:Ah,useCallback:Mt,useContext:Mt,useEffect:Mt,useImperativeHandle:Mt,useLayoutEffect:Mt,useInsertionEffect:Mt,useMemo:Mt,useReducer:Mt,useRef:Mt,useState:Mt,useDebugValue:Mt,useDeferredValue:Mt,useTransition:Mt,useSyncExternalStore:Mt,useId:Mt,useHostTransitionStatus:Mt,useFormState:Mt,useActionState:Mt,useOptimistic:Mt,useMemoCache:Mt,useCacheRefresh:Mt};_c.useEffectEvent=Mt;var e_={readContext:fn,use:Ah,useCallback:function(i,r){return In().memoizedState=[i,r===void 0?null:r],i},useContext:fn,useEffect:Lb,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Rh(4194308,4,Bb.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Rh(4194308,4,i,r)},useInsertionEffect:function(i,r){Rh(4,2,i,r)},useMemo:function(i,r){var o=In();r=r===void 0?null:r;var u=i();if(Ma){vt(!0);try{i()}finally{vt(!1)}}return o.memoizedState=[u,r],u},useReducer:function(i,r,o){var u=In();if(o!==void 0){var f=o(r);if(Ma){vt(!0);try{o(r)}finally{vt(!1)}}}else f=r;return u.memoizedState=u.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},u.queue=i,i=i.dispatch=yk.bind(null,Be,i),[u.memoizedState,i]},useRef:function(i){var r=In();return i={current:i},r.memoizedState=i},useState:function(i){i=jm(i);var r=i.queue,o=Wb.bind(null,Be,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:Fm,useDeferredValue:function(i,r){var o=In();return qm(o,i,r)},useTransition:function(){var i=jm(!1);return i=Gb.bind(null,Be,i.queue,!0,!1),In().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var u=Be,f=In();if(Je){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),bt===null)throw Error(s(349));(Ge&127)!==0||wb(u,r,o)}f.memoizedState=o;var g={value:o,getSnapshot:r};return f.queue=g,Lb(xb.bind(null,u,g,i),[i]),u.flags|=2048,Lo(9,{destroy:void 0},Tb.bind(null,u,g,o,r),null),o},useId:function(){var i=In(),r=bt.identifierPrefix;if(Je){var o=ls,u=os;o=(u&~(1<<32-xt(u)-1)).toString(32)+o,r="_"+r+"R_"+o,o=Eh++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=uk++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:$m,useFormState:Db,useActionState:Db,useOptimistic:function(i){var r=In();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Gm.bind(null,Be,!0,o),o.dispatch=r,[i,r]},useMemoCache:Vm,useCacheRefresh:function(){return In().memoizedState=gk.bind(null,Be)},useEffectEvent:function(i){var r=In(),o={impl:i};return r.memoizedState=o,function(){if((ot&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Km={readContext:fn,use:Ah,useCallback:qb,useContext:fn,useEffect:Bm,useImperativeHandle:Fb,useInsertionEffect:jb,useLayoutEffect:Ub,useMemo:Hb,useReducer:Ch,useRef:Vb,useState:function(){return Ch(Ls)},useDebugValue:Fm,useDeferredValue:function(i,r){var o=Ut();return $b(o,pt.memoizedState,i,r)},useTransition:function(){var i=Ch(Ls)[0],r=Ut().memoizedState;return[typeof i=="boolean"?i:vc(i),r]},useSyncExternalStore:_b,useId:Qb,useHostTransitionStatus:$m,useFormState:Mb,useActionState:Mb,useOptimistic:function(i,r){var o=Ut();return Ab(o,pt,i,r)},useMemoCache:Vm,useCacheRefresh:Xb};Km.useEffectEvent=zb;var t_={readContext:fn,use:Ah,useCallback:qb,useContext:fn,useEffect:Bm,useImperativeHandle:Fb,useInsertionEffect:jb,useLayoutEffect:Ub,useMemo:Hb,useReducer:zm,useRef:Vb,useState:function(){return zm(Ls)},useDebugValue:Fm,useDeferredValue:function(i,r){var o=Ut();return pt===null?qm(o,i,r):$b(o,pt.memoizedState,i,r)},useTransition:function(){var i=zm(Ls)[0],r=Ut().memoizedState;return[typeof i=="boolean"?i:vc(i),r]},useSyncExternalStore:_b,useId:Qb,useHostTransitionStatus:$m,useFormState:Ob,useActionState:Ob,useOptimistic:function(i,r){var o=Ut();return pt!==null?Ab(o,pt,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Vm,useCacheRefresh:Xb};t_.useEffectEvent=zb;function Ym(i,r,o,u){r=i.memoizedState,o=o(u,r),o=o==null?r:v({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Qm={enqueueSetState:function(i,r,o){i=i._reactInternals;var u=ei(),f=wr(u);f.payload=r,o!=null&&(f.callback=o),r=Tr(i,f,u),r!==null&&(jn(r,i,u),mc(r,i,u))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var u=ei(),f=wr(u);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Tr(i,f,u),r!==null&&(jn(r,i,u),mc(r,i,u))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=ei(),u=wr(o);u.tag=2,r!=null&&(u.callback=r),r=Tr(i,u,o),r!==null&&(jn(r,i,o),mc(r,i,o))}};function n_(i,r,o,u,f,g,_){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,g,_):r.prototype&&r.prototype.isPureReactComponent?!ac(o,u)||!ac(f,g):!0}function i_(i,r,o,u){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==i&&Qm.enqueueReplaceState(r,r.state,null)}function Pa(i,r){var o=r;if("ref"in r){o={};for(var u in r)u!=="ref"&&(o[u]=r[u])}if(i=i.defaultProps){o===r&&(o=v({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}function s_(i){lh(i)}function r_(i){console.error(i)}function a_(i){lh(i)}function Nh(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function o_(i,r,o){try{var u=i.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Xm(i,r,o){return o=wr(o),o.tag=3,o.payload={element:null},o.callback=function(){Nh(i,r)},o}function l_(i){return i=wr(i),i.tag=3,i}function c_(i,r,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;i.payload=function(){return f(g)},i.callback=function(){o_(r,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(i.callback=function(){o_(r,o,u),typeof f!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function vk(i,r,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=o.alternate,r!==null&&ko(r,o,f,!0),o=Xn.current,o!==null){switch(o.tag){case 31:case 13:return mi===null?qh():o.alternate===null&&Pt===0&&(Pt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===vh?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([u]):r.add(u),wp(i,u,f)),!1;case 22:return o.flags|=65536,u===vh?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([u]):o.add(u)),wp(i,u,f)),!1}throw Error(s(435,o.tag))}return wp(i,u,f),qh(),!1}if(Je)return r=Xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,u!==pm&&(i=Error(s(422),{cause:u}),cc(ui(i,o)))):(u!==pm&&(r=Error(s(423),{cause:u}),cc(ui(r,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,u=ui(u,o),f=Xm(i.stateNode,u,f),Am(i,f),Pt!==4&&(Pt=2)),!1;var g=Error(s(520),{cause:u});if(g=ui(g,o),Rc===null?Rc=[g]:Rc.push(g),Pt!==4&&(Pt=2),r===null)return!0;u=ui(u,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=Xm(o.stateNode,u,i),Am(o,i),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Rr===null||!Rr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=l_(f),c_(f,i,o,u),Am(o,f),!1}o=o.return}while(o!==null);return!1}var Wm=Error(s(461)),Qt=!1;function mn(i,r,o,u){r.child=i===null?fb(r,null,o,u):Da(r,i.child,o,u)}function u_(i,r,o,u,f){o=o.render;var g=r.ref;if("ref"in u){var _={};for(var C in u)C!=="ref"&&(_[C]=u[C])}else _=u;return Ra(r),u=Dm(i,r,o,_,g,f),C=Mm(),i!==null&&!Qt?(Pm(i,r,f),zs(i,r,f)):(Je&&C&&fm(r),r.flags|=1,mn(i,r,u,f),r.child)}function h_(i,r,o,u,f){if(i===null){var g=o.type;return typeof g=="function"&&!um(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,d_(i,r,g,u,f)):(i=dh(o.type,null,u,r,r.mode,f),i.ref=r.ref,i.return=r,r.child=i)}if(g=i.child,!rp(i,f)){var _=g.memoizedProps;if(o=o.compare,o=o!==null?o:ac,o(_,u)&&i.ref===r.ref)return zs(i,r,f)}return r.flags|=1,i=Ds(g,u),i.ref=r.ref,i.return=r,r.child=i}function d_(i,r,o,u,f){if(i!==null){var g=i.memoizedProps;if(ac(g,u)&&i.ref===r.ref)if(Qt=!1,r.pendingProps=u=g,rp(i,f))(i.flags&131072)!==0&&(Qt=!0);else return r.lanes=i.lanes,zs(i,r,f)}return Jm(i,r,o,u,f)}function f_(i,r,o,u){var f=u.children,g=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(g=g!==null?g.baseLanes|o:o,i!==null){for(u=r.child=i.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~g}else u=0,r.child=null;return m_(i,r,g,o,u)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&gh(r,g!==null?g.cachePool:null),g!==null?gb(r,g):Rm(),yb(r);else return u=r.lanes=536870912,m_(i,r,g!==null?g.baseLanes|o:o,o,u)}else g!==null?(gh(r,g.cachePool),gb(r,g),Er(),r.memoizedState=null):(i!==null&&gh(r,null),Rm(),Er());return mn(i,r,f,o),r.child}function wc(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function m_(i,r,o,u,f){var g=Tm();return g=g===null?null:{parent:Kt._currentValue,pool:g},r.memoizedState={baseLanes:o,cachePool:g},i!==null&&gh(r,null),Rm(),yb(r),i!==null&&ko(i,r,u,!0),r.childLanes=f,null}function Dh(i,r){return r=Ph({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function p_(i,r,o){return Da(r,i.child,null,o),i=Dh(r,r.pendingProps),i.flags|=2,Wn(r),r.memoizedState=null,i}function bk(i,r,o){var u=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Je){if(u.mode==="hidden")return i=Dh(r,u),r.lanes=536870912,wc(null,i);if(Im(r),(i=Et)?(i=Cw(i,fi),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:gr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},o=Jv(i),o.return=r,r.child=o,dn=r,Et=null)):i=null,i===null)throw vr(r);return r.lanes=536870912,null}return Dh(r,u)}var g=i.memoizedState;if(g!==null){var _=g.dehydrated;if(Im(r),f)if(r.flags&256)r.flags&=-257,r=p_(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(Qt||ko(i,r,o,!1),f=(o&i.childLanes)!==0,Qt||f){if(u=bt,u!==null&&(_=Fl(u,o),_!==0&&_!==g.retryLane))throw g.retryLane=_,Ea(i,_),jn(u,i,_),Wm;qh(),r=p_(i,r,o)}else i=g.treeContext,Et=pi(_.nextSibling),dn=r,Je=!0,yr=null,fi=!1,i!==null&&tb(r,i),r=Dh(r,u),r.flags|=4096;return r}return i=Ds(i.child,{mode:u.mode,children:u.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Mh(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function Jm(i,r,o,u,f){return Ra(r),o=Dm(i,r,o,u,void 0,f),u=Mm(),i!==null&&!Qt?(Pm(i,r,f),zs(i,r,f)):(Je&&u&&fm(r),r.flags|=1,mn(i,r,o,f),r.child)}function g_(i,r,o,u,f,g){return Ra(r),r.updateQueue=null,o=bb(r,u,o,f),vb(i),u=Mm(),i!==null&&!Qt?(Pm(i,r,g),zs(i,r,g)):(Je&&u&&fm(r),r.flags|=1,mn(i,r,o,g),r.child)}function y_(i,r,o,u,f){if(Ra(r),r.stateNode===null){var g=So,_=o.contextType;typeof _=="object"&&_!==null&&(g=fn(_)),g=new o(u,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Qm,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=u,g.state=r.memoizedState,g.refs={},Em(r),_=o.contextType,g.context=typeof _=="object"&&_!==null?fn(_):So,g.state=r.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Ym(r,o,_,u),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&Qm.enqueueReplaceState(g,g.state,null),gc(r,u,g,f),pc(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(i===null){g=r.stateNode;var C=r.memoizedProps,O=Pa(o,C);g.props=O;var G=g.context,ie=o.contextType;_=So,typeof ie=="object"&&ie!==null&&(_=fn(ie));var le=o.getDerivedStateFromProps;ie=typeof le=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=r.pendingProps!==C,ie||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||G!==_)&&i_(r,g,u,_),_r=!1;var K=r.memoizedState;g.state=K,gc(r,u,g,f),pc(),G=r.memoizedState,C||K!==G||_r?(typeof le=="function"&&(Ym(r,o,le,u),G=r.memoizedState),(O=_r||n_(r,o,O,u,K,G,_))?(ie||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),g.props=u,g.state=G,g.context=_,u=O):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{g=r.stateNode,Sm(i,r),_=r.memoizedProps,ie=Pa(o,_),g.props=ie,le=r.pendingProps,K=g.context,G=o.contextType,O=So,typeof G=="object"&&G!==null&&(O=fn(G)),C=o.getDerivedStateFromProps,(G=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==le||K!==O)&&i_(r,g,u,O),_r=!1,K=r.memoizedState,g.state=K,gc(r,u,g,f),pc();var ee=r.memoizedState;_!==le||K!==ee||_r||i!==null&&i.dependencies!==null&&mh(i.dependencies)?(typeof C=="function"&&(Ym(r,o,C,u),ee=r.memoizedState),(ie=_r||n_(r,o,ie,u,K,ee,O)||i!==null&&i.dependencies!==null&&mh(i.dependencies))?(G||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ee,O),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ee,O)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ee),g.props=u,g.state=ee,g.context=O,u=ie):(typeof g.componentDidUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===i.memoizedProps&&K===i.memoizedState||(r.flags|=1024),u=!1)}return g=u,Mh(i,r),u=(r.flags&128)!==0,g||u?(g=r.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,i!==null&&u?(r.child=Da(r,i.child,null,f),r.child=Da(r,null,o,f)):mn(i,r,o,f),r.memoizedState=g.state,i=r.child):i=zs(i,r,f),i}function v_(i,r,o,u){return Aa(),r.flags|=256,mn(i,r,o,u),r.child}var Zm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ep(i){return{baseLanes:i,cachePool:ob()}}function tp(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=Zn),i}function b_(i,r,o){var u=r.pendingProps,f=!1,g=(r.flags&128)!==0,_;if((_=g)||(_=i!==null&&i.memoizedState===null?!1:(jt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,i===null){if(Je){if(f?xr(r):Er(),(i=Et)?(i=Cw(i,fi),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:gr!==null?{id:os,overflow:ls}:null,retryLane:536870912,hydrationErrors:null},o=Jv(i),o.return=r,r.child=o,dn=r,Et=null)):i=null,i===null)throw vr(r);return Lp(i)?r.lanes=32:r.lanes=536870912,null}var C=u.children;return u=u.fallback,f?(Er(),f=r.mode,C=Ph({mode:"hidden",children:C},f),u=Sa(u,f,o,null),C.return=r,u.return=r,C.sibling=u,r.child=C,u=r.child,u.memoizedState=ep(o),u.childLanes=tp(i,_,o),r.memoizedState=Zm,wc(null,u)):(xr(r),np(r,C))}var O=i.memoizedState;if(O!==null&&(C=O.dehydrated,C!==null)){if(g)r.flags&256?(xr(r),r.flags&=-257,r=ip(i,r,o)):r.memoizedState!==null?(Er(),r.child=i.child,r.flags|=128,r=null):(Er(),C=u.fallback,f=r.mode,u=Ph({mode:"visible",children:u.children},f),C=Sa(C,f,o,null),C.flags|=2,u.return=r,C.return=r,u.sibling=C,r.child=u,Da(r,i.child,null,o),u=r.child,u.memoizedState=ep(o),u.childLanes=tp(i,_,o),r.memoizedState=Zm,r=wc(null,u));else if(xr(r),Lp(C)){if(_=C.nextSibling&&C.nextSibling.dataset,_)var G=_.dgst;_=G,u=Error(s(419)),u.stack="",u.digest=_,cc({value:u,source:null,stack:null}),r=ip(i,r,o)}else if(Qt||ko(i,r,o,!1),_=(o&i.childLanes)!==0,Qt||_){if(_=bt,_!==null&&(u=Fl(_,o),u!==0&&u!==O.retryLane))throw O.retryLane=u,Ea(i,u),jn(_,i,u),Wm;Vp(C)||qh(),r=ip(i,r,o)}else Vp(C)?(r.flags|=192,r.child=i.child,r=null):(i=O.treeContext,Et=pi(C.nextSibling),dn=r,Je=!0,yr=null,fi=!1,i!==null&&tb(r,i),r=np(r,u.children),r.flags|=4096);return r}return f?(Er(),C=u.fallback,f=r.mode,O=i.child,G=O.sibling,u=Ds(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,G!==null?C=Ds(G,C):(C=Sa(C,f,o,null),C.flags|=2),C.return=r,u.return=r,u.sibling=C,r.child=u,wc(null,u),u=r.child,C=i.child.memoizedState,C===null?C=ep(o):(f=C.cachePool,f!==null?(O=Kt._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=ob(),C={baseLanes:C.baseLanes|o,cachePool:f}),u.memoizedState=C,u.childLanes=tp(i,_,o),r.memoizedState=Zm,wc(i.child,u)):(xr(r),o=i.child,i=o.sibling,o=Ds(o,{mode:"visible",children:u.children}),o.return=r,o.sibling=null,i!==null&&(_=r.deletions,_===null?(r.deletions=[i],r.flags|=16):_.push(i)),r.child=o,r.memoizedState=null,o)}function np(i,r){return r=Ph({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Ph(i,r){return i=Qn(22,i,null,r),i.lanes=0,i}function ip(i,r,o){return Da(r,i.child,null,o),i=np(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function __(i,r,o){i.lanes|=r;var u=i.alternate;u!==null&&(u.lanes|=r),vm(i.return,r,o)}function sp(i,r,o,u,f,g){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:g}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f,_.treeForkCount=g)}function w_(i,r,o){var u=r.pendingProps,f=u.revealOrder,g=u.tail;u=u.children;var _=jt.current,C=(_&2)!==0;if(C?(_=_&1|2,r.flags|=128):_&=1,Y(jt,_),mn(i,r,u,o),u=Je?lc:0,!C&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&__(i,o,r);else if(i.tag===19)__(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(f){case"forwards":for(o=r.child,f=null;o!==null;)i=o.alternate,i!==null&&Th(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),sp(r,!1,f,o,g,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(i=f.alternate,i!==null&&Th(i)===null){r.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}sp(r,!0,o,null,g,u);break;case"together":sp(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function zs(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),Cr|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(ko(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=Ds(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=Ds(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function rp(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&mh(i)))}function _k(i,r,o){switch(r.tag){case 3:Se(r,r.stateNode.containerInfo),br(r,Kt,i.memoizedState.cache),Aa();break;case 27:case 5:We(r);break;case 4:Se(r,r.stateNode.containerInfo);break;case 10:br(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Im(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(xr(r),r.flags|=128,null):(o&r.child.childLanes)!==0?b_(i,r,o):(xr(r),i=zs(i,r,o),i!==null?i.sibling:null);xr(r);break;case 19:var f=(i.flags&128)!==0;if(u=(o&r.childLanes)!==0,u||(ko(i,r,o,!1),u=(o&r.childLanes)!==0),f){if(u)return w_(i,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Y(jt,jt.current),u)break;return null;case 22:return r.lanes=0,f_(i,r,o,r.pendingProps);case 24:br(r,Kt,i.memoizedState.cache)}return zs(i,r,o)}function T_(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)Qt=!0;else{if(!rp(i,o)&&(r.flags&128)===0)return Qt=!1,_k(i,r,o);Qt=(i.flags&131072)!==0}else Qt=!1,Je&&(r.flags&1048576)!==0&&eb(r,lc,r.index);switch(r.lanes=0,r.tag){case 16:e:{var u=r.pendingProps;if(i=Ia(r.elementType),r.type=i,typeof i=="function")um(i)?(u=Pa(i,u),r.tag=1,r=y_(null,r,i,u,o)):(r.tag=0,r=Jm(null,r,i,u,o));else{if(i!=null){var f=i.$$typeof;if(f===re){r.tag=11,r=u_(null,r,i,u,o);break e}else if(f===R){r.tag=14,r=h_(null,r,i,u,o);break e}}throw r=Re(i)||i,Error(s(306,r,""))}}return r;case 0:return Jm(i,r,r.type,r.pendingProps,o);case 1:return u=r.type,f=Pa(u,r.pendingProps),y_(i,r,u,f,o);case 3:e:{if(Se(r,r.stateNode.containerInfo),i===null)throw Error(s(387));u=r.pendingProps;var g=r.memoizedState;f=g.element,Sm(i,r),gc(r,u,null,o);var _=r.memoizedState;if(u=_.cache,br(r,Kt,u),u!==g.cache&&bm(r,[Kt],o,!0),pc(),u=_.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=v_(i,r,u,o);break e}else if(u!==f){f=ui(Error(s(424)),r),cc(f),r=v_(i,r,u,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Et=pi(i.firstChild),dn=r,Je=!0,yr=null,fi=!0,o=fb(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Aa(),u===f){r=zs(i,r,o);break e}mn(i,r,u,o)}r=r.child}return r;case 26:return Mh(i,r),i===null?(o=Mw(r.type,null,r.pendingProps,null))?r.memoizedState=o:Je||(o=r.type,i=r.pendingProps,u=Xh(fe.current).createElement(o),u[Ht]=r,u[on]=i,pn(u,o,i),$t(u),r.stateNode=u):r.memoizedState=Mw(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return We(r),i===null&&Je&&(u=r.stateNode=Iw(r.type,r.pendingProps,fe.current),dn=r,fi=!0,f=Et,Dr(r.type)?(zp=f,Et=pi(u.firstChild)):Et=f),mn(i,r,r.pendingProps.children,o),Mh(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Je&&((f=u=Et)&&(u=Xk(u,r.type,r.pendingProps,fi),u!==null?(r.stateNode=u,dn=r,Et=pi(u.firstChild),fi=!1,f=!0):f=!1),f||vr(r)),We(r),f=r.type,g=r.pendingProps,_=i!==null?i.memoizedProps:null,u=g.children,Mp(f,g)?u=null:_!==null&&Mp(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Dm(i,r,hk,null,null,o),Vc._currentValue=f),Mh(i,r),mn(i,r,u,o),r.child;case 6:return i===null&&Je&&((i=o=Et)&&(o=Wk(o,r.pendingProps,fi),o!==null?(r.stateNode=o,dn=r,Et=null,i=!0):i=!1),i||vr(r)),null;case 13:return b_(i,r,o);case 4:return Se(r,r.stateNode.containerInfo),u=r.pendingProps,i===null?r.child=Da(r,null,u,o):mn(i,r,u,o),r.child;case 11:return u_(i,r,r.type,r.pendingProps,o);case 7:return mn(i,r,r.pendingProps,o),r.child;case 8:return mn(i,r,r.pendingProps.children,o),r.child;case 12:return mn(i,r,r.pendingProps.children,o),r.child;case 10:return u=r.pendingProps,br(r,r.type,u.value),mn(i,r,u.children,o),r.child;case 9:return f=r.type._context,u=r.pendingProps.children,Ra(r),f=fn(f),u=u(f),r.flags|=1,mn(i,r,u,o),r.child;case 14:return h_(i,r,r.type,r.pendingProps,o);case 15:return d_(i,r,r.type,r.pendingProps,o);case 19:return w_(i,r,o);case 31:return bk(i,r,o);case 22:return f_(i,r,o,r.pendingProps);case 24:return Ra(r),u=fn(Kt),i===null?(f=Tm(),f===null&&(f=bt,g=_m(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),r.memoizedState={parent:u,cache:f},Em(r),br(r,Kt,f)):((i.lanes&o)!==0&&(Sm(i,r),gc(r,null,null,o),pc()),f=i.memoizedState,g=r.memoizedState,f.parent!==u?(f={parent:u,cache:u},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),br(r,Kt,u)):(u=g.cache,br(r,Kt,u),u!==f.cache&&bm(r,[Kt],o,!0))),mn(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function js(i){i.flags|=4}function ap(i,r,o,u,f){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(f&335544128)===f)if(i.stateNode.complete)i.flags|=8192;else if(Q_())i.flags|=8192;else throw Na=vh,xm}else i.flags&=-16777217}function x_(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!zw(r))if(Q_())i.flags|=8192;else throw Na=vh,xm}function Oh(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?Bu():536870912,i.lanes|=r,Bo|=r)}function Tc(i,r){if(!Je)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function St(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,u=0;if(r)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=u,i.childLanes=o,r}function wk(i,r,o){var u=r.pendingProps;switch(mm(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(r),null;case 1:return St(r),null;case 3:return o=r.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),Os(Kt),ke(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Ro(r)?js(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,gm())),St(r),null;case 26:var f=r.type,g=r.memoizedState;return i===null?(js(r),g!==null?(St(r),x_(r,g)):(St(r),ap(r,f,null,u,o))):g?g!==i.memoizedState?(js(r),St(r),x_(r,g)):(St(r),r.flags&=-16777217):(i=i.memoizedProps,i!==u&&js(r),St(r),ap(r,f,i,u,o)),null;case 27:if($e(r),o=fe.current,f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&js(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return St(r),null}i=ne.current,Ro(r)?nb(r):(i=Iw(f,u,o),r.stateNode=i,js(r))}return St(r),null;case 5:if($e(r),f=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==u&&js(r);else{if(!u){if(r.stateNode===null)throw Error(s(166));return St(r),null}if(g=ne.current,Ro(r))nb(r);else{var _=Xh(fe.current);switch(g){case 1:g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=_.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?g.multiple=!0:u.size&&(g.size=u.size);break;default:g=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}g[Ht]=r,g[on]=u;e:for(_=r.child;_!==null;){if(_.tag===5||_.tag===6)g.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===r)break e;for(;_.sibling===null;){if(_.return===null||_.return===r)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}r.stateNode=g;e:switch(pn(g,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&js(r)}}return St(r),ap(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==u&&js(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(s(166));if(i=fe.current,Ro(r)){if(i=r.stateNode,o=r.memoizedProps,u=null,f=dn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}i[Ht]=r,i=!!(i.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||bw(i.nodeValue,o)),i||vr(r,!0)}else i=Xh(i).createTextNode(u),i[Ht]=r,r.stateNode=i}return St(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(u=Ro(r),o!==null){if(i===null){if(!u)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[Ht]=r}else Aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;St(r),i=!1}else o=gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(Wn(r),r):(Wn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return St(r),null;case 13:if(u=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Ro(r),u!==null&&u.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ht]=r}else Aa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;St(r),f=!1}else f=gm(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Wn(r),r):(Wn(r),null)}return Wn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=u!==null,i=i!==null&&i.memoizedState!==null,o&&(u=r.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),Oh(r,r.updateQueue),St(r),null);case 4:return ke(),i===null&&Rp(r.stateNode.containerInfo),St(r),null;case 10:return Os(r.type),St(r),null;case 19:if(B(jt),u=r.memoizedState,u===null)return St(r),null;if(f=(r.flags&128)!==0,g=u.rendering,g===null)if(f)Tc(u,!1);else{if(Pt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(g=Th(i),g!==null){for(r.flags|=128,Tc(u,!1),i=g.updateQueue,r.updateQueue=i,Oh(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)Wv(o,i),o=o.sibling;return Y(jt,jt.current&1|2),Je&&Ms(r,u.treeForkCount),r.child}i=i.sibling}u.tail!==null&&Ft()>Uh&&(r.flags|=128,f=!0,Tc(u,!1),r.lanes=4194304)}else{if(!f)if(i=Th(g),i!==null){if(r.flags|=128,f=!0,i=i.updateQueue,r.updateQueue=i,Oh(r,i),Tc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!g.alternate&&!Je)return St(r),null}else 2*Ft()-u.renderingStartTime>Uh&&o!==536870912&&(r.flags|=128,f=!0,Tc(u,!1),r.lanes=4194304);u.isBackwards?(g.sibling=r.child,r.child=g):(i=u.last,i!==null?i.sibling=g:r.child=g,u.last=g)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Ft(),i.sibling=null,o=jt.current,Y(jt,f?o&1|2:o&1),Je&&Ms(r,u.treeForkCount),i):(St(r),null);case 22:case 23:return Wn(r),km(),u=r.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(o&536870912)!==0&&(r.flags&128)===0&&(St(r),r.subtreeFlags&6&&(r.flags|=8192)):St(r),o=r.updateQueue,o!==null&&Oh(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==o&&(r.flags|=2048),i!==null&&B(ka),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),Os(Kt),St(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Tk(i,r){switch(mm(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return Os(Kt),ke(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return $e(r),null;case 31:if(r.memoizedState!==null){if(Wn(r),r.alternate===null)throw Error(s(340));Aa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(Wn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Aa()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return B(jt),null;case 4:return ke(),null;case 10:return Os(r.type),null;case 22:case 23:return Wn(r),km(),i!==null&&B(ka),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return Os(Kt),null;case 25:return null;default:return null}}function E_(i,r){switch(mm(r),r.tag){case 3:Os(Kt),ke();break;case 26:case 27:case 5:$e(r);break;case 4:ke();break;case 31:r.memoizedState!==null&&Wn(r);break;case 13:Wn(r);break;case 19:B(jt);break;case 10:Os(r.type);break;case 22:case 23:Wn(r),km(),i!==null&&B(ka);break;case 24:Os(Kt)}}function xc(i,r){try{var o=r.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&i)===i){u=void 0;var g=o.create,_=o.inst;u=g(),_.destroy=u}o=o.next}while(o!==f)}}catch(C){ft(r,r.return,C)}}function Sr(i,r,o){try{var u=r.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&i)===i){var _=u.inst,C=_.destroy;if(C!==void 0){_.destroy=void 0,f=r;var O=o,G=C;try{G()}catch(ie){ft(f,O,ie)}}}u=u.next}while(u!==g)}}catch(ie){ft(r,r.return,ie)}}function S_(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{pb(r,o)}catch(u){ft(i,i.return,u)}}}function A_(i,r,o){o.props=Pa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(u){ft(i,r,u)}}function Ec(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof o=="function"?i.refCleanup=o(u):o.current=u}}catch(f){ft(i,r,f)}}function cs(i,r){var o=i.ref,u=i.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ft(i,r,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ft(i,r,f)}else o.current=null}function C_(i){var r=i.type,o=i.memoizedProps,u=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ft(i,i.return,f)}}function op(i,r,o){try{var u=i.stateNode;Hk(u,i.type,o,r),u[on]=r}catch(f){ft(i,i.return,f)}}function R_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Dr(i.type)||i.tag===4}function lp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||R_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Dr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function cp(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ai));else if(u!==4&&(u===27&&Dr(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(cp(i,r,o),i=i.sibling;i!==null;)cp(i,r,o),i=i.sibling}function Vh(i,r,o){var u=i.tag;if(u===5||u===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(u!==4&&(u===27&&Dr(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Vh(i,r,o),i=i.sibling;i!==null;)Vh(i,r,o),i=i.sibling}function k_(i){var r=i.stateNode,o=i.memoizedProps;try{for(var u=i.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);pn(r,u,o),r[Ht]=i,r[on]=o}catch(g){ft(i,i.return,g)}}var Us=!1,Xt=!1,up=!1,I_=typeof WeakSet=="function"?WeakSet:Set,cn=null;function xk(i,r){if(i=i.containerInfo,Np=id,i=Fv(i),im(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var _=0,C=-1,O=-1,G=0,ie=0,le=i,K=null;t:for(;;){for(var ee;le!==o||f!==0&&le.nodeType!==3||(C=_+f),le!==g||u!==0&&le.nodeType!==3||(O=_+u),le.nodeType===3&&(_+=le.nodeValue.length),(ee=le.firstChild)!==null;)K=le,le=ee;for(;;){if(le===i)break t;if(K===o&&++G===f&&(C=_),K===g&&++ie===u&&(O=_),(ee=le.nextSibling)!==null)break;le=K,K=le.parentNode}le=ee}o=C===-1||O===-1?null:{start:C,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dp={focusedElem:i,selectionRange:o},id=!1,cn=r;cn!==null;)if(r=cn,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,cn=i;else for(;cn!==null;){switch(r=cn,g=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)f=i[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,o=r,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var _e=Pa(o.type,f);i=u.getSnapshotBeforeUpdate(_e,g),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ie){ft(o,o.return,Ie)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Op(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Op(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,cn=i;break}cn=r.return}}function N_(i,r,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Fs(i,o),u&4&&xc(5,o);break;case 1:if(Fs(i,o),u&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(_){ft(o,o.return,_)}else{var f=Pa(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(f,r,i.__reactInternalSnapshotBeforeUpdate)}catch(_){ft(o,o.return,_)}}u&64&&S_(o),u&512&&Ec(o,o.return);break;case 3:if(Fs(i,o),u&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{pb(i,r)}catch(_){ft(o,o.return,_)}}break;case 27:r===null&&u&4&&k_(o);case 26:case 5:Fs(i,o),r===null&&u&4&&C_(o),u&512&&Ec(o,o.return);break;case 12:Fs(i,o);break;case 31:Fs(i,o),u&4&&P_(i,o);break;case 13:Fs(i,o),u&4&&O_(i,o),u&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=Dk.bind(null,o),Jk(i,o))));break;case 22:if(u=o.memoizedState!==null||Us,!u){r=r!==null&&r.memoizedState!==null||Xt,f=Us;var g=Xt;Us=u,(Xt=r)&&!g?qs(i,o,(o.subtreeFlags&8772)!==0):Fs(i,o),Us=f,Xt=g}break;case 30:break;default:Fs(i,o)}}function D_(i){var r=i.alternate;r!==null&&(i.alternate=null,D_(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&uo(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ct=null,On=!1;function Bs(i,r,o){for(o=o.child;o!==null;)M_(i,r,o),o=o.sibling}function M_(i,r,o){if(Te&&typeof Te.onCommitFiberUnmount=="function")try{Te.onCommitFiberUnmount(pe,o)}catch{}switch(o.tag){case 26:Xt||cs(o,r),Bs(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Xt||cs(o,r);var u=Ct,f=On;Dr(o.type)&&(Ct=o.stateNode,On=!1),Bs(i,r,o),Mc(o.stateNode),Ct=u,On=f;break;case 5:Xt||cs(o,r);case 6:if(u=Ct,f=On,Ct=null,Bs(i,r,o),Ct=u,On=f,Ct!==null)if(On)try{(Ct.nodeType===9?Ct.body:Ct.nodeName==="HTML"?Ct.ownerDocument.body:Ct).removeChild(o.stateNode)}catch(g){ft(o,r,g)}else try{Ct.removeChild(o.stateNode)}catch(g){ft(o,r,g)}break;case 18:Ct!==null&&(On?(i=Ct,Sw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Qo(i)):Sw(Ct,o.stateNode));break;case 4:u=Ct,f=On,Ct=o.stateNode.containerInfo,On=!0,Bs(i,r,o),Ct=u,On=f;break;case 0:case 11:case 14:case 15:Sr(2,o,r),Xt||Sr(4,o,r),Bs(i,r,o);break;case 1:Xt||(cs(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"&&A_(o,r,u)),Bs(i,r,o);break;case 21:Bs(i,r,o);break;case 22:Xt=(u=Xt)||o.memoizedState!==null,Bs(i,r,o),Xt=u;break;default:Bs(i,r,o)}}function P_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Qo(i)}catch(o){ft(r,r.return,o)}}}function O_(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Qo(i)}catch(o){ft(r,r.return,o)}}function Ek(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new I_),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new I_),r;default:throw Error(s(435,i.tag))}}function Lh(i,r){var o=Ek(i);r.forEach(function(u){if(!o.has(u)){o.add(u);var f=Mk.bind(null,i,u);u.then(f,f)}})}function Vn(i,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=i,_=r,C=_;e:for(;C!==null;){switch(C.tag){case 27:if(Dr(C.type)){Ct=C.stateNode,On=!1;break e}break;case 5:Ct=C.stateNode,On=!1;break e;case 3:case 4:Ct=C.stateNode.containerInfo,On=!0;break e}C=C.return}if(Ct===null)throw Error(s(160));M_(g,_,f),Ct=null,On=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)V_(r,i),r=r.sibling}var Di=null;function V_(i,r){var o=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Vn(r,i),Ln(i),u&4&&(Sr(3,i,i.return),xc(3,i),Sr(5,i,i.return));break;case 1:Vn(r,i),Ln(i),u&512&&(Xt||o===null||cs(o,o.return)),u&64&&Us&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=Di;if(Vn(r,i),Ln(i),u&512&&(Xt||o===null||cs(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=i.memoizedState,o===null)if(u===null)if(i.stateNode===null){e:{u=i.type,o=i.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Qi]||g[Ht]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),pn(g,u,o),g[Ht]=i,$t(g),u=g;break e;case"link":var _=Vw("link","href",f).get(u+(o.href||""));if(_){for(var C=0;C<_.length;C++)if(g=_[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(C,1);break t}}g=f.createElement(u),pn(g,u,o),f.head.appendChild(g);break;case"meta":if(_=Vw("meta","content",f).get(u+(o.content||""))){for(C=0;C<_.length;C++)if(g=_[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(C,1);break t}}g=f.createElement(u),pn(g,u,o),f.head.appendChild(g);break;default:throw Error(s(468,u))}g[Ht]=i,$t(g),u=g}i.stateNode=u}else Lw(f,i.type,i.stateNode);else i.stateNode=Ow(f,u,i.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?Lw(f,i.type,i.stateNode):Ow(f,u,i.memoizedProps)):u===null&&i.stateNode!==null&&op(i,i.memoizedProps,o.memoizedProps)}break;case 27:Vn(r,i),Ln(i),u&512&&(Xt||o===null||cs(o,o.return)),o!==null&&u&4&&op(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Vn(r,i),Ln(i),u&512&&(Xt||o===null||cs(o,o.return)),i.flags&32){f=i.stateNode;try{Pn(f,"")}catch(_e){ft(i,i.return,_e)}}u&4&&i.stateNode!=null&&(f=i.memoizedProps,op(i,f,o!==null?o.memoizedProps:f)),u&1024&&(up=!0);break;case 6:if(Vn(r,i),Ln(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,o=i.stateNode;try{o.nodeValue=u}catch(_e){ft(i,i.return,_e)}}break;case 3:if(Zh=null,f=Di,Di=Wh(r.containerInfo),Vn(r,i),Di=f,Ln(i),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Qo(r.containerInfo)}catch(_e){ft(i,i.return,_e)}up&&(up=!1,L_(i));break;case 4:u=Di,Di=Wh(i.stateNode.containerInfo),Vn(r,i),Ln(i),Di=u;break;case 12:Vn(r,i),Ln(i);break;case 31:Vn(r,i),Ln(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lh(i,u)));break;case 13:Vn(r,i),Ln(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(jh=Ft()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lh(i,u)));break;case 22:f=i.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,G=Us,ie=Xt;if(Us=G||f,Xt=ie||O,Vn(r,i),Xt=ie,Us=G,Ln(i),u&8192)e:for(r=i.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(o===null||O||Us||Xt||Oa(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){O=o=r;try{if(g=O.stateNode,f)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{C=O.stateNode;var le=O.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null;C.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(_e){ft(O,O.return,_e)}}}else if(r.tag===6){if(o===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(_e){ft(O,O.return,_e)}}}else if(r.tag===18){if(o===null){O=r;try{var ee=O.stateNode;f?Aw(ee,!0):Aw(O.stateNode,!1)}catch(_e){ft(O,O.return,_e)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=i.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Lh(i,o))));break;case 19:Vn(r,i),Ln(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Lh(i,u)));break;case 30:break;case 21:break;default:Vn(r,i),Ln(i)}}function Ln(i){var r=i.flags;if(r&2){try{for(var o,u=i.return;u!==null;){if(R_(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,g=lp(i);Vh(i,g,f);break;case 5:var _=o.stateNode;o.flags&32&&(Pn(_,""),o.flags&=-33);var C=lp(i);Vh(i,C,_);break;case 3:case 4:var O=o.stateNode.containerInfo,G=lp(i);cp(i,G,O);break;default:throw Error(s(161))}}catch(ie){ft(i,i.return,ie)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function L_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;L_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function Fs(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)N_(i,r.alternate,r),r=r.sibling}function Oa(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Sr(4,r,r.return),Oa(r);break;case 1:cs(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&A_(r,r.return,o),Oa(r);break;case 27:Mc(r.stateNode);case 26:case 5:cs(r,r.return),Oa(r);break;case 22:r.memoizedState===null&&Oa(r);break;case 30:Oa(r);break;default:Oa(r)}i=i.sibling}}function qs(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,f=i,g=r,_=g.flags;switch(g.tag){case 0:case 11:case 15:qs(f,g,o),xc(4,g);break;case 1:if(qs(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(G){ft(u,u.return,G)}if(u=g,f=u.updateQueue,f!==null){var C=u.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)mb(O[f],C)}catch(G){ft(u,u.return,G)}}o&&_&64&&S_(g),Ec(g,g.return);break;case 27:k_(g);case 26:case 5:qs(f,g,o),o&&u===null&&_&4&&C_(g),Ec(g,g.return);break;case 12:qs(f,g,o);break;case 31:qs(f,g,o),o&&_&4&&P_(f,g);break;case 13:qs(f,g,o),o&&_&4&&O_(f,g);break;case 22:g.memoizedState===null&&qs(f,g,o),Ec(g,g.return);break;case 30:break;default:qs(f,g,o)}r=r.sibling}}function hp(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&uc(o))}function dp(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&uc(i))}function Mi(i,r,o,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)z_(i,r,o,u),r=r.sibling}function z_(i,r,o,u){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Mi(i,r,o,u),f&2048&&xc(9,r);break;case 1:Mi(i,r,o,u);break;case 3:Mi(i,r,o,u),f&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&uc(i)));break;case 12:if(f&2048){Mi(i,r,o,u),i=r.stateNode;try{var g=r.memoizedProps,_=g.id,C=g.onPostCommit;typeof C=="function"&&C(_,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(O){ft(r,r.return,O)}}else Mi(i,r,o,u);break;case 31:Mi(i,r,o,u);break;case 13:Mi(i,r,o,u);break;case 23:break;case 22:g=r.stateNode,_=r.alternate,r.memoizedState!==null?g._visibility&2?Mi(i,r,o,u):Sc(i,r):g._visibility&2?Mi(i,r,o,u):(g._visibility|=2,zo(i,r,o,u,(r.subtreeFlags&10256)!==0||!1)),f&2048&&hp(_,r);break;case 24:Mi(i,r,o,u),f&2048&&dp(r.alternate,r);break;default:Mi(i,r,o,u)}}function zo(i,r,o,u,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var g=i,_=r,C=o,O=u,G=_.flags;switch(_.tag){case 0:case 11:case 15:zo(g,_,C,O,f),xc(8,_);break;case 23:break;case 22:var ie=_.stateNode;_.memoizedState!==null?ie._visibility&2?zo(g,_,C,O,f):Sc(g,_):(ie._visibility|=2,zo(g,_,C,O,f)),f&&G&2048&&hp(_.alternate,_);break;case 24:zo(g,_,C,O,f),f&&G&2048&&dp(_.alternate,_);break;default:zo(g,_,C,O,f)}r=r.sibling}}function Sc(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,u=r,f=u.flags;switch(u.tag){case 22:Sc(o,u),f&2048&&hp(u.alternate,u);break;case 24:Sc(o,u),f&2048&&dp(u.alternate,u);break;default:Sc(o,u)}r=r.sibling}}var Ac=8192;function jo(i,r,o){if(i.subtreeFlags&Ac)for(i=i.child;i!==null;)j_(i,r,o),i=i.sibling}function j_(i,r,o){switch(i.tag){case 26:jo(i,r,o),i.flags&Ac&&i.memoizedState!==null&&uI(o,Di,i.memoizedState,i.memoizedProps);break;case 5:jo(i,r,o);break;case 3:case 4:var u=Di;Di=Wh(i.stateNode.containerInfo),jo(i,r,o),Di=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=Ac,Ac=16777216,jo(i,r,o),Ac=u):jo(i,r,o));break;default:jo(i,r,o)}}function U_(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Cc(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];cn=u,F_(u,i)}U_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)B_(i),i=i.sibling}function B_(i){switch(i.tag){case 0:case 11:case 15:Cc(i),i.flags&2048&&Sr(9,i,i.return);break;case 3:Cc(i);break;case 12:Cc(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,zh(i)):Cc(i);break;default:Cc(i)}}function zh(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var u=r[o];cn=u,F_(u,i)}U_(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Sr(8,r,r.return),zh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,zh(r));break;default:zh(r)}i=i.sibling}}function F_(i,r){for(;cn!==null;){var o=cn;switch(o.tag){case 0:case 11:case 15:Sr(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:uc(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,cn=u;else e:for(o=i;cn!==null;){u=cn;var f=u.sibling,g=u.return;if(D_(u),u===o){cn=null;break e}if(f!==null){f.return=g,cn=f;break e}cn=g}}}var Sk={getCacheForType:function(i){var r=fn(Kt),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return fn(Kt).controller.signal}},Ak=typeof WeakMap=="function"?WeakMap:Map,ot=0,bt=null,qe=null,Ge=0,dt=0,Jn=null,Ar=!1,Uo=!1,fp=!1,Hs=0,Pt=0,Cr=0,Va=0,mp=0,Zn=0,Bo=0,Rc=null,zn=null,pp=!1,jh=0,q_=0,Uh=1/0,Bh=null,Rr=null,nn=0,kr=null,Fo=null,$s=0,gp=0,yp=null,H_=null,kc=0,vp=null;function ei(){return(ot&2)!==0&&Ge!==0?Ge&-Ge:X.T!==null?Ep():Fu()}function $_(){if(Zn===0)if((Ge&536870912)===0||Je){var i=ca;ca<<=1,(ca&3932160)===0&&(ca=262144),Zn=i}else Zn=536870912;return i=Xn.current,i!==null&&(i.flags|=32),Zn}function jn(i,r,o){(i===bt&&(dt===2||dt===9)||i.cancelPendingCommit!==null)&&(qo(i,0),Ir(i,Ge,Zn,!1)),ua(i,o),((ot&2)===0||i!==bt)&&(i===bt&&((ot&2)===0&&(Va|=o),Pt===4&&Ir(i,Ge,Zn,!1)),us(i))}function G_(i,r,o){if((ot&6)!==0)throw Error(s(327));var u=!o&&(r&127)===0&&(r&i.expiredLanes)===0||xi(i,r),f=u?kk(i,r):_p(i,r,!0),g=u;do{if(f===0){Uo&&!u&&Ir(i,r,0,!1);break}else{if(o=i.current.alternate,g&&!Ck(o)){f=_p(i,r,!1),g=!1;continue}if(f===2){if(g=r,i.errorRecoveryDisabledLanes&g)var _=0;else _=i.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var C=i;f=Rc;var O=C.current.memoizedState.isDehydrated;if(O&&(qo(C,_).flags|=256),_=_p(C,_,!1),_!==2){if(fp&&!O){C.errorRecoveryDisabledLanes|=g,Va|=g,f=4;break e}g=zn,zn=f,g!==null&&(zn===null?zn=g:zn.push.apply(zn,g))}f=_}if(g=!1,f!==2)continue}}if(f===1){qo(i,0),Ir(i,r,0,!0);break}e:{switch(u=i,g=f,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ir(u,r,Zn,!Ar);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=jh+300-Ft(),10<f)){if(Ir(u,r,Zn,!Ar),Gi(u,0,!0)!==0)break e;$s=r,u.timeoutHandle=xw(K_.bind(null,u,o,zn,Bh,pp,r,Zn,Va,Bo,Ar,g,"Throttled",-0,0),f);break e}K_(u,o,zn,Bh,pp,r,Zn,Va,Bo,Ar,g,null,-0,0)}}break}while(!0);us(i)}function K_(i,r,o,u,f,g,_,C,O,G,ie,le,K,ee){if(i.timeoutHandle=-1,le=r.subtreeFlags,le&8192||(le&16785408)===16785408){le={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},j_(r,g,le);var _e=(g&62914560)===g?jh-Ft():(g&4194048)===g?q_-Ft():0;if(_e=hI(le,_e),_e!==null){$s=g,i.cancelPendingCommit=_e(tw.bind(null,i,r,g,o,u,f,_,C,O,ie,le,null,K,ee)),Ir(i,g,_,!G);return}}tw(i,r,g,o,u,f,_,C,O)}function Ck(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Yn(g(),f))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ir(i,r,o,u){r&=~mp,r&=~Va,i.suspendedLanes|=r,i.pingedLanes&=~r,u&&(i.warmLanes|=r),u=i.expirationTimes;for(var f=r;0<f;){var g=31-xt(f),_=1<<g;u[g]=-1,f&=~_}o!==0&&ha(i,o,r)}function Fh(){return(ot&6)===0?(Ic(0),!1):!0}function bp(){if(qe!==null){if(dt===0)var i=qe.return;else i=qe,Ps=Ca=null,Om(i),Mo=null,dc=0,i=qe;for(;i!==null;)E_(i.alternate,i),i=i.return;qe=null}}function qo(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,Kk(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),$s=0,bp(),bt=i,qe=o=Ds(i.current,null),Ge=r,dt=0,Jn=null,Ar=!1,Uo=xi(i,r),fp=!1,Bo=Zn=mp=Va=Cr=Pt=0,zn=Rc=null,pp=!1,(r&8)!==0&&(r|=r&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=r;0<u;){var f=31-xt(u),g=1<<f;r|=i[f],u&=~g}return Hs=r,ch(),o}function Y_(i,r){Be=null,X.H=_c,r===Do||r===yh?(r=ub(),dt=3):r===xm?(r=ub(),dt=4):dt=r===Wm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Jn=r,qe===null&&(Pt=1,Nh(i,ui(r,i.current)))}function Q_(){var i=Xn.current;return i===null?!0:(Ge&4194048)===Ge?mi===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?i===mi:!1}function X_(){var i=X.H;return X.H=_c,i===null?_c:i}function W_(){var i=X.A;return X.A=Sk,i}function qh(){Pt=4,Ar||(Ge&4194048)!==Ge&&Xn.current!==null||(Uo=!0),(Cr&134217727)===0&&(Va&134217727)===0||bt===null||Ir(bt,Ge,Zn,!1)}function _p(i,r,o){var u=ot;ot|=2;var f=X_(),g=W_();(bt!==i||Ge!==r)&&(Bh=null,qo(i,r)),r=!1;var _=Pt;e:do try{if(dt!==0&&qe!==null){var C=qe,O=Jn;switch(dt){case 8:bp(),_=6;break e;case 3:case 2:case 9:case 6:Xn.current===null&&(r=!0);var G=dt;if(dt=0,Jn=null,Ho(i,C,O,G),o&&Uo){_=0;break e}break;default:G=dt,dt=0,Jn=null,Ho(i,C,O,G)}}Rk(),_=Pt;break}catch(ie){Y_(i,ie)}while(!0);return r&&i.shellSuspendCounter++,Ps=Ca=null,ot=u,X.H=f,X.A=g,qe===null&&(bt=null,Ge=0,ch()),_}function Rk(){for(;qe!==null;)J_(qe)}function kk(i,r){var o=ot;ot|=2;var u=X_(),f=W_();bt!==i||Ge!==r?(Bh=null,Uh=Ft()+500,qo(i,r)):Uo=xi(i,r);e:do try{if(dt!==0&&qe!==null){r=qe;var g=Jn;t:switch(dt){case 1:dt=0,Jn=null,Ho(i,r,g,1);break;case 2:case 9:if(lb(g)){dt=0,Jn=null,Z_(r);break}r=function(){dt!==2&&dt!==9||bt!==i||(dt=7),us(i)},g.then(r,r);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:lb(g)?(dt=0,Jn=null,Z_(r)):(dt=0,Jn=null,Ho(i,r,g,7));break;case 5:var _=null;switch(qe.tag){case 26:_=qe.memoizedState;case 5:case 27:var C=qe;if(_?zw(_):C.stateNode.complete){dt=0,Jn=null;var O=C.sibling;if(O!==null)qe=O;else{var G=C.return;G!==null?(qe=G,Hh(G)):qe=null}break t}}dt=0,Jn=null,Ho(i,r,g,5);break;case 6:dt=0,Jn=null,Ho(i,r,g,6);break;case 8:bp(),Pt=6;break e;default:throw Error(s(462))}}Ik();break}catch(ie){Y_(i,ie)}while(!0);return Ps=Ca=null,X.H=u,X.A=f,ot=o,qe!==null?0:(bt=null,Ge=0,ch(),Pt)}function Ik(){for(;qe!==null&&!la();)J_(qe)}function J_(i){var r=T_(i.alternate,i,Hs);i.memoizedProps=i.pendingProps,r===null?Hh(i):qe=r}function Z_(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=g_(o,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=g_(o,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:Om(r);default:E_(o,r),r=qe=Wv(r,Hs),r=T_(o,r,Hs)}i.memoizedProps=i.pendingProps,r===null?Hh(i):qe=r}function Ho(i,r,o,u){Ps=Ca=null,Om(r),Mo=null,dc=0;var f=r.return;try{if(vk(i,f,r,o,Ge)){Pt=1,Nh(i,ui(o,i.current)),qe=null;return}}catch(g){if(f!==null)throw qe=f,g;Pt=1,Nh(i,ui(o,i.current)),qe=null;return}r.flags&32768?(Je||u===1?i=!0:Uo||(Ge&536870912)!==0?i=!1:(Ar=i=!0,(u===2||u===9||u===3||u===6)&&(u=Xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),ew(r,i)):Hh(r)}function Hh(i){var r=i;do{if((r.flags&32768)!==0){ew(r,Ar);return}i=r.return;var o=wk(r.alternate,r,Hs);if(o!==null){qe=o;return}if(r=r.sibling,r!==null){qe=r;return}qe=r=i}while(r!==null);Pt===0&&(Pt=5)}function ew(i,r){do{var o=Tk(i.alternate,i);if(o!==null){o.flags&=32767,qe=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){qe=i;return}qe=i=o}while(i!==null);Pt=6,qe=null}function tw(i,r,o,u,f,g,_,C,O){i.cancelPendingCommit=null;do $h();while(nn!==0);if((ot&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=lm,Zf(i,o,g,_,C,O),i===bt&&(qe=bt=null,Ge=0),Fo=r,kr=i,$s=o,gp=g,yp=f,H_=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,Pk(Rn,function(){return aw(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=X.T,X.T=null,f=oe.p,oe.p=2,_=ot,ot|=4;try{xk(i,r,o)}finally{ot=_,oe.p=f,X.T=u}}nn=1,nw(),iw(),sw()}}function nw(){if(nn===1){nn=0;var i=kr,r=Fo,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=X.T,X.T=null;var u=oe.p;oe.p=2;var f=ot;ot|=4;try{V_(r,i);var g=Dp,_=Fv(i.containerInfo),C=g.focusedElem,O=g.selectionRange;if(_!==C&&C&&C.ownerDocument&&Bv(C.ownerDocument.documentElement,C)){if(O!==null&&im(C)){var G=O.start,ie=O.end;if(ie===void 0&&(ie=G),"selectionStart"in C)C.selectionStart=G,C.selectionEnd=Math.min(ie,C.value.length);else{var le=C.ownerDocument||document,K=le&&le.defaultView||window;if(K.getSelection){var ee=K.getSelection(),_e=C.textContent.length,Ie=Math.min(O.start,_e),yt=O.end===void 0?Ie:Math.min(O.end,_e);!ee.extend&&Ie>yt&&(_=yt,yt=Ie,Ie=_);var q=Uv(C,Ie),U=Uv(C,yt);if(q&&U&&(ee.rangeCount!==1||ee.anchorNode!==q.node||ee.anchorOffset!==q.offset||ee.focusNode!==U.node||ee.focusOffset!==U.offset)){var $=le.createRange();$.setStart(q.node,q.offset),ee.removeAllRanges(),Ie>yt?(ee.addRange($),ee.extend(U.node,U.offset)):($.setEnd(U.node,U.offset),ee.addRange($))}}}}for(le=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&le.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<le.length;C++){var se=le[C];se.element.scrollLeft=se.left,se.element.scrollTop=se.top}}id=!!Np,Dp=Np=null}finally{ot=f,oe.p=u,X.T=o}}i.current=r,nn=2}}function iw(){if(nn===2){nn=0;var i=kr,r=Fo,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=X.T,X.T=null;var u=oe.p;oe.p=2;var f=ot;ot|=4;try{N_(i,r.alternate,r)}finally{ot=f,oe.p=u,X.T=o}}nn=3}}function sw(){if(nn===4||nn===3){nn=0,ar();var i=kr,r=Fo,o=$s,u=H_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?nn=5:(nn=0,Fo=kr=null,rw(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(Rr=null),Rs(o),r=r.stateNode,Te&&typeof Te.onCommitFiberRoot=="function")try{Te.onCommitFiberRoot(pe,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=X.T,f=oe.p,oe.p=2,X.T=null;try{for(var g=i.onRecoverableError,_=0;_<u.length;_++){var C=u[_];g(C.value,{componentStack:C.stack})}}finally{X.T=r,oe.p=f}}($s&3)!==0&&$h(),us(i),f=i.pendingLanes,(o&261930)!==0&&(f&42)!==0?i===vp?kc++:(kc=0,vp=i):kc=0,Ic(0)}}function rw(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,uc(r)))}function $h(){return nw(),iw(),sw(),aw()}function aw(){if(nn!==5)return!1;var i=kr,r=gp;gp=0;var o=Rs($s),u=X.T,f=oe.p;try{oe.p=32>o?32:o,X.T=null,o=yp,yp=null;var g=kr,_=$s;if(nn=0,Fo=kr=null,$s=0,(ot&6)!==0)throw Error(s(331));var C=ot;if(ot|=4,B_(g.current),z_(g,g.current,_,o),ot=C,Ic(0,!1),Te&&typeof Te.onPostCommitFiberRoot=="function")try{Te.onPostCommitFiberRoot(pe,g)}catch{}return!0}finally{oe.p=f,X.T=u,rw(i,r)}}function ow(i,r,o){r=ui(o,r),r=Xm(i.stateNode,r,2),i=Tr(i,r,2),i!==null&&(ua(i,2),us(i))}function ft(i,r,o){if(i.tag===3)ow(i,i,o);else for(;r!==null;){if(r.tag===3){ow(r,i,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Rr===null||!Rr.has(u))){i=ui(o,i),o=l_(2),u=Tr(r,o,2),u!==null&&(c_(o,u,r,i),ua(u,2),us(u));break}}r=r.return}}function wp(i,r,o){var u=i.pingCache;if(u===null){u=i.pingCache=new Ak;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(fp=!0,f.add(o),i=Nk.bind(null,i,r,o),r.then(i,i))}function Nk(i,r,o){var u=i.pingCache;u!==null&&u.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,bt===i&&(Ge&o)===o&&(Pt===4||Pt===3&&(Ge&62914560)===Ge&&300>Ft()-jh?(ot&2)===0&&qo(i,0):mp|=o,Bo===Ge&&(Bo=0)),us(i)}function lw(i,r){r===0&&(r=Bu()),i=Ea(i,r),i!==null&&(ua(i,r),us(i))}function Dk(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),lw(i,o)}function Mk(i,r){var o=0;switch(i.tag){case 31:case 13:var u=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(r),lw(i,o)}function Pk(i,r){return it(i,r)}var Gh=null,$o=null,Tp=!1,Kh=!1,xp=!1,Nr=0;function us(i){i!==$o&&i.next===null&&($o===null?Gh=$o=i:$o=$o.next=i),Kh=!0,Tp||(Tp=!0,Vk())}function Ic(i,r){if(!xp&&Kh){xp=!0;do for(var o=!1,u=Gh;u!==null;){if(i!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var _=u.suspendedLanes,C=u.pingedLanes;g=(1<<31-xt(42|i)+1)-1,g&=f&~(_&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,dw(u,g))}else g=Ge,g=Gi(u,u===bt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||xi(u,g)||(o=!0,dw(u,g));u=u.next}while(o);xp=!1}}function Ok(){cw()}function cw(){Kh=Tp=!1;var i=0;Nr!==0&&Gk()&&(i=Nr);for(var r=Ft(),o=null,u=Gh;u!==null;){var f=u.next,g=uw(u,r);g===0?(u.next=null,o===null?Gh=f:o.next=f,f===null&&($o=o)):(o=u,(i!==0||(g&3)!==0)&&(Kh=!0)),u=f}nn!==0&&nn!==5||Ic(i),Nr!==0&&(Nr=0)}function uw(i,r){for(var o=i.suspendedLanes,u=i.pingedLanes,f=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var _=31-xt(g),C=1<<_,O=f[_];O===-1?((C&o)===0||(C&u)!==0)&&(f[_]=Jf(C,r)):O<=r&&(i.expiredLanes|=C),g&=~C}if(r=bt,o=Ge,o=Gi(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,o===0||i===r&&(dt===2||dt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&ii(u),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||xi(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(u!==null&&ii(u),Rs(o)){case 2:case 8:o=As;break;case 32:o=Rn;break;case 268435456:o=$n;break;default:o=Rn}return u=hw.bind(null,i),o=it(o,u),i.callbackPriority=r,i.callbackNode=o,r}return u!==null&&u!==null&&ii(u),i.callbackPriority=2,i.callbackNode=null,2}function hw(i,r){if(nn!==0&&nn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if($h()&&i.callbackNode!==o)return null;var u=Ge;return u=Gi(i,i===bt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(G_(i,u,r),uw(i,Ft()),i.callbackNode!=null&&i.callbackNode===o?hw.bind(null,i):null)}function dw(i,r){if($h())return null;G_(i,r,!0)}function Vk(){Yk(function(){(ot&6)!==0?it(Ti,Ok):cw()})}function Ep(){if(Nr===0){var i=Io;i===0&&(i=Hi,Hi<<=1,(Hi&261888)===0&&(Hi=256)),Nr=i}return Nr}function fw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:po(""+i)}function mw(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function Lk(i,r,o,u,f){if(r==="submit"&&o&&o.stateNode===f){var g=fw((f[on]||null).action),_=u.submitter;_&&(r=(r=_[on]||null)?fw(r.formAction):_.getAttribute("formAction"),r!==null&&(g=r,_=null));var C=new is("action","action",null,u,f);i.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Nr!==0){var O=_?mw(f,_):new FormData(f);Hm(o,{pending:!0,data:O,method:f.method,action:g},null,O)}}else typeof g=="function"&&(C.preventDefault(),O=_?mw(f,_):new FormData(f),Hm(o,{pending:!0,data:O,method:f.method,action:g},g,O))},currentTarget:f}]})}}for(var Sp=0;Sp<om.length;Sp++){var Ap=om[Sp],zk=Ap.toLowerCase(),jk=Ap[0].toUpperCase()+Ap.slice(1);Ni(zk,"on"+jk)}Ni($v,"onAnimationEnd"),Ni(Gv,"onAnimationIteration"),Ni(Kv,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(tk,"onTransitionRun"),Ni(nk,"onTransitionStart"),Ni(ik,"onTransitionCancel"),Ni(Yv,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),Ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nc));function pw(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var u=i[o],f=u.event;u=u.listeners;e:{var g=void 0;if(r)for(var _=u.length-1;0<=_;_--){var C=u[_],O=C.instance,G=C.currentTarget;if(C=C.listener,O!==g&&f.isPropagationStopped())break e;g=C,f.currentTarget=G;try{g(f)}catch(ie){lh(ie)}f.currentTarget=null,g=O}else for(_=0;_<u.length;_++){if(C=u[_],O=C.instance,G=C.currentTarget,C=C.listener,O!==g&&f.isPropagationStopped())break e;g=C,f.currentTarget=G;try{g(f)}catch(ie){lh(ie)}f.currentTarget=null,g=O}}}}function He(i,r){var o=r[co];o===void 0&&(o=r[co]=new Set);var u=i+"__bubble";o.has(u)||(gw(r,i,2,!1),o.add(u))}function Cp(i,r,o){var u=0;r&&(u|=4),gw(o,i,u,r)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function Rp(i){if(!i[Yh]){i[Yh]=!0,ql.forEach(function(o){o!=="selectionchange"&&(Uk.has(o)||Cp(o,!1,i),Cp(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Yh]||(r[Yh]=!0,Cp("selectionchange",!1,r))}}function gw(i,r,o,u){switch($w(r)){case 2:var f=mI;break;case 8:f=pI;break;default:f=qp}o=f.bind(null,r,o,i),f=void 0,!ga||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?i.addEventListener(r,o,{capture:!0,passive:f}):i.addEventListener(r,o,!0):f!==void 0?i.addEventListener(r,o,{passive:f}):i.addEventListener(r,o,!1)}function kp(i,r,o,u,f){var g=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var C=u.stateNode.containerInfo;if(C===f)break;if(_===4)for(_=u.return;_!==null;){var O=_.tag;if((O===3||O===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;C!==null;){if(_=Xi(C),_===null)return;if(O=_.tag,O===5||O===6||O===26||O===27){u=g=_;continue e}C=C.parentNode}}u=u.return}dr(function(){var G=g,ie=ai(o),le=[];e:{var K=Qv.get(i);if(K!==void 0){var ee=is,_e=i;switch(i){case"keypress":if(va(o)===0)break e;case"keydown":case"keyup":ee=rh;break;case"focusin":_e="focus",ee=_a;break;case"focusout":_e="blur",ee=_a;break;case"beforeblur":case"afterblur":ee=_a;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=b;break;case $v:case Gv:case Kv:ee=Ju;break;case Yv:ee=k;break;case"scroll":case"scrollend":ee=tc;break;case"wheel":ee=Z;break;case"copy":case"cut":case"paste":ee=Zu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Ns;break;case"toggle":case"beforetoggle":ee=Ue}var Ie=(r&4)!==0,yt=!Ie&&(i==="scroll"||i==="scrollend"),q=Ie?K!==null?K+"Capture":null:K;Ie=[];for(var U=G,$;U!==null;){var se=U;if($=se.stateNode,se=se.tag,se!==5&&se!==26&&se!==27||$===null||q===null||(se=Ci(U,q),se!=null&&Ie.push(Dc(U,se,$))),yt)break;U=U.return}0<Ie.length&&(K=new ee(K,_e,null,o,ie),le.push({event:K,listeners:Ie}))}}if((r&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",K&&o!==Jl&&(_e=o.relatedTarget||o.fromElement)&&(Xi(_e)||_e[Yi]))break e;if((ee||K)&&(K=ie.window===ie?ie:(K=ie.ownerDocument)?K.defaultView||K.parentWindow:window,ee?(_e=o.relatedTarget||o.toElement,ee=G,_e=_e?Xi(_e):null,_e!==null&&(yt=l(_e),Ie=_e.tag,_e!==yt||Ie!==5&&Ie!==27&&Ie!==6)&&(_e=null)):(ee=null,_e=G),ee!==_e)){if(Ie=nc,se="onMouseLeave",q="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ie=Ns,se="onPointerLeave",q="onPointerEnter",U="pointer"),yt=ee==null?K:Gn(ee),$=_e==null?K:Gn(_e),K=new Ie(se,U+"leave",ee,o,ie),K.target=yt,K.relatedTarget=$,se=null,Xi(ie)===G&&(Ie=new Ie(q,U+"enter",_e,o,ie),Ie.target=$,Ie.relatedTarget=yt,se=Ie),yt=se,ee&&_e)t:{for(Ie=Bk,q=ee,U=_e,$=0,se=q;se;se=Ie(se))$++;se=0;for(var Ae=U;Ae;Ae=Ie(Ae))se++;for(;0<$-se;)q=Ie(q),$--;for(;0<se-$;)U=Ie(U),se--;for(;$--;){if(q===U||U!==null&&q===U.alternate){Ie=q;break t}q=Ie(q),U=Ie(U)}Ie=null}else Ie=null;ee!==null&&yw(le,K,ee,Ie,!1),_e!==null&&yt!==null&&yw(le,yt,_e,Ie,!0)}}e:{if(K=G?Gn(G):window,ee=K.nodeName&&K.nodeName.toLowerCase(),ee==="select"||ee==="input"&&K.type==="file")var st=Pv;else if(Dv(K))if(Ov)st=J2;else{st=X2;var xe=Q2}else ee=K.nodeName,!ee||ee.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&mo(G.elementType)&&(st=Pv):st=W2;if(st&&(st=st(i,G))){Mv(le,st,o,ie);break e}xe&&xe(i,K,G),i==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Ql(K,"number",K.value)}switch(xe=G?Gn(G):window,i){case"focusin":(Dv(xe)||xe.contentEditable==="true")&&(To=xe,sm=G,oc=null);break;case"focusout":oc=sm=To=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,qv(le,o,ie);break;case"selectionchange":if(ek)break;case"keydown":case"keyup":qv(le,o,ie)}var Fe;if(at)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else wo?wa(i,o)&&(Ke="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ke="onCompositionStart");Ke&&(as&&o.locale!=="ko"&&(wo||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&wo&&(Fe=ec()):(ns=ie,Zl="value"in ns?ns.value:ns.textContent,wo=!0)),xe=Qh(G,Ke),0<xe.length&&(Ke=new rs(Ke,i,null,o,ie),le.push({event:Ke,listeners:xe}),Fe?Ke.data=Fe:(Fe=_o(o),Fe!==null&&(Ke.data=Fe)))),(Fe=li?$2(i,o):G2(i,o))&&(Ke=Qh(G,"onBeforeInput"),0<Ke.length&&(xe=new rs("onBeforeInput","beforeinput",null,o,ie),le.push({event:xe,listeners:Ke}),xe.data=Fe)),Lk(le,i,G,o,ie)}pw(le,r)})}function Dc(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Qh(i,r){for(var o=r+"Capture",u=[];i!==null;){var f=i,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ci(i,o),f!=null&&u.unshift(Dc(i,f,g)),f=Ci(i,r),f!=null&&u.push(Dc(i,f,g))),i.tag===3)return u;i=i.return}return[]}function Bk(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function yw(i,r,o,u,f){for(var g=r._reactName,_=[];o!==null&&o!==u;){var C=o,O=C.alternate,G=C.stateNode;if(C=C.tag,O!==null&&O===u)break;C!==5&&C!==26&&C!==27||G===null||(O=G,f?(G=Ci(o,g),G!=null&&_.unshift(Dc(o,G,O))):f||(G=Ci(o,g),G!=null&&_.push(Dc(o,G,O)))),o=o.return}_.length!==0&&i.push({event:r,listeners:_})}var Fk=/\r\n?/g,qk=/\u0000|\uFFFD/g;function vw(i){return(typeof i=="string"?i:""+i).replace(Fk,`
`).replace(qk,"")}function bw(i,r){return r=vw(r),vw(i)===r}function gt(i,r,o,u,f,g){switch(o){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||Pn(i,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&Pn(i,""+u);break;case"className":Kn(i,"class",u);break;case"tabIndex":Kn(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Kn(i,o,u);break;case"style":Wl(i,u,g);break;case"data":if(r!=="object"){Kn(i,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=po(""+u),i.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&gt(i,r,"name",f.name,f,null),gt(i,r,"formEncType",f.formEncType,f,null),gt(i,r,"formMethod",f.formMethod,f,null),gt(i,r,"formTarget",f.formTarget,f,null)):(gt(i,r,"encType",f.encType,f,null),gt(i,r,"method",f.method,f,null),gt(i,r,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(o);break}u=po(""+u),i.setAttribute(o,u);break;case"onClick":u!=null&&(i.onclick=Ai);break;case"onScroll":u!=null&&He("scroll",i);break;case"onScrollEnd":u!=null&&He("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}o=po(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""+u):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":u===!0?i.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(o,u):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(o,u):i.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(o):i.setAttribute(o,u);break;case"popover":He("beforetoggle",i),He("toggle",i),ho(i,"popover",u);break;case"xlinkActuate":Gt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ho(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Qu.get(o)||o,ho(i,o,u))}}function Ip(i,r,o,u,f,g){switch(o){case"style":Wl(i,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof u=="string"?Pn(i,u):(typeof u=="number"||typeof u=="bigint")&&Pn(i,""+u);break;case"onScroll":u!=null&&He("scroll",i);break;case"onScrollEnd":u!=null&&He("scrollend",i);break;case"onClick":u!=null&&(i.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),r=o.slice(2,f?o.length-7:void 0),g=i[on]||null,g=g!=null?g[o]:null,typeof g=="function"&&i.removeEventListener(r,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,u,f);break e}o in i?i[o]=u:u===!0?i.setAttribute(o,""):ho(i,o,u)}}}function pn(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",i),He("load",i);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var _=o[g];if(_!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:gt(i,r,g,_,o,null)}}f&&gt(i,r,"srcSet",o.srcSet,o,null),u&&gt(i,r,"src",o.src,o,null);return;case"input":He("invalid",i);var C=g=_=f=null,O=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var ie=o[u];if(ie!=null)switch(u){case"name":f=ie;break;case"type":_=ie;break;case"checked":O=ie;break;case"defaultChecked":G=ie;break;case"value":g=ie;break;case"defaultValue":C=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(s(137,r));break;default:gt(i,r,u,ie,o,null)}}Gu(i,g,C,O,G,_,f,!1);return;case"select":He("invalid",i),u=_=g=null;for(f in o)if(o.hasOwnProperty(f)&&(C=o[f],C!=null))switch(f){case"value":g=C;break;case"defaultValue":_=C;break;case"multiple":u=C;default:gt(i,r,f,C,o,null)}r=g,o=_,i.multiple=!!u,r!=null?lr(i,!!u,r,!1):o!=null&&lr(i,!!u,o,!0);return;case"textarea":He("invalid",i),g=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(C=o[_],C!=null))switch(_){case"value":u=C;break;case"defaultValue":f=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(s(91));break;default:gt(i,r,_,C,o,null)}cr(i,u,f,g);return;case"option":for(O in o)o.hasOwnProperty(O)&&(u=o[O],u!=null)&&(O==="selected"?i.selected=u&&typeof u!="function"&&typeof u!="symbol":gt(i,r,O,u,o,null));return;case"dialog":He("beforetoggle",i),He("toggle",i),He("cancel",i),He("close",i);break;case"iframe":case"object":He("load",i);break;case"video":case"audio":for(u=0;u<Nc.length;u++)He(Nc[u],i);break;case"image":He("error",i),He("load",i);break;case"details":He("toggle",i);break;case"embed":case"source":case"link":He("error",i),He("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:gt(i,r,G,u,o,null)}return;default:if(mo(r)){for(ie in o)o.hasOwnProperty(ie)&&(u=o[ie],u!==void 0&&Ip(i,r,ie,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&gt(i,r,C,u,o,null))}function Hk(i,r,o,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,_=null,C=null,O=null,G=null,ie=null;for(ee in o){var le=o[ee];if(o.hasOwnProperty(ee)&&le!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":O=le;default:u.hasOwnProperty(ee)||gt(i,r,ee,null,u,le)}}for(var K in u){var ee=u[K];if(le=o[K],u.hasOwnProperty(K)&&(ee!=null||le!=null))switch(K){case"type":g=ee;break;case"name":f=ee;break;case"checked":G=ee;break;case"defaultChecked":ie=ee;break;case"value":_=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:ee!==le&&gt(i,r,K,ee,u,le)}}fo(i,_,C,O,G,ie,g,f);return;case"select":ee=_=C=K=null;for(g in o)if(O=o[g],o.hasOwnProperty(g)&&O!=null)switch(g){case"value":break;case"multiple":ee=O;default:u.hasOwnProperty(g)||gt(i,r,g,null,u,O)}for(f in u)if(g=u[f],O=o[f],u.hasOwnProperty(f)&&(g!=null||O!=null))switch(f){case"value":K=g;break;case"defaultValue":C=g;break;case"multiple":_=g;default:g!==O&&gt(i,r,f,g,u,O)}r=C,o=_,u=ee,K!=null?lr(i,!!o,K,!1):!!u!=!!o&&(r!=null?lr(i,!!o,r,!0):lr(i,!!o,o?[]:"",!1));return;case"textarea":ee=K=null;for(C in o)if(f=o[C],o.hasOwnProperty(C)&&f!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:gt(i,r,C,null,u,f)}for(_ in u)if(f=u[_],g=o[_],u.hasOwnProperty(_)&&(f!=null||g!=null))switch(_){case"value":K=f;break;case"defaultValue":ee=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==g&&gt(i,r,_,f,u,g)}Ku(i,K,ee);return;case"option":for(var _e in o)K=o[_e],o.hasOwnProperty(_e)&&K!=null&&!u.hasOwnProperty(_e)&&(_e==="selected"?i.selected=!1:gt(i,r,_e,null,u,K));for(O in u)K=u[O],ee=o[O],u.hasOwnProperty(O)&&K!==ee&&(K!=null||ee!=null)&&(O==="selected"?i.selected=K&&typeof K!="function"&&typeof K!="symbol":gt(i,r,O,K,u,ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)K=o[Ie],o.hasOwnProperty(Ie)&&K!=null&&!u.hasOwnProperty(Ie)&&gt(i,r,Ie,null,u,K);for(G in u)if(K=u[G],ee=o[G],u.hasOwnProperty(G)&&K!==ee&&(K!=null||ee!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:gt(i,r,G,K,u,ee)}return;default:if(mo(r)){for(var yt in o)K=o[yt],o.hasOwnProperty(yt)&&K!==void 0&&!u.hasOwnProperty(yt)&&Ip(i,r,yt,void 0,u,K);for(ie in u)K=u[ie],ee=o[ie],!u.hasOwnProperty(ie)||K===ee||K===void 0&&ee===void 0||Ip(i,r,ie,K,u,ee);return}}for(var q in o)K=o[q],o.hasOwnProperty(q)&&K!=null&&!u.hasOwnProperty(q)&&gt(i,r,q,null,u,K);for(le in u)K=u[le],ee=o[le],!u.hasOwnProperty(le)||K===ee||K==null&&ee==null||gt(i,r,le,K,u,ee)}function _w(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $k(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],g=f.transferSize,_=f.initiatorType,C=f.duration;if(g&&C&&_w(_)){for(_=0,C=f.responseEnd,u+=1;u<o.length;u++){var O=o[u],G=O.startTime;if(G>C)break;var ie=O.transferSize,le=O.initiatorType;ie&&_w(le)&&(O=O.responseEnd,_+=ie*(O<C?1:(C-G)/(O-G)))}if(--u,r+=8*(g+_)/(f.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Np=null,Dp=null;function Xh(i){return i.nodeType===9?i:i.ownerDocument}function ww(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tw(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Mp(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pp=null;function Gk(){var i=window.event;return i&&i.type==="popstate"?i===Pp?!1:(Pp=i,!0):(Pp=null,!1)}var xw=typeof setTimeout=="function"?setTimeout:void 0,Kk=typeof clearTimeout=="function"?clearTimeout:void 0,Ew=typeof Promise=="function"?Promise:void 0,Yk=typeof queueMicrotask=="function"?queueMicrotask:typeof Ew<"u"?function(i){return Ew.resolve(null).then(i).catch(Qk)}:xw;function Qk(i){setTimeout(function(){throw i})}function Dr(i){return i==="head"}function Sw(i,r){var o=r,u=0;do{var f=o.nextSibling;if(i.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){i.removeChild(f),Qo(r);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Mc(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Mc(o);for(var g=o.firstChild;g;){var _=g.nextSibling,C=g.nodeName;g[Qi]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&g.rel.toLowerCase()==="stylesheet"||o.removeChild(g),g=_}}else o==="body"&&Mc(i.ownerDocument.body);o=f}while(o);Qo(r)}function Aw(i,r){var o=i;i=0;do{var u=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=u}while(o)}function Op(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Op(o),uo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function Xk(i,r,o,u){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Qi])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=pi(i.nextSibling),i===null)break}return null}function Wk(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=pi(i.nextSibling),i===null))return null;return i}function Cw(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=pi(i.nextSibling),i===null))return null;return i}function Vp(i){return i.data==="$?"||i.data==="$~"}function Lp(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function Jk(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var u=function(){r(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function pi(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var zp=null;function Rw(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return pi(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function kw(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Iw(i,r,o){switch(r=Xh(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Mc(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);uo(i)}var gi=new Map,Nw=new Set;function Wh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Gs=oe.d;oe.d={f:Zk,r:eI,D:tI,C:nI,L:iI,m:sI,X:aI,S:rI,M:oI};function Zk(){var i=Gs.f(),r=Fh();return i||r}function eI(i){var r=ri(i);r!==null&&r.tag===5&&r.type==="form"?Yb(r):Gs.r(i)}var Go=typeof document>"u"?null:document;function Dw(i,r,o){var u=Go;if(u&&typeof r=="string"&&r){var f=Mn(r);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Nw.has(f)||(Nw.add(f),i={rel:i,crossOrigin:o,href:r},u.querySelector(f)===null&&(r=u.createElement("link"),pn(r,"link",i),$t(r),u.head.appendChild(r)))}}function tI(i){Gs.D(i),Dw("dns-prefetch",i,null)}function nI(i,r){Gs.C(i,r),Dw("preconnect",i,r)}function iI(i,r,o){Gs.L(i,r,o);var u=Go;if(u&&i&&r){var f='link[rel="preload"][as="'+Mn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Mn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Mn(o.imageSizes)+'"]')):f+='[href="'+Mn(i)+'"]';var g=f;switch(r){case"style":g=Ko(i);break;case"script":g=Yo(i)}gi.has(g)||(i=v({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),gi.set(g,i),u.querySelector(f)!==null||r==="style"&&u.querySelector(Pc(g))||r==="script"&&u.querySelector(Oc(g))||(r=u.createElement("link"),pn(r,"link",i),$t(r),u.head.appendChild(r)))}}function sI(i,r){Gs.m(i,r);var o=Go;if(o&&i){var u=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Mn(u)+'"][href="'+Mn(i)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Yo(i)}if(!gi.has(g)&&(i=v({rel:"modulepreload",href:i},r),gi.set(g,i),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Oc(g)))return}u=o.createElement("link"),pn(u,"link",i),$t(u),o.head.appendChild(u)}}}function rI(i,r,o){Gs.S(i,r,o);var u=Go;if(u&&i){var f=Wi(u).hoistableStyles,g=Ko(i);r=r||"default";var _=f.get(g);if(!_){var C={loading:0,preload:null};if(_=u.querySelector(Pc(g)))C.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":r},o),(o=gi.get(g))&&jp(i,o);var O=_=u.createElement("link");$t(O),pn(O,"link",i),O._p=new Promise(function(G,ie){O.onload=G,O.onerror=ie}),O.addEventListener("load",function(){C.loading|=1}),O.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Jh(_,r,u)}_={type:"stylesheet",instance:_,count:1,state:C},f.set(g,_)}}}function aI(i,r){Gs.X(i,r);var o=Go;if(o&&i){var u=Wi(o).hoistableScripts,f=Yo(i),g=u.get(f);g||(g=o.querySelector(Oc(f)),g||(i=v({src:i,async:!0},r),(r=gi.get(f))&&Up(i,r),g=o.createElement("script"),$t(g),pn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function oI(i,r){Gs.M(i,r);var o=Go;if(o&&i){var u=Wi(o).hoistableScripts,f=Yo(i),g=u.get(f);g||(g=o.querySelector(Oc(f)),g||(i=v({src:i,async:!0,type:"module"},r),(r=gi.get(f))&&Up(i,r),g=o.createElement("script"),$t(g),pn(g,"link",i),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function Mw(i,r,o,u){var f=(f=fe.current)?Wh(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Ko(o.href),o=Wi(f).hoistableStyles,u=o.get(r),u||(u={type:"style",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Ko(o.href);var g=Wi(f).hoistableStyles,_=g.get(i);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,_),(g=f.querySelector(Pc(i)))&&!g._p&&(_.instance=g,_.state.loading=5),gi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},gi.set(i,o),g||lI(f,i,o,_.state))),r&&u===null)throw Error(s(528,""));return _}if(r&&u!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Yo(o),o=Wi(f).hoistableScripts,u=o.get(r),u||(u={type:"script",instance:null,count:0,state:null},o.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Ko(i){return'href="'+Mn(i)+'"'}function Pc(i){return'link[rel="stylesheet"]['+i+"]"}function Pw(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function lI(i,r,o,u){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=i.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),pn(r,"link",o),$t(r),i.head.appendChild(r))}function Yo(i){return'[src="'+Mn(i)+'"]'}function Oc(i){return"script[async]"+i}function Ow(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var u=i.querySelector('style[data-href~="'+Mn(o.href)+'"]');if(u)return r.instance=u,$t(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),$t(u),pn(u,"style",f),Jh(u,o.precedence,i),r.instance=u;case"stylesheet":f=Ko(o.href);var g=i.querySelector(Pc(f));if(g)return r.state.loading|=4,r.instance=g,$t(g),g;u=Pw(o),(f=gi.get(f))&&jp(u,f),g=(i.ownerDocument||i).createElement("link"),$t(g);var _=g;return _._p=new Promise(function(C,O){_.onload=C,_.onerror=O}),pn(g,"link",u),r.state.loading|=4,Jh(g,o.precedence,i),r.instance=g;case"script":return g=Yo(o.src),(f=i.querySelector(Oc(g)))?(r.instance=f,$t(f),f):(u=o,(f=gi.get(g))&&(u=v({},o),Up(u,f)),i=i.ownerDocument||i,f=i.createElement("script"),$t(f),pn(f,"link",u),i.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Jh(u,o.precedence,i));return r.instance}function Jh(i,r,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,_=0;_<u.length;_++){var C=u[_];if(C.dataset.precedence===r)g=C;else if(g!==f)break}g?g.parentNode.insertBefore(i,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function jp(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Up(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Zh=null;function Vw(i,r,o){if(Zh===null){var u=new Map,f=Zh=new Map;f.set(o,u)}else f=Zh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(i))return u;for(u.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var g=o[f];if(!(g[Qi]||g[Ht]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(r)||"";_=i+_;var C=u.get(_);C?C.push(g):u.set(_,[g])}}return u}function Lw(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function cI(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function zw(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function uI(i,r,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Ko(u.href),g=r.querySelector(Pc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=ed.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=g,$t(g);return}g=r.ownerDocument||r,u=Pw(u),(f=gi.get(f))&&jp(u,f),g=g.createElement("link"),$t(g);var _=g;_._p=new Promise(function(C,O){_.onload=C,_.onerror=O}),pn(g,"link",u),o.instance=g}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=ed.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var Bp=0;function hI(i,r){return i.stylesheets&&i.count===0&&nd(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var u=setTimeout(function(){if(i.stylesheets&&nd(i,i.stylesheets),i.unsuspend){var g=i.unsuspend;i.unsuspend=null,g()}},6e4+r);0<i.imgBytes&&Bp===0&&(Bp=62500*$k());var f=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&nd(i,i.stylesheets),i.unsuspend)){var g=i.unsuspend;i.unsuspend=null,g()}},(i.imgBytes>Bp?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function ed(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nd(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var td=null;function nd(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,td=new Map,r.forEach(dI,i),td=null,ed.call(i))}function dI(i,r){if(!(r.state.loading&4)){var o=td.get(i);if(o)var u=o.get(null);else{o=new Map,td.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var _=f[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=r.instance,_=f.getAttribute("data-precedence"),g=o.get(_)||u,g===u&&o.set(null,f),o.set(_,f),this.count++,u=ed.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),r.state.loading|=4}}var Vc={$$typeof:J,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function fI(i,r,o,u,f,g,_,C,O){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function jw(i,r,o,u,f,g,_,C,O,G,ie,le){return i=new fI(i,r,o,_,O,G,ie,le,C),r=1,g===!0&&(r|=24),g=Qn(3,null,null,r),i.current=g,g.stateNode=i,r=_m(),r.refCount++,i.pooledCache=r,r.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:r},Em(g),i}function Uw(i){return i?(i=So,i):So}function Bw(i,r,o,u,f,g){f=Uw(f),u.context===null?u.context=f:u.pendingContext=f,u=wr(r),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=Tr(i,u,r),o!==null&&(jn(o,i,r),mc(o,i,r))}function Fw(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Fp(i,r){Fw(i,r),(i=i.alternate)&&Fw(i,r)}function qw(i){if(i.tag===13||i.tag===31){var r=Ea(i,67108864);r!==null&&jn(r,i,67108864),Fp(i,67108864)}}function Hw(i){if(i.tag===13||i.tag===31){var r=ei();r=da(r);var o=Ea(i,r);o!==null&&jn(o,i,r),Fp(i,r)}}var id=!0;function mI(i,r,o,u){var f=X.T;X.T=null;var g=oe.p;try{oe.p=2,qp(i,r,o,u)}finally{oe.p=g,X.T=f}}function pI(i,r,o,u){var f=X.T;X.T=null;var g=oe.p;try{oe.p=8,qp(i,r,o,u)}finally{oe.p=g,X.T=f}}function qp(i,r,o,u){if(id){var f=Hp(u);if(f===null)kp(i,r,u,sd,o),Gw(i,u);else if(yI(f,i,r,o,u))u.stopPropagation();else if(Gw(i,u),r&4&&-1<gI.indexOf(i)){for(;f!==null;){var g=ri(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=$i(g.pendingLanes);if(_!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;_;){var O=1<<31-xt(_);C.entanglements[1]|=O,_&=~O}us(g),(ot&6)===0&&(Uh=Ft()+500,Ic(0))}}break;case 31:case 13:C=Ea(g,2),C!==null&&jn(C,g,2),Fh(),Fp(g,2)}if(g=Hp(u),g===null&&kp(i,r,u,sd,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else kp(i,r,u,null,o)}}function Hp(i){return i=ai(i),$p(i)}var sd=null;function $p(i){if(sd=null,i=Xi(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=h(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return sd=i,null}function $w(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hn()){case Ti:return 2;case As:return 8;case Rn:case Cs:return 32;case $n:return 268435456;default:return 32}default:return 32}}var Gp=!1,Mr=null,Pr=null,Or=null,Lc=new Map,zc=new Map,Vr=[],gI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gw(i,r){switch(i){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":Lc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":zc.delete(r.pointerId)}}function jc(i,r,o,u,f,g){return i===null||i.nativeEvent!==g?(i={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},r!==null&&(r=ri(r),r!==null&&qw(r)),i):(i.eventSystemFlags|=u,r=i.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),i)}function yI(i,r,o,u,f){switch(r){case"focusin":return Mr=jc(Mr,i,r,o,u,f),!0;case"dragenter":return Pr=jc(Pr,i,r,o,u,f),!0;case"mouseover":return Or=jc(Or,i,r,o,u,f),!0;case"pointerover":var g=f.pointerId;return Lc.set(g,jc(Lc.get(g)||null,i,r,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,zc.set(g,jc(zc.get(g)||null,i,r,o,u,f)),!0}return!1}function Kw(i){var r=Xi(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Ei(i.priority,function(){Hw(o)});return}}else if(r===31){if(r=h(o),r!==null){i.blockedOn=r,Ei(i.priority,function(){Hw(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rd(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Hp(i.nativeEvent);if(o===null){o=i.nativeEvent;var u=new o.constructor(o.type,o);Jl=u,o.target.dispatchEvent(u),Jl=null}else return r=ri(o),r!==null&&qw(r),i.blockedOn=o,!1;r.shift()}return!0}function Yw(i,r,o){rd(i)&&o.delete(r)}function vI(){Gp=!1,Mr!==null&&rd(Mr)&&(Mr=null),Pr!==null&&rd(Pr)&&(Pr=null),Or!==null&&rd(Or)&&(Or=null),Lc.forEach(Yw),zc.forEach(Yw)}function ad(i,r){i.blockedOn===r&&(i.blockedOn=null,Gp||(Gp=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,vI)))}var od=null;function Qw(i){od!==i&&(od=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){od===i&&(od=null);for(var r=0;r<i.length;r+=3){var o=i[r],u=i[r+1],f=i[r+2];if(typeof u!="function"){if($p(u||o)===null)continue;break}var g=ri(o);g!==null&&(i.splice(r,3),r-=3,Hm(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Qo(i){function r(O){return ad(O,i)}Mr!==null&&ad(Mr,i),Pr!==null&&ad(Pr,i),Or!==null&&ad(Or,i),Lc.forEach(r),zc.forEach(r);for(var o=0;o<Vr.length;o++){var u=Vr[o];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Vr.length&&(o=Vr[0],o.blockedOn===null);)Kw(o),o.blockedOn===null&&Vr.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],_=f[on]||null;if(typeof g=="function")_||Qw(o);else if(_){var C=null;if(g&&g.hasAttribute("formAction")){if(f=g,_=g[on]||null)C=_.formAction;else if($p(f)!==null)continue}else C=_.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),Qw(o)}}}function Xw(){function i(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function Kp(i){this._internalRoot=i}ld.prototype.render=Kp.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,u=ei();Bw(o,u,i,r,null,null)},ld.prototype.unmount=Kp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;Bw(i.current,2,null,i,null,null),Fh(),r[Yi]=null}};function ld(i){this._internalRoot=i}ld.prototype.unstable_scheduleHydration=function(i){if(i){var r=Fu();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Vr.length&&r!==0&&r<Vr[o].priority;o++);Vr.splice(o,0,i),o===0&&Kw(i)}};var Ww=e.version;if(Ww!=="19.2.4")throw Error(s(527,Ww,"19.2.4"));oe.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=m(r),i=i!==null?y(i):null,i=i===null?null:i.stateNode,i};var bI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{pe=cd.inject(bI),Te=cd}catch{}}return Bc.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,u="",f=s_,g=r_,_=a_;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=jw(i,1,!1,null,null,o,u,null,f,g,_,Xw),i[Yi]=r.current,Rp(i),new Kp(r)},Bc.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var u=!1,f="",g=s_,_=r_,C=a_,O=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.formState!==void 0&&(O=o.formState)),r=jw(i,1,!0,r,o??null,u,f,O,g,_,C,Xw),r.context=Uw(null),o=r.current,u=ei(),u=da(u),f=wr(u),f.callback=null,Tr(o,f,u),o=u,r.current.lanes=o,ua(r,o),us(r),i[Yi]=r.current,Rp(i),new ld(r)},Bc.version="19.2.4",Bc}var oT;function kI(){if(oT)return Xp.exports;oT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Xp.exports=RI(),Xp.exports}var II=kI();const Pe=n=>typeof n=="string",Fc=()=>{let n,e;const t=new Promise((s,a)=>{n=s,e=a});return t.resolve=n,t.reject=e,t},lT=n=>n==null?"":""+n,NI=(n,e,t)=>{n.forEach(s=>{e[s]&&(t[s]=e[s])})},DI=/###/g,cT=n=>n&&n.indexOf("###")>-1?n.replace(DI,"."):n,uT=n=>!n||Pe(n),Jc=(n,e,t)=>{const s=Pe(e)?e.split("."):e;let a=0;for(;a<s.length-1;){if(uT(n))return{};const l=cT(s[a]);!n[l]&&t&&(n[l]=new t),Object.prototype.hasOwnProperty.call(n,l)?n=n[l]:n={},++a}return uT(n)?{}:{obj:n,k:cT(s[a])}},hT=(n,e,t)=>{const{obj:s,k:a}=Jc(n,e,Object);if(s!==void 0||e.length===1){s[a]=t;return}let l=e[e.length-1],c=e.slice(0,e.length-1),h=Jc(n,c,Object);for(;h.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),h=Jc(n,c,Object),h?.obj&&typeof h.obj[`${h.k}.${l}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${l}`]=t},MI=(n,e,t,s)=>{const{obj:a,k:l}=Jc(n,e,Object);a[l]=a[l]||[],a[l].push(t)},Bd=(n,e)=>{const{obj:t,k:s}=Jc(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,s))return t[s]},PI=(n,e,t)=>{const s=Bd(n,t);return s!==void 0?s:Bd(e,t)},F1=(n,e,t)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in n?Pe(n[s])||n[s]instanceof String||Pe(e[s])||e[s]instanceof String?t&&(n[s]=e[s]):F1(n[s],e[s],t):n[s]=e[s]);return n},Xo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var OI={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const VI=n=>Pe(n)?n.replace(/[&<>"'\/]/g,e=>OI[e]):n;class LI{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const zI=[" ",",","?","!",";"],jI=new LI(20),UI=(n,e,t)=>{e=e||"",t=t||"";const s=zI.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(s.length===0)return!0;const a=jI.getRegExp(`(${s.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(n);if(!l){const c=n.indexOf(t);c>0&&!a.test(n.substring(0,c))&&(l=!0)}return l},qg=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const s=e.split(t);let a=n;for(let l=0;l<s.length;){if(!a||typeof a!="object")return;let c,h="";for(let p=l;p<s.length;++p)if(p!==l&&(h+=t),h+=s[p],c=a[h],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&p<s.length-1)continue;l+=p-l+1;break}a=c}return a},uu=n=>n?.replace("_","-"),BI={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){console?.[n]?.apply?.(console,e)}};let FI=class Hg{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||BI,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,s,a){return a&&!this.debug?null:(Pe(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Hg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Hg(this.logger,e)}};var fs=new FI;class wf{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const a=this.observers[s].get(t)||0;this.observers[s].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let c=0;c<l;c++)a.apply(a,[e,...t])})}}class dT extends wf{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,s,a={}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,t],s&&(Array.isArray(s)?h.push(...s):Pe(s)&&l?h.push(...s.split(l)):h.push(s)));const p=Bd(this.data,h);return!p&&!t&&!s&&e.indexOf(".")>-1&&(e=h[0],t=h[1],s=h.slice(2).join(".")),p||!c||!Pe(s)?p:qg(this.data?.[e]?.[t],s,l)}addResource(e,t,s,a,l={silent:!1}){const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let h=[e,t];s&&(h=h.concat(c?s.split(c):s)),e.indexOf(".")>-1&&(h=e.split("."),a=t,t=h[1]),this.addNamespaces(t),hT(this.data,h,a),l.silent||this.emit("added",e,t,s,a)}addResources(e,t,s,a={silent:!1}){for(const l in s)(Pe(s[l])||Array.isArray(s[l]))&&this.addResource(e,t,l,s[l],{silent:!0});a.silent||this.emit("added",e,t,s)}addResourceBundle(e,t,s,a,l,c={silent:!1,skipCopy:!1}){let h=[e,t];e.indexOf(".")>-1&&(h=e.split("."),a=s,s=t,t=h[1]),this.addNamespaces(t);let p=Bd(this.data,h)||{};c.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?F1(p,s,l):p={...p,...s},hT(this.data,h,p),c.silent||this.emit("added",e,t,s)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var q1={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,s,a){return n.forEach(l=>{e=this.processors[l]?.process(e,t,s,a)??e}),e}};const H1=Symbol("i18next/PATH_KEY");function qI(){const n=[],e=Object.create(null);let t;return e.get=(s,a)=>(t?.revoke?.(),a===H1?n:(n.push(a),t=Proxy.revocable(s,e),t.proxy)),Proxy.revocable(Object.create(null),e).proxy}function $g(n,e){const{[H1]:t}=n(qI());return t.join(e?.keySeparator??".")}const fT={},eg=n=>!Pe(n)&&typeof n!="boolean"&&typeof n!="number";class Fd extends wf{constructor(e,t={}){super(),NI(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=fs.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const s={...t};if(e==null)return!1;const a=this.resolve(e,s);if(a?.res===void 0)return!1;const l=eg(a.res);return!(s.returnObjects===!1&&l)}extractFromKey(e,t){let s=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const c=s&&e.indexOf(s)>-1,h=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!UI(e,s,a);if(c&&!h){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:Pe(l)?[l]:l};const m=e.split(s);(s!==a||s===a&&this.options.ns.indexOf(m[0])>-1)&&(l=m.shift()),e=m.join(a)}return{key:e,namespaces:Pe(l)?[l]:l}}translate(e,t,s){let a=typeof t=="object"?{...t}:t;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=$g(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,c=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:h,namespaces:p}=this.extractFromKey(e[e.length-1],a),m=p[p.length-1];let y=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;y===void 0&&(y=":");const v=a.lng||this.language,w=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v?.toLowerCase()==="cimode")return w?l?{res:`${m}${y}${h}`,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:`${m}${y}${h}`:l?{res:h,usedKey:h,exactUsedKey:h,usedLng:v,usedNS:m,usedParams:this.getUsedParamsDetails(a)}:h;const S=this.resolve(e,a);let N=S?.res;const j=S?.usedKey||h,L=S?.exactUsedKey||h,F=["[object Number]","[object Function]","[object RegExp]"],W=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,J=!this.i18nFormat||this.i18nFormat.handleAsObject,re=a.count!==void 0&&!Pe(a.count),he=Fd.hasDefaultValue(a),me=re?this.pluralResolver.getSuffix(v,a.count,a):"",R=a.ordinal&&re?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",A=re&&!a.ordinal&&a.count===0,I=A&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${me}`]||a[`defaultValue${R}`]||a.defaultValue;let M=N;J&&!N&&he&&(M=I);const P=eg(M),V=Object.prototype.toString.apply(M);if(J&&M&&P&&F.indexOf(V)<0&&!(Pe(W)&&Array.isArray(M))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const D=this.options.returnedObjectHandler?this.options.returnedObjectHandler(j,M,{...a,ns:p}):`key '${h} (${this.language})' returned an object instead of string.`;return l?(S.res=D,S.usedParams=this.getUsedParamsDetails(a),S):D}if(c){const D=Array.isArray(M),Re=D?[]:{},Ve=D?L:j;for(const X in M)if(Object.prototype.hasOwnProperty.call(M,X)){const oe=`${Ve}${c}${X}`;he&&!N?Re[X]=this.translate(oe,{...a,defaultValue:eg(I)?I[X]:void 0,joinArrays:!1,ns:p}):Re[X]=this.translate(oe,{...a,joinArrays:!1,ns:p}),Re[X]===oe&&(Re[X]=M[X])}N=Re}}else if(J&&Pe(W)&&Array.isArray(N))N=N.join(W),N&&(N=this.extendTranslation(N,e,a,s));else{let D=!1,Re=!1;!this.isValidLookup(N)&&he&&(D=!0,N=I),this.isValidLookup(N)||(Re=!0,N=h);const X=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Re?void 0:N,oe=he&&I!==N&&this.options.updateMissing;if(Re||D||oe){if(this.logger.log(oe?"updateKey":"missingKey",v,m,h,oe?I:N),c){const E=this.resolve(h,{...a,keySeparator:!1});E&&E.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[];const Ee=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Ee&&Ee[0])for(let E=0;E<Ee.length;E++)ye.push(Ee[E]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(a.lng||this.language):ye.push(a.lng||this.language);const z=(E,B,Y)=>{const ne=he&&Y!==N?Y:X;this.options.missingKeyHandler?this.options.missingKeyHandler(E,m,B,ne,oe,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(E,m,B,ne,oe,a),this.emit("missingKey",E,m,B,N)};this.options.saveMissing&&(this.options.saveMissingPlurals&&re?ye.forEach(E=>{const B=this.pluralResolver.getSuffixes(E,a);A&&a[`defaultValue${this.options.pluralSeparator}zero`]&&B.indexOf(`${this.options.pluralSeparator}zero`)<0&&B.push(`${this.options.pluralSeparator}zero`),B.forEach(Y=>{z([E],h+Y,a[`defaultValue${Y}`]||I)})}):z(ye,h,I))}N=this.extendTranslation(N,e,a,S,s),Re&&N===h&&this.options.appendNamespaceToMissingKey&&(N=`${m}${y}${h}`),(Re||D)&&this.options.parseMissingKeyHandler&&(N=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}${y}${h}`:h,D?N:void 0,a))}return l?(S.res=N,S.usedParams=this.getUsedParamsDetails(a),S):N}extendTranslation(e,t,s,a,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const p=Pe(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let m;if(p){const v=e.match(this.interpolator.nestingRegexp);m=v&&v.length}let y=s.replace&&!Pe(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(y={...this.options.interpolation.defaultVariables,...y}),e=this.interpolator.interpolate(e,y,s.lng||this.language||a.usedLng,s),p){const v=e.match(this.interpolator.nestingRegexp),w=v&&v.length;m<w&&(s.nest=!1)}!s.lng&&a&&a.res&&(s.lng=this.language||a.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...v)=>l?.[0]===v[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${v[0]} in key: ${t[0]}`),null):this.translate(...v,t),s)),s.interpolation&&this.interpolator.reset()}const c=s.postProcess||this.options.postProcess,h=Pe(c)?[c]:c;return e!=null&&h?.length&&s.applyPostProcessor!==!1&&(e=q1.handle(h,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,t={}){let s,a,l,c,h;return Pe(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(s))return;const m=this.extractFromKey(p,t),y=m.key;a=y;let v=m.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const w=t.count!==void 0&&!Pe(t.count),S=w&&!t.ordinal&&t.count===0,N=t.context!==void 0&&(Pe(t.context)||typeof t.context=="number")&&t.context!=="",j=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(L=>{this.isValidLookup(s)||(h=L,!fT[`${j[0]}-${L}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(h)&&(fT[`${j[0]}-${L}`]=!0,this.logger.warn(`key "${a}" for languages "${j.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),j.forEach(F=>{if(this.isValidLookup(s))return;c=F;const W=[y];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(W,y,F,L,t);else{let re;w&&(re=this.pluralResolver.getSuffix(F,t.count,t));const he=`${this.options.pluralSeparator}zero`,me=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(t.ordinal&&re.indexOf(me)===0&&W.push(y+re.replace(me,this.options.pluralSeparator)),W.push(y+re),S&&W.push(y+he)),N){const R=`${y}${this.options.contextSeparator||"_"}${t.context}`;W.push(R),w&&(t.ordinal&&re.indexOf(me)===0&&W.push(R+re.replace(me,this.options.pluralSeparator)),W.push(R+re),S&&W.push(R+he))}}let J;for(;J=W.pop();)this.isValidLookup(s)||(l=J,s=this.getResource(F,L,J,t))}))})}),{res:s,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,s,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,t,s,a):this.resourceStore.getResource(e,t,s,a)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!Pe(e.replace);let a=s?e.replace:e;if(s&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!s){a={...a};for(const l of t)delete a[l]}return a}static hasDefaultValue(e){const t="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&t===s.substring(0,t.length)&&e[s]!==void 0)return!0;return!1}}class mT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=fs.create("languageUtils")}getScriptPartFromCode(e){if(e=uu(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=uu(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Pe(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(s=>{if(t)return;const a=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(s=>{if(t)return;const a=this.getScriptPartFromCode(s);if(this.isSupportedCode(a))return t=a;const l=this.getLanguagePartFromCode(s);if(this.isSupportedCode(l))return t=l;t=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Pe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let s=e[t];return s||(s=e[this.getScriptPartFromCode(t)]),s||(s=e[this.formatLanguageCode(t)]),s||(s=e[this.getLanguagePartFromCode(t)]),s||(s=e.default),s||[]}toResolveHierarchy(e,t){const s=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return Pe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):Pe(e)&&l(this.formatLanguageCode(e)),s.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const pT={zero:0,one:1,two:2,few:3,many:4,other:5},gT={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class HI{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=fs.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const s=uu(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:s,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(s,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),gT;if(!e.match(/-|_/))return gT;const p=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(p,t)}return this.pluralRulesCache[l]=c,c}needsPlural(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,t,s={}){return this.getSuffixes(e,s).map(a=>`${t}${a}`)}getSuffixes(e,t={}){let s=this.getRule(e,t);return s||(s=this.getRule("dev",t)),s?s.resolvedOptions().pluralCategories.sort((a,l)=>pT[a]-pT[l]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t,s={}){const a=this.getRule(e,s);return a?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,s))}}const yT=(n,e,t,s=".",a=!0)=>{let l=PI(n,e,t);return!l&&a&&Pe(t)&&(l=qg(n,t,s),l===void 0&&(l=qg(e,t,s))),l},tg=n=>n.replace(/\$/g,"$$$$");class vT{constructor(e={}){this.logger=fs.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(t=>t),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:s,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:h,suffixEscaped:p,formatSeparator:m,unescapeSuffix:y,unescapePrefix:v,nestingPrefix:w,nestingPrefixEscaped:S,nestingSuffix:N,nestingSuffixEscaped:j,nestingOptionsSeparator:L,maxReplaces:F,alwaysFormat:W}=e.interpolation;this.escape=t!==void 0?t:VI,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Xo(l):c||"{{",this.suffix=h?Xo(h):p||"}}",this.formatSeparator=m||",",this.unescapePrefix=y?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=w?Xo(w):S||Xo("$t("),this.nestingSuffix=N?Xo(N):j||Xo(")"),this.nestingOptionsSeparator=L||",",this.maxReplaces=F||1e3,this.alwaysFormat=W!==void 0?W:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,s)=>t?.source===s?(t.lastIndex=0,t):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,s,a){let l,c,h;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},m=S=>{if(S.indexOf(this.formatSeparator)<0){const F=yT(t,p,S,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(F,void 0,s,{...a,...t,interpolationkey:S}):F}const N=S.split(this.formatSeparator),j=N.shift().trim(),L=N.join(this.formatSeparator).trim();return this.format(yT(t,p,j,this.options.keySeparator,this.options.ignoreJSONStructure),L,s,{...a,...t,interpolationkey:j})};this.resetRegExp();const y=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,v=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:S=>tg(S)},{regex:this.regexp,safeValue:S=>this.escapeValue?tg(this.escape(S)):tg(S)}].forEach(S=>{for(h=0;l=S.regex.exec(e);){const N=l[1].trim();if(c=m(N),c===void 0)if(typeof y=="function"){const L=y(e,l,a);c=Pe(L)?L:""}else if(a&&Object.prototype.hasOwnProperty.call(a,N))c="";else if(v){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${N} for interpolating ${e}`),c="";else!Pe(c)&&!this.useRawValueToEscape&&(c=lT(c));const j=S.safeValue(c);if(e=e.replace(l[0],j),v?(S.regex.lastIndex+=c.length,S.regex.lastIndex-=l[0].length):S.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,t,s={}){let a,l,c;const h=(p,m)=>{const y=this.nestingOptionsSeparator;if(p.indexOf(y)<0)return p;const v=p.split(new RegExp(`${y}[ ]*{`));let w=`{${v[1]}`;p=v[0],w=this.interpolate(w,c);const S=w.match(/'/g),N=w.match(/"/g);((S?.length??0)%2===0&&!N||N.length%2!==0)&&(w=w.replace(/'/g,'"'));try{c=JSON.parse(w),m&&(c={...m,...c})}catch(j){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,j),`${p}${y}${w}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,p};for(;a=this.nestingRegexp.exec(e);){let p=[];c={...s},c=c.replace&&!Pe(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;const m=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(m!==-1&&(p=a[1].slice(m).split(this.formatSeparator).map(y=>y.trim()).filter(Boolean),a[1]=a[1].slice(0,m)),l=t(h.call(this,a[1].trim(),c),c),l&&a[0]===e&&!Pe(l))return l;Pe(l)||(l=lT(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),p.length&&(l=p.reduce((y,v)=>this.format(y,v,s.lng,{...s,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const $I=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const s=n.split("(");e=s[0].toLowerCase().trim();const a=s[1].substring(0,s[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(c=>{if(c){const[h,...p]=c.split(":"),m=p.join(":").trim().replace(/^'+|'+$/g,""),y=h.trim();t[y]||(t[y]=m),m==="false"&&(t[y]=!1),m==="true"&&(t[y]=!0),isNaN(m)||(t[y]=parseInt(m,10))}})}return{formatName:e,formatOptions:t}},bT=n=>{const e={};return(t,s,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=s+JSON.stringify(l);let h=e[c];return h||(h=n(uu(s),a),e[c]=h),h(t)}},GI=n=>(e,t,s)=>n(uu(t),s)(e);class KI{constructor(e={}){this.logger=fs.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const s=t.cacheInBuiltFormats?bT:GI;this.formats={number:s((a,l)=>{const c=new Intl.NumberFormat(a,{...l});return h=>c.format(h)}),currency:s((a,l)=>{const c=new Intl.NumberFormat(a,{...l,style:"currency"});return h=>c.format(h)}),datetime:s((a,l)=>{const c=new Intl.DateTimeFormat(a,{...l});return h=>c.format(h)}),relativetime:s((a,l)=>{const c=new Intl.RelativeTimeFormat(a,{...l});return h=>c.format(h,l.range||"day")}),list:s((a,l)=>{const c=new Intl.ListFormat(a,{...l});return h=>c.format(h)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=bT(t)}format(e,t,s,a={}){const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(h=>h.indexOf(")")>-1)){const h=l.findIndex(p=>p.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,h)].join(this.formatSeparator)}return l.reduce((h,p)=>{const{formatName:m,formatOptions:y}=$I(p);if(this.formats[m]){let v=h;try{const w=a?.formatParams?.[a.interpolationkey]||{},S=w.locale||w.lng||a.locale||a.lng||s;v=this.formats[m](h,S,{...y,...a,...w})}catch(w){this.logger.warn(w)}return v}else this.logger.warn(`there was no format function for ${m}`);return h},e)}}const YI=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class QI extends wf{constructor(e,t,s,a={}){super(),this.backend=e,this.store=t,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=fs.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,a.backend,a)}queueLoad(e,t,s,a){const l={},c={},h={},p={};return e.forEach(m=>{let y=!0;t.forEach(v=>{const w=`${m}|${v}`;!s.reload&&this.store.hasResourceBundle(m,v)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?c[w]===void 0&&(c[w]=!0):(this.state[w]=1,y=!1,c[w]===void 0&&(c[w]=!0),l[w]===void 0&&(l[w]=!0),p[v]===void 0&&(p[v]=!0)))}),y||(h[m]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(p)}}loaded(e,t,s){const a=e.split("|"),l=a[0],c=a[1];t&&this.emit("failedLoading",l,c,t),!t&&s&&this.store.addResourceBundle(l,c,s,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&s&&(this.state[e]=0);const h={};this.queue.forEach(p=>{MI(p.loaded,[l],c),YI(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(m=>{h[m]||(h[m]={});const y=p.loaded[m];y.length&&y.forEach(v=>{h[m][v]===void 0&&(h[m][v]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(p=>!p.done)}read(e,t,s,a=0,l=this.retryTimeout,c){if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:s,tried:a,wait:l,callback:c});return}this.readingCalls++;const h=(m,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(m&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,s,a+1,l*2,c)},l);return}c(m,y)},p=this.backend[s].bind(this.backend);if(p.length===2){try{const m=p(e,t);m&&typeof m.then=="function"?m.then(y=>h(null,y)).catch(h):h(null,m)}catch(m){h(m)}return}return p(e,t,h)}prepareLoading(e,t,s={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Pe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pe(t)&&(t=[t]);const l=this.queueLoad(e,t,s,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,s){this.prepareLoading(e,t,{},s)}reload(e,t,s){this.prepareLoading(e,t,{reload:!0},s)}loadOne(e,t=""){const s=e.split("|"),a=s[0],l=s[1];this.read(a,l,"read",void 0,void 0,(c,h)=>{c&&this.logger.warn(`${t}loading namespace ${l} for language ${a} failed`,c),!c&&h&&this.logger.log(`${t}loaded namespace ${l} for language ${a}`,h),this.loaded(e,c,h)})}saveMissing(e,t,s,a,l,c={},h=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(t)){this.logger.warn(`did not save key "${s}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const p={...c,isUpdate:l},m=this.backend.create.bind(this.backend);if(m.length<6)try{let y;m.length===5?y=m(e,t,s,a,p):y=m(e,t,s,a),y&&typeof y.then=="function"?y.then(v=>h(null,v)).catch(h):h(null,y)}catch(y){h(y)}else m(e,t,s,a,h,p)}!e||!e[0]||this.store.addResource(e[0],t,s,a)}}}const ng=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Pe(n[1])&&(e.defaultValue=n[1]),Pe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(s=>{e[s]=t[s]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),_T=n=>(Pe(n.ns)&&(n.ns=[n.ns]),Pe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Pe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),n.supportedLngs?.indexOf?.("cimode")<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n),ud=()=>{},XI=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})},WI=n=>!!(n?.modules?.backend?.name?.indexOf("Locize")>0||n?.modules?.backend?.constructor?.name?.indexOf("Locize")>0||n?.options?.backend?.backends&&n.options.backend.backends.some(e=>e?.name?.indexOf("Locize")>0||e?.constructor?.name?.indexOf("Locize")>0));class Zc extends wf{constructor(e={},t){if(super(),this.options=_T(e),this.services={},this.logger=fs,this.modules={external:[]},XI(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Pe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=ng();this.options={...s,...this.options,..._T(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=s.overloadTranslationOptionHandler),this.options.showSupportNotice!==!1&&!WI(this)&&typeof console<"u"&&typeof console.info<"u"&&console.info(" i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com ");const a=m=>m?typeof m=="function"?new m:m:null;if(!this.options.isClone){this.modules.logger?fs.init(a(this.modules.logger),this.options):fs.init(null,this.options);let m;this.modules.formatter?m=this.modules.formatter:m=KI;const y=new mT(this.options);this.store=new dT(this.options.resources,this.options);const v=this.services;v.logger=fs,v.resourceStore=this.store,v.languageUtils=y,v.pluralResolver=new HI(y,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),m&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(v.formatter=a(m),v.formatter.init&&v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new vT(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new QI(a(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(S,...N)=>{this.emit(S,...N)}),this.modules.languageDetector&&(v.languageDetector=a(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=a(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Fd(this.services,this.options),this.translator.on("*",(S,...N)=>{this.emit(S,...N)}),this.modules.external.forEach(S=>{S.init&&S.init(this)})}if(this.format=this.options.interpolation.format,t||(t=ud),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const m=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);m.length>0&&m[0]!=="dev"&&(this.options.lng=m[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(m=>{this[m]=(...y)=>this.store[m](...y)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(m=>{this[m]=(...y)=>(this.store[m](...y),this)});const h=Fc(),p=()=>{const m=(y,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(v),t(y,v)};if(this.languages&&!this.isInitialized)return m(null,this.t.bind(this));this.changeLanguage(this.options.lng,m)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),h}loadResources(e,t=ud){let s=t;const a=Pe(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const l=[],c=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(m=>{m!=="cimode"&&l.indexOf(m)<0&&l.push(m)})};a?c(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(p=>c(p)),this.options.preload?.forEach?.(h=>c(h)),this.services.backendConnector.load(l,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(h)})}else s(null)}reloadResources(e,t,s){const a=Fc();return typeof e=="function"&&(s=e,e=void 0),typeof t=="function"&&(s=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),s||(s=ud),this.services.backendConnector.reload(e,t,l=>{a.resolve(),s(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&q1.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const s=this.languages[t];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const s=Fc();this.emit("languageChanging",e);const a=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},l=(h,p)=>{p?this.isLanguageChangingTo===e&&(a(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,s.resolve((...m)=>this.t(...m)),t&&t(h,(...m)=>this.t(...m))},c=h=>{!e&&!h&&this.services.languageDetector&&(h=[]);const p=Pe(h)?h:h&&h[0],m=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(Pe(h)?[h]:h);m&&(this.language||a(m),this.translator.language||this.translator.changeLanguage(m),this.services.languageDetector?.cacheUserLanguage?.(m)),this.loadResources(m,y=>{l(y,m)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?c(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(c):this.services.languageDetector.detect(c):c(e),s}getFixedT(e,t,s){const a=(l,c,...h)=>{let p;typeof c!="object"?p=this.options.overloadTranslationOptionHandler([l,c].concat(h)):p={...c},p.lng=p.lng||a.lng,p.lngs=p.lngs||a.lngs,p.ns=p.ns||a.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||s||a.keyPrefix);const m=this.options.keySeparator||".";let y;return p.keyPrefix&&Array.isArray(l)?y=l.map(v=>(typeof v=="function"&&(v=$g(v,{...this.options,...c})),`${p.keyPrefix}${m}${v}`)):(typeof l=="function"&&(l=$g(l,{...this.options,...c})),y=p.keyPrefix?`${p.keyPrefix}${m}${l}`:l),this.t(y,p)};return Pe(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=s,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const c=(h,p)=>{const m=this.services.backendConnector.state[`${h}|${p}`];return m===-1||m===0||m===2};if(t.precheck){const h=t.precheck(this,c);if(h!==void 0)return h}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(s,e)&&(!a||c(l,e)))}loadNamespaces(e,t){const s=Fc();return this.options.ns?(Pe(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{s.resolve(),t&&t(a)}),s):(t&&t(),Promise.resolve())}loadLanguages(e,t){const s=Fc();Pe(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{s.resolve(),t&&t(c)}),s):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new mT(ng());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const s=new Zc(e,t);return s.createInstance=Zc.createInstance,s}cloneInstance(e={},t=ud){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new Zc(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(h=>{l[h]=this[h]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},s){const h=Object.keys(this.store.data).reduce((p,m)=>(p[m]={...this.store.data[m]},p[m]=Object.keys(p[m]).reduce((y,v)=>(y[v]={...p[m][v]},y),p[m]),p),{});l.store=new dT(h,a),l.services.resourceStore=l.store}if(e.interpolation){const p={...ng().interpolation,...this.options.interpolation,...e.interpolation},m={...a,interpolation:p};l.services.interpolator=new vT(m)}return l.translator=new Fd(l.services,a),l.translator.on("*",(h,...p)=>{l.emit(h,...p)}),l.init(a,t),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Cn=Zc.createInstance();Cn.createInstance;Cn.dir;Cn.init;Cn.loadResources;Cn.reloadResources;Cn.use;Cn.changeLanguage;Cn.getFixedT;Cn.t;Cn.exists;Cn.setDefaultNamespace;Cn.hasLoadedNamespace;Cn.loadNamespaces;Cn.loadLanguages;const JI=(n,e,t,s)=>{const a=[t,{code:e,...s||{}}];if(n?.services?.logger?.forward)return n.services.logger.forward(a,"warn","react-i18next::",!0);Xa(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),n?.services?.logger?.warn?n.services.logger.warn(...a):console?.warn&&console.warn(...a)},wT={},$1=(n,e,t,s)=>{Xa(t)&&wT[t]||(Xa(t)&&(wT[t]=new Date),JI(n,e,t,s))},G1=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Gg=(n,e,t)=>{n.loadNamespaces(e,G1(n,t))},TT=(n,e,t,s)=>{if(Xa(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Gg(n,t,s);t.forEach(a=>{n.options.ns.indexOf(a)<0&&n.options.ns.push(a)}),n.loadLanguages(e,G1(n,s))},ZI=(n,e,t={})=>!e.languages||!e.languages.length?($1(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(s,a)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,n))return!1}}),Xa=n=>typeof n=="string",eN=n=>typeof n=="object"&&n!==null,tN=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,nN={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},iN=n=>nN[n],sN=n=>n.replace(tN,iN);let Kg={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:sN,transDefaultProps:void 0};const rN=(n={})=>{Kg={...Kg,...n}},aN=()=>Kg;let K1;const oN=n=>{K1=n},lN=()=>K1,cN={type:"3rdParty",init(n){rN(n.options.react),oN(n)}},uN=Q.createContext();class hN{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var ig={exports:{}},sg={};var xT;function dN(){if(xT)return sg;xT=1;var n=_f();function e(v,w){return v===w&&(v!==0||1/v===1/w)||v!==v&&w!==w}var t=typeof Object.is=="function"?Object.is:e,s=n.useState,a=n.useEffect,l=n.useLayoutEffect,c=n.useDebugValue;function h(v,w){var S=w(),N=s({inst:{value:S,getSnapshot:w}}),j=N[0].inst,L=N[1];return l(function(){j.value=S,j.getSnapshot=w,p(j)&&L({inst:j})},[v,S,w]),a(function(){return p(j)&&L({inst:j}),v(function(){p(j)&&L({inst:j})})},[v]),c(S),S}function p(v){var w=v.getSnapshot;v=v.value;try{var S=w();return!t(v,S)}catch{return!0}}function m(v,w){return w()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return sg.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,sg}var ET;function fN(){return ET||(ET=1,ig.exports=dN()),ig.exports}var mN=fN();const pN=(n,e)=>Xa(e)?e:eN(e)&&Xa(e.defaultValue)?e.defaultValue:Array.isArray(n)?n[n.length-1]:n,gN={t:pN,ready:!1},yN=()=>()=>{},Tf=(n,e={})=>{const{i18n:t}=e,{i18n:s,defaultNS:a}=Q.useContext(uN)||{},l=t||s||lN();l&&!l.reportNamespaces&&(l.reportNamespaces=new hN),l||$1(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const c=Q.useMemo(()=>({...aN(),...l?.options?.react,...e}),[l,e]),{useSuspense:h,keyPrefix:p}=c,m=a||l?.options?.defaultNS,y=Xa(m)?[m]:m||["translation"],v=Q.useMemo(()=>y,y);l?.reportNamespaces?.addUsedNamespaces?.(v);const w=Q.useRef(0),S=Q.useCallback(I=>{if(!l)return yN;const{bindI18n:M,bindI18nStore:P}=c,V=()=>{w.current+=1,I()};return M&&l.on(M,V),P&&l.store.on(P,V),()=>{M&&M.split(" ").forEach(D=>l.off(D,V)),P&&P.split(" ").forEach(D=>l.store.off(D,V))}},[l,c]),N=Q.useRef(),j=Q.useCallback(()=>{if(!l)return gN;const I=!!(l.isInitialized||l.initializedStoreOnce)&&v.every(Ve=>ZI(Ve,l,c)),M=e.lng||l.language,P=w.current,V=N.current;if(V&&V.ready===I&&V.lng===M&&V.keyPrefix===p&&V.revision===P)return V;const Re={t:l.getFixedT(M,c.nsMode==="fallback"?v:v[0],p),ready:I,lng:M,keyPrefix:p,revision:P};return N.current=Re,Re},[l,v,p,c,e.lng]),[L,F]=Q.useState(0),{t:W,ready:J}=mN.useSyncExternalStore(S,j,j);Q.useEffect(()=>{if(l&&!J&&!h){const I=()=>F(M=>M+1);e.lng?TT(l,e.lng,v,I):Gg(l,v,I)}},[l,e.lng,v,J,h,L]);const re=l||{},he=Q.useRef(null),me=Q.useRef(),R=I=>{const M=Object.getOwnPropertyDescriptors(I);M.__original&&delete M.__original;const P=Object.create(Object.getPrototypeOf(I),M);if(!Object.prototype.hasOwnProperty.call(P,"__original"))try{Object.defineProperty(P,"__original",{value:I,writable:!1,enumerable:!1,configurable:!1})}catch{}return P},A=Q.useMemo(()=>{const I=re,M=I?.language;let P=I;I&&(he.current&&he.current.__original===I?me.current!==M?(P=R(I),he.current=P,me.current=M):P=he.current:(P=R(I),he.current=P,me.current=M));const V=[W,P,J];return V.t=W,V.i18n=P,V.ready=J,V},[W,re,J,re.resolvedLanguage,re.language,re.languages]);if(l&&h&&!J)throw new Promise(I=>{const M=()=>I();e.lng?TT(l,e.lng,v,M):Gg(l,v,M)});return A},{slice:vN,forEach:bN}=[];function _N(n){return bN.call(vN.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function wN(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const ST=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,TN=function(n,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${n}=${a}`;if(s.maxAge>0){const c=s.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(c)}`}if(s.domain){if(!ST.test(s.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${s.domain}`}if(s.path){if(!ST.test(s.path))throw new TypeError("option path is invalid");l+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(l+="; HttpOnly"),s.secure&&(l+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(l+="; Partitioned"),l},AT={create(n,e,t,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),s&&(a.domain=s),document.cookie=TN(n,e,a)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let s=0;s<t.length;s++){let a=t[s];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var xN={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return AT.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:s,cookieDomain:a,cookieOptions:l}=e;t&&typeof document<"u"&&AT.create(t,n,s,a,l)}},EN={name:"querystring",lookup(n){let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const l=s.substring(1).split("&");for(let c=0;c<l.length;c++){const h=l[c].indexOf("=");h>0&&l[c].substring(0,h)===e&&(t=l[c].substring(h+1))}}return t}},SN={name:"hash",lookup(n){let{lookupHash:e,lookupFromHashIndex:t}=n,s;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const l=a.substring(1);if(e){const c=l.split("&");for(let h=0;h<c.length;h++){const p=c[h].indexOf("=");p>0&&c[h].substring(0,p)===e&&(s=c[h].substring(p+1))}}if(s)return s;if(!s&&t>-1){const c=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(c)?c[typeof t=="number"?t:0]?.replace("/",""):void 0}}}return s}};let Wo=null;const CT=()=>{if(Wo!==null)return Wo;try{if(Wo=typeof window<"u"&&window.localStorage!==null,!Wo)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Wo=!1}return Wo};var AN={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&CT())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&CT()&&window.localStorage.setItem(t,n)}};let Jo=null;const RT=()=>{if(Jo!==null)return Jo;try{if(Jo=typeof window<"u"&&window.sessionStorage!==null,!Jo)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Jo=!1}return Jo};var CN={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&RT())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&RT()&&window.sessionStorage.setItem(t,n)}},RN={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:s,language:a}=navigator;if(t)for(let l=0;l<t.length;l++)e.push(t[l]);s&&e.push(s),a&&e.push(a)}return e.length>0?e:void 0}},kN={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(t=s.getAttribute("lang")),t}},IN={name:"path",lookup(n){let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?t[typeof e=="number"?e:0]?.replace("/",""):void 0}},NN={name:"subdomain",lookup(n){let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[t]}};let Y1=!1;try{document.cookie,Y1=!0}catch{}const Q1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Y1||Q1.splice(1,1);const DN=()=>({order:Q1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class X1{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=_N(t,this.options||{},DN()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(xN),this.addDetector(EN),this.addDetector(AN),this.addDetector(CN),this.addDetector(RN),this.addDetector(kN),this.addDetector(IN),this.addDetector(NN),this.addDetector(SN)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(s=>{if(this.detectors[s]){let a=this.detectors[s].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.filter(s=>s!=null&&!wN(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}X1.type="languageDetector";const MN={loading:"Loading app...",back:"Back",done:"Done",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",unknown:"Unknown"},PN={login:"Log in",login_subtitle:"Start planning and doing things together with your friends.",continue_google:"Continue with Google",logout:"Log out"},ON={hero_title:"Plan & Do Things Together.",hero_subtitle:"Create real-time plans with your friends. See who has checked what and celebrate your success with pictures!",create_plan:"Create new plan",join_plan:"Join plan",active_plans:"Your active plans",plans_count:"{{count}} plans",no_active_plans:"No active plans yet. Create your first one!"},VN={all_plans:"All Plans",progress:"Progress",completed:"Completed",step_of:"{{current}} of {{total}} steps done",what_else:"What else?",fixed_by:"FIXED BY {{name}}",reopen_plan:"Open plan again",empty_plan:"The plan is empty. What are you waiting for?",delete_plan_confirm:"Do you really want to delete this plan?",delete_completed_plan_confirm:"Do you want to delete this completed plan?",only_owner_can_delete:"Only the owner can delete an active plan",plan_deleted:"Plan deleted",plan_created:"Plan created!",plan_reopened:"Plan opened again",item_added:"Item added",item_removed:"Item removed",item_updated:"Item updated",join_invalid:"Invalid or expired invitation link",join_success:"Joined {{name}}!",join_error:"Could not join the plan",update_error:"Could not update",create_error:"Could not create the plan"},LN={title:"Profile",language:"Language",theme:"Theme",dark:"Dark",light:"Light"},zN={common:MN,auth:PN,home:ON,plans:VN,profile:LN},jN={loading:"Laddar appen...",back:"Tillbaka",done:"Klar",cancel:"Avbryt",save:"Spara",delete:"Radera",edit:"Redigera",unknown:"Oknd"},UN={login:"Logga in",login_subtitle:"Brja planera och utfra saker tillsammans med dina vnner.",continue_google:"Fortstt med Google",logout:"Logga ut"},BN={hero_title:"Planera & Gr Saker Tillsammans.",hero_subtitle:"Skapa realtidsplaner med dina vnner. Se vem som har bockat av vad och fira er framgng med bilder!",create_plan:"Skapa ny plan",join_plan:"G med i plan",active_plans:"Dina aktiva planer",plans_count:"{{count}} planer",no_active_plans:"Inga aktiva planer n. Skapa din frsta!"},FN={all_plans:"Alla Planer",progress:"Framsteg",completed:"Klara",step_of:"{{current}} av {{total}} steg klara",what_else:"Vad mer?",fixed_by:"FIXAT AV {{name}}",reopen_plan:"ppna planen igen",empty_plan:"Planen r tom. Vad vntar ni p?",delete_plan_confirm:"Vill du verkligen radera denna plan?",delete_completed_plan_confirm:"Vill du radera denna klara plan?",only_owner_can_delete:"Endast garen kan radera en aktiv plan",plan_deleted:"Plan raderad",plan_created:"Plan skapad!",plan_reopened:"Plan ppnad igen",item_added:"Punkt tillagd",item_removed:"Punkt borttagen",item_updated:"Punkt uppdaterad",join_invalid:"Ogiltig eller utgngen inbjudningslnk",join_success:"Gick med i {{name}}!",join_error:"Kunde inte g med i planen",update_error:"Kunde inte uppdatera",create_error:"Kunde inte skapa planen"},qN={title:"Profil",language:"Sprk",theme:"Tema",dark:"Mrkt",light:"Ljust"},HN={common:jN,auth:UN,home:BN,plans:FN,profile:qN},$N={loading:"Uygulama ykleniyor...",back:"Geri",done:"Tamam",cancel:"ptal",save:"Kaydet",delete:"Sil",edit:"Dzenle",unknown:"Bilinmiyor"},GN={login:"Giri Yap",login_subtitle:"Arkadalarnla birlikte plan yapmaya ve bir eyler baarmaya bala.",continue_google:"Google ile Devam Et",logout:"k Yap"},KN={hero_title:"Birlikte Planla & Yap.",hero_subtitle:"Arkadalarnla gerek zamanl planlar olutur. Kimin neyi tamamladn gr ve baarnz fotoraflarla kutla!",create_plan:"Yeni plan olutur",join_plan:"Plana katl",active_plans:"Aktif planlarn",plans_count:"{{count}} plan",no_active_plans:"Henz aktif plan yok. lkini olutur!"},YN={all_plans:"Tm Planlar",progress:"lerleme",completed:"Tamamlananlar",step_of:"{{current}} / {{total}} adm tamamland",what_else:"Baka ne var?",fixed_by:"{{name}} TARAFINDAN YAPILDI",reopen_plan:"Plan tekrar a",empty_plan:"Plan bo. Ne bekliyorsunuz?",delete_plan_confirm:"Bu plan gerekten silmek istiyor musun?",delete_completed_plan_confirm:"Bu tamamlanm plan silmek istiyor musun?",only_owner_can_delete:"Aktif bir plan sadece sahibi silebilir",plan_deleted:"Plan silindi",plan_created:"Plan oluturuldu!",plan_reopened:"Plan tekrar ald",item_added:"Madde eklendi",item_removed:"Madde kaldrld",item_updated:"Madde gncellendi",join_invalid:"Geersiz veya sresi dolmu davet balants",join_success:"{{name}} planna katldn!",join_error:"Plana katlamad",update_error:"Gncellenemedi",create_error:"Plan oluturulamad"},QN={title:"Profil",language:"Dil",theme:"Tema",dark:"Koyu",light:"Ak"},XN={common:$N,auth:GN,home:KN,plans:YN,profile:QN},WN={en:{translation:zN},sv:{translation:HN},tr:{translation:XN}};Cn.use(X1).use(cN).init({resources:WN,fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});localStorage.getItem("i18nextLng")||Cn.changeLanguage("en");const qy=Q.createContext({});function Hy(n){const e=Q.useRef(null);return e.current===null&&(e.current=n()),e.current}const W1=typeof window<"u",J1=W1?Q.useLayoutEffect:Q.useEffect,xf=Q.createContext(null);function $y(n,e){n.indexOf(e)===-1&&n.push(e)}function Gy(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const _s=(n,e,t)=>t>e?e:t<n?n:t;let Ky=()=>{};const Js={},Z1=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function eS(n){return typeof n=="object"&&n!==null}const tS=n=>/^0[^.\s]+$/u.test(n);function Yy(n){let e;return()=>(e===void 0&&(e=n()),e)}const bi=n=>n,JN=(n,e)=>t=>e(n(t)),Su=(...n)=>n.reduce(JN),hu=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s};class Qy{constructor(){this.subscriptions=[]}add(e){return $y(this.subscriptions,e),()=>Gy(this.subscriptions,e)}notify(e,t,s){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,t,s);else for(let l=0;l<a;l++){const c=this.subscriptions[l];c&&c(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ms=n=>n*1e3,vi=n=>n/1e3;function nS(n,e){return e?n*(1e3/e):0}const iS=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,ZN=1e-7,eD=12;function tD(n,e,t,s,a){let l,c,h=0;do c=e+(t-e)/2,l=iS(c,s,a)-n,l>0?t=c:e=c;while(Math.abs(l)>ZN&&++h<eD);return c}function Au(n,e,t,s){if(n===e&&t===s)return bi;const a=l=>tD(l,0,1,n,t);return l=>l===0||l===1?l:iS(a(l),e,s)}const sS=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,rS=n=>e=>1-n(1-e),aS=Au(.33,1.53,.69,.99),Xy=rS(aS),oS=sS(Xy),lS=n=>(n*=2)<1?.5*Xy(n):.5*(2-Math.pow(2,-10*(n-1))),Wy=n=>1-Math.sin(Math.acos(n)),cS=rS(Wy),uS=sS(Wy),nD=Au(.42,0,1,1),iD=Au(0,0,.58,1),hS=Au(.42,0,.58,1),sD=n=>Array.isArray(n)&&typeof n[0]!="number",dS=n=>Array.isArray(n)&&typeof n[0]=="number",rD={linear:bi,easeIn:nD,easeInOut:hS,easeOut:iD,circIn:Wy,circInOut:uS,circOut:cS,backIn:Xy,backInOut:oS,backOut:aS,anticipate:lS},aD=n=>typeof n=="string",kT=n=>{if(dS(n)){Ky(n.length===4);const[e,t,s,a]=n;return Au(e,t,s,a)}else if(aD(n))return rD[n];return n},hd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function oD(n,e){let t=new Set,s=new Set,a=!1,l=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function p(y){c.has(y)&&(m.schedule(y),n()),y(h)}const m={schedule:(y,v=!1,w=!1)=>{const N=w&&a?t:s;return v&&c.add(y),N.has(y)||N.add(y),y},cancel:y=>{s.delete(y),c.delete(y)},process:y=>{if(h=y,a){l=!0;return}a=!0,[t,s]=[s,t],t.forEach(p),t.clear(),a=!1,l&&(l=!1,m.process(y))}};return m}const lD=40;function fS(n,e){let t=!1,s=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>t=!0,c=hd.reduce((J,re)=>(J[re]=oD(l),J),{}),{setup:h,read:p,resolveKeyframes:m,preUpdate:y,update:v,preRender:w,render:S,postRender:N}=c,j=()=>{const J=Js.useManualTiming?a.timestamp:performance.now();t=!1,Js.useManualTiming||(a.delta=s?1e3/60:Math.max(Math.min(J-a.timestamp,lD),1)),a.timestamp=J,a.isProcessing=!0,h.process(a),p.process(a),m.process(a),y.process(a),v.process(a),w.process(a),S.process(a),N.process(a),a.isProcessing=!1,t&&e&&(s=!1,n(j))},L=()=>{t=!0,s=!0,a.isProcessing||n(j)};return{schedule:hd.reduce((J,re)=>{const he=c[re];return J[re]=(me,R=!1,A=!1)=>(t||L(),he.schedule(me,R,A)),J},{}),cancel:J=>{for(let re=0;re<hd.length;re++)c[hd[re]].cancel(J)},state:a,steps:c}}const{schedule:Tt,cancel:Qr,state:gn,steps:rg}=fS(typeof requestAnimationFrame<"u"?requestAnimationFrame:bi,!0);let xd;function cD(){xd=void 0}const Nn={now:()=>(xd===void 0&&Nn.set(gn.isProcessing||Js.useManualTiming?gn.timestamp:performance.now()),xd),set:n=>{xd=n,queueMicrotask(cD)}},mS=n=>e=>typeof e=="string"&&e.startsWith(n),pS=mS("--"),uD=mS("var(--"),Jy=n=>uD(n)?hD.test(n.split("/*")[0].trim()):!1,hD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function IT(n){return typeof n!="string"?!1:n.split("/*")[0].includes("var(--")}const Rl={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},du={...Rl,transform:n=>_s(0,1,n)},dd={...Rl,default:1},eu=n=>Math.round(n*1e5)/1e5,Zy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function dD(n){return n==null}const fD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,e0=(n,e)=>t=>!!(typeof t=="string"&&fD.test(t)&&t.startsWith(n)||e&&!dD(t)&&Object.prototype.hasOwnProperty.call(t,e)),gS=(n,e,t)=>s=>{if(typeof s!="string")return s;const[a,l,c,h]=s.match(Zy);return{[n]:parseFloat(a),[e]:parseFloat(l),[t]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},mD=n=>_s(0,255,n),ag={...Rl,transform:n=>Math.round(mD(n))},Ba={test:e0("rgb","red"),parse:gS("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+ag.transform(n)+", "+ag.transform(e)+", "+ag.transform(t)+", "+eu(du.transform(s))+")"};function pD(n){let e="",t="",s="",a="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),a=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),a=n.substring(4,5),e+=e,t+=t,s+=s,a+=a),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:a?parseInt(a,16)/255:1}}const Yg={test:e0("#"),parse:pD,transform:Ba.transform},Cu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),jr=Cu("deg"),ps=Cu("%"),we=Cu("px"),gD=Cu("vh"),yD=Cu("vw"),NT={...ps,parse:n=>ps.parse(n)/100,transform:n=>ps.transform(n*100)},sl={test:e0("hsl","hue"),parse:gS("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+ps.transform(eu(e))+", "+ps.transform(eu(t))+", "+eu(du.transform(s))+")"},Jt={test:n=>Ba.test(n)||Yg.test(n)||sl.test(n),parse:n=>Ba.test(n)?Ba.parse(n):sl.test(n)?sl.parse(n):Yg.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ba.transform(n):sl.transform(n),getAnimatableNone:n=>{const e=Jt.parse(n);return e.alpha=0,Jt.transform(e)}},vD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bD(n){return isNaN(n)&&typeof n=="string"&&(n.match(Zy)?.length||0)+(n.match(vD)?.length||0)>0}const yS="number",vS="color",_D="var",wD="var(",DT="${}",TD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function fu(n){const e=n.toString(),t=[],s={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(TD,p=>(Jt.test(p)?(s.color.push(l),a.push(vS),t.push(Jt.parse(p))):p.startsWith(wD)?(s.var.push(l),a.push(_D),t.push(p)):(s.number.push(l),a.push(yS),t.push(parseFloat(p))),++l,DT)).split(DT);return{values:t,split:h,indexes:s,types:a}}function bS(n){return fu(n).values}function _S(n){const{split:e,types:t}=fu(n),s=e.length;return a=>{let l="";for(let c=0;c<s;c++)if(l+=e[c],a[c]!==void 0){const h=t[c];h===yS?l+=eu(a[c]):h===vS?l+=Jt.transform(a[c]):l+=a[c]}return l}}const xD=n=>typeof n=="number"?0:Jt.test(n)?Jt.getAnimatableNone(n):n;function ED(n){const e=bS(n);return _S(n)(e.map(xD))}const Xr={test:bD,parse:bS,createTransformer:_S,getAnimatableNone:ED};function og(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function SD({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let a=0,l=0,c=0;if(!e)a=l=c=t;else{const h=t<.5?t*(1+e):t+e-t*e,p=2*t-h;a=og(p,h,n+1/3),l=og(p,h,n),c=og(p,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:s}}function qd(n,e){return t=>t>0?e:n}const Rt=(n,e,t)=>n+(e-n)*t,lg=(n,e,t)=>{const s=n*n,a=t*(e*e-s)+s;return a<0?0:Math.sqrt(a)},AD=[Yg,Ba,sl],CD=n=>AD.find(e=>e.test(n));function MT(n){const e=CD(n);if(!e)return!1;let t=e.parse(n);return e===sl&&(t=SD(t)),t}const PT=(n,e)=>{const t=MT(n),s=MT(e);if(!t||!s)return qd(n,e);const a={...t};return l=>(a.red=lg(t.red,s.red,l),a.green=lg(t.green,s.green,l),a.blue=lg(t.blue,s.blue,l),a.alpha=Rt(t.alpha,s.alpha,l),Ba.transform(a))},Qg=new Set(["none","hidden"]);function RD(n,e){return Qg.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function kD(n,e){return t=>Rt(n,e,t)}function t0(n){return typeof n=="number"?kD:typeof n=="string"?Jy(n)?qd:Jt.test(n)?PT:DD:Array.isArray(n)?wS:typeof n=="object"?Jt.test(n)?PT:ID:qd}function wS(n,e){const t=[...n],s=t.length,a=n.map((l,c)=>t0(l)(l,e[c]));return l=>{for(let c=0;c<s;c++)t[c]=a[c](l);return t}}function ID(n,e){const t={...n,...e},s={};for(const a in t)n[a]!==void 0&&e[a]!==void 0&&(s[a]=t0(n[a])(n[a],e[a]));return a=>{for(const l in s)t[l]=s[l](a);return t}}function ND(n,e){const t=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=n.indexes[l][s[l]],h=n.values[c]??0;t[a]=h,s[l]++}return t}const DD=(n,e)=>{const t=Xr.createTransformer(e),s=fu(n),a=fu(e);return s.indexes.var.length===a.indexes.var.length&&s.indexes.color.length===a.indexes.color.length&&s.indexes.number.length>=a.indexes.number.length?Qg.has(n)&&!a.values.length||Qg.has(e)&&!s.values.length?RD(n,e):Su(wS(ND(s,a),a.values),t):qd(n,e)};function TS(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Rt(n,e,t):t0(n)(n,e)}const MD=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>Tt.update(e,t),stop:()=>Qr(e),now:()=>gn.isProcessing?gn.timestamp:Nn.now()}},xS=(n,e,t=10)=>{let s="";const a=Math.max(Math.round(e/t),2);for(let l=0;l<a;l++)s+=Math.round(n(l/(a-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},Hd=2e4;function n0(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<Hd;)e+=t,s=n.next(e);return e>=Hd?1/0:e}function PD(n,e=100,t){const s=t({...n,keyframes:[0,e]}),a=Math.min(n0(s),Hd);return{type:"keyframes",ease:l=>s.next(a*l).value/e,duration:vi(a)}}const OD=5;function ES(n,e,t){const s=Math.max(e-OD,0);return nS(t-n(s),e-s)}const Ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cg=.001;function VD({duration:n=Ot.duration,bounce:e=Ot.bounce,velocity:t=Ot.velocity,mass:s=Ot.mass}){let a,l,c=1-e;c=_s(Ot.minDamping,Ot.maxDamping,c),n=_s(Ot.minDuration,Ot.maxDuration,vi(n)),c<1?(a=m=>{const y=m*c,v=y*n,w=y-t,S=Xg(m,c),N=Math.exp(-v);return cg-w/S*N},l=m=>{const v=m*c*n,w=v*t+t,S=Math.pow(c,2)*Math.pow(m,2)*n,N=Math.exp(-v),j=Xg(Math.pow(m,2),c);return(-a(m)+cg>0?-1:1)*((w-S)*N)/j}):(a=m=>{const y=Math.exp(-m*n),v=(m-t)*n+1;return-cg+y*v},l=m=>{const y=Math.exp(-m*n),v=(t-m)*(n*n);return y*v});const h=5/n,p=zD(a,l,h);if(n=ms(n),isNaN(p))return{stiffness:Ot.stiffness,damping:Ot.damping,duration:n};{const m=Math.pow(p,2)*s;return{stiffness:m,damping:c*2*Math.sqrt(s*m),duration:n}}}const LD=12;function zD(n,e,t){let s=t;for(let a=1;a<LD;a++)s=s-n(s)/e(s);return s}function Xg(n,e){return n*Math.sqrt(1-e*e)}const jD=["duration","bounce"],UD=["stiffness","damping","mass"];function OT(n,e){return e.some(t=>n[t]!==void 0)}function BD(n){let e={velocity:Ot.velocity,stiffness:Ot.stiffness,damping:Ot.damping,mass:Ot.mass,isResolvedFromDuration:!1,...n};if(!OT(n,UD)&&OT(n,jD))if(n.visualDuration){const t=n.visualDuration,s=2*Math.PI/(t*1.2),a=s*s,l=2*_s(.05,1,1-(n.bounce||0))*Math.sqrt(a);e={...e,mass:Ot.mass,stiffness:a,damping:l}}else{const t=VD(n);e={...e,...t,mass:Ot.mass},e.isResolvedFromDuration=!0}return e}function $d(n=Ot.visualDuration,e=Ot.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:s,restDelta:a}=t;const l=t.keyframes[0],c=t.keyframes[t.keyframes.length-1],h={done:!1,value:l},{stiffness:p,damping:m,mass:y,duration:v,velocity:w,isResolvedFromDuration:S}=BD({...t,velocity:-vi(t.velocity||0)}),N=w||0,j=m/(2*Math.sqrt(p*y)),L=c-l,F=vi(Math.sqrt(p/y)),W=Math.abs(L)<5;s||(s=W?Ot.restSpeed.granular:Ot.restSpeed.default),a||(a=W?Ot.restDelta.granular:Ot.restDelta.default);let J;if(j<1){const he=Xg(F,j);J=me=>{const R=Math.exp(-j*F*me);return c-R*((N+j*F*L)/he*Math.sin(he*me)+L*Math.cos(he*me))}}else if(j===1)J=he=>c-Math.exp(-F*he)*(L+(N+F*L)*he);else{const he=F*Math.sqrt(j*j-1);J=me=>{const R=Math.exp(-j*F*me),A=Math.min(he*me,300);return c-R*((N+j*F*L)*Math.sinh(A)+he*L*Math.cosh(A))/he}}const re={calculatedDuration:S&&v||null,next:he=>{const me=J(he);if(S)h.done=he>=v;else{let R=he===0?N:0;j<1&&(R=he===0?ms(N):ES(J,he,me));const A=Math.abs(R)<=s,I=Math.abs(c-me)<=a;h.done=A&&I}return h.value=h.done?c:me,h},toString:()=>{const he=Math.min(n0(re),Hd),me=xS(R=>re.next(he*R).value,he,30);return he+"ms "+me},toTransition:()=>{}};return re}$d.applyToOptions=n=>{const e=PD(n,100,$d);return n.ease=e.ease,n.duration=ms(e.duration),n.type="keyframes",n};function Wg({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:c,min:h,max:p,restDelta:m=.5,restSpeed:y}){const v=n[0],w={done:!1,value:v},S=A=>h!==void 0&&A<h||p!==void 0&&A>p,N=A=>h===void 0?p:p===void 0||Math.abs(h-A)<Math.abs(p-A)?h:p;let j=t*e;const L=v+j,F=c===void 0?L:c(L);F!==L&&(j=F-v);const W=A=>-j*Math.exp(-A/s),J=A=>F+W(A),re=A=>{const I=W(A),M=J(A);w.done=Math.abs(I)<=m,w.value=w.done?F:M};let he,me;const R=A=>{S(w.value)&&(he=A,me=$d({keyframes:[w.value,N(w.value)],velocity:ES(J,A,w.value),damping:a,stiffness:l,restDelta:m,restSpeed:y}))};return R(0),{calculatedDuration:null,next:A=>{let I=!1;return!me&&he===void 0&&(I=!0,re(A),R(A)),he!==void 0&&A>=he?me.next(A-he):(!I&&re(A),w)}}}function FD(n,e,t){const s=[],a=t||Js.mix||TS,l=n.length-1;for(let c=0;c<l;c++){let h=a(n[c],n[c+1]);if(e){const p=Array.isArray(e)?e[c]||bi:e;h=Su(p,h)}s.push(h)}return s}function qD(n,e,{clamp:t=!0,ease:s,mixer:a}={}){const l=n.length;if(Ky(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const c=n[0]===n[1];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const h=FD(e,s,a),p=h.length,m=y=>{if(c&&y<n[0])return e[0];let v=0;if(p>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const w=hu(n[v],n[v+1],y);return h[v](w)};return t?y=>m(_s(n[0],n[l-1],y)):m}function HD(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const a=hu(0,e,s);n.push(Rt(t,1,a))}}function $D(n){const e=[0];return HD(e,n.length-1),e}function GD(n,e){return n.map(t=>t*e)}function KD(n,e){return n.map(()=>e||hS).splice(0,n.length-1)}function tu({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const a=sD(s)?s.map(kT):kT(s),l={done:!1,value:e[0]},c=GD(t&&t.length===e.length?t:$D(e),n),h=qD(c,e,{ease:Array.isArray(a)?a:KD(e,a)});return{calculatedDuration:n,next:p=>(l.value=h(p),l.done=p>=n,l)}}const YD=n=>n!==null;function i0(n,{repeat:e,repeatType:t="loop"},s,a=1){const l=n.filter(YD),h=a<0||e&&t!=="loop"&&e%2===1?0:l.length-1;return!h||s===void 0?l[h]:s}const QD={decay:Wg,inertia:Wg,tween:tu,keyframes:tu,spring:$d};function SS(n){typeof n.type=="string"&&(n.type=QD[n.type])}class s0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const XD=n=>n/100;class r0 extends s0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:t}=this.options;t&&t.updatedAt!==Nn.now()&&this.tick(Nn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;SS(e);const{type:t=tu,repeat:s=0,repeatDelay:a=0,repeatType:l,velocity:c=0}=e;let{keyframes:h}=e;const p=t||tu;p!==tu&&typeof h[0]!="number"&&(this.mixKeyframes=Su(XD,TS(h[0],h[1])),h=[0,100]);const m=p({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=p({...e,keyframes:[...h].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=n0(m));const{calculatedDuration:y}=m;this.calculatedDuration=y,this.resolvedDuration=y+a,this.totalDuration=this.resolvedDuration*(s+1)-a,this.generator=m}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:s,totalDuration:a,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:h,calculatedDuration:p}=this;if(this.startTime===null)return s.next(0);const{delay:m=0,keyframes:y,repeat:v,repeatType:w,repeatDelay:S,type:N,onUpdate:j,finalKeyframe:L}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const F=this.currentTime-m*(this.playbackSpeed>=0?1:-1),W=this.playbackSpeed>=0?F<0:F>a;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let J=this.currentTime,re=s;if(v){const A=Math.min(this.currentTime,a)/h;let I=Math.floor(A),M=A%1;!M&&A>=1&&(M=1),M===1&&I--,I=Math.min(I,v+1),I%2&&(w==="reverse"?(M=1-M,S&&(M-=S/h)):w==="mirror"&&(re=c)),J=_s(0,1,M)*h}const he=W?{done:!1,value:y[0]}:re.next(J);l&&(he.value=l(he.value));let{done:me}=he;!W&&p!==null&&(me=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&me);return R&&N!==Wg&&(he.value=i0(y,this.options,L,this.speed)),j&&j(he.value),R&&this.finish(),he}then(e,t){return this.finished.then(e,t)}get duration(){return vi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+vi(e)}get time(){return vi(this.currentTime)}set time(e){e=ms(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Nn.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=vi(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=MD,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=t??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Nn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function WD(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const Fa=n=>n*180/Math.PI,Jg=n=>{const e=Fa(Math.atan2(n[1],n[0]));return Zg(e)},JD={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:Jg,rotateZ:Jg,skewX:n=>Fa(Math.atan(n[1])),skewY:n=>Fa(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},Zg=n=>(n=n%360,n<0&&(n+=360),n),VT=Jg,LT=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),zT=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),ZD={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LT,scaleY:zT,scale:n=>(LT(n)+zT(n))/2,rotateX:n=>Zg(Fa(Math.atan2(n[6],n[5]))),rotateY:n=>Zg(Fa(Math.atan2(-n[2],n[0]))),rotateZ:VT,rotate:VT,skewX:n=>Fa(Math.atan(n[4])),skewY:n=>Fa(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function ey(n){return n.includes("scale")?1:0}function ty(n,e){if(!n||n==="none")return ey(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,a;if(t)s=ZD,a=t;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=JD,a=h}if(!a)return ey(e);const l=s[e],c=a[1].split(",").map(tM);return typeof l=="function"?l(c):c[l]}const eM=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return ty(t,e)};function tM(n){return parseFloat(n.trim())}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Il=new Set(kl),jT=n=>n===Rl||n===we,nM=new Set(["x","y","z"]),iM=kl.filter(n=>!nM.has(n));function sM(n){const e=[];return iM.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e}const qr={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>ty(e,"x"),y:(n,{transform:e})=>ty(e,"y")};qr.translateX=qr.x;qr.translateY=qr.y;const Ga=new Set;let ny=!1,iy=!1,sy=!1;function AS(){if(iy){const n=Array.from(Ga).filter(s=>s.needsMeasurement),e=new Set(n.map(s=>s.element)),t=new Map;e.forEach(s=>{const a=sM(s);a.length&&(t.set(s,a),s.render())}),n.forEach(s=>s.measureInitialState()),e.forEach(s=>{s.render();const a=t.get(s);a&&a.forEach(([l,c])=>{s.getValue(l)?.set(c)})}),n.forEach(s=>s.measureEndState()),n.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}iy=!1,ny=!1,Ga.forEach(n=>n.complete(sy)),Ga.clear()}function CS(){Ga.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(iy=!0)})}function rM(){sy=!0,CS(),AS(),sy=!1}class a0{constructor(e,t,s,a,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=s,this.motionValue=a,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ga.add(this),ny||(ny=!0,Tt.read(CS),Tt.resolveKeyframes(AS))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:s,motionValue:a}=this;if(e[0]===null){const l=a?.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(s&&t){const h=s.readValue(t,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),a&&l===void 0&&a.set(e[0])}WD(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ga.delete(this)}cancel(){this.state==="scheduled"&&(Ga.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const aM=n=>n.startsWith("--");function oM(n,e,t){aM(e)?n.style.setProperty(e,t):n.style[e]=t}const lM=Yy(()=>window.ScrollTimeline!==void 0),cM={};function uM(n,e){const t=Yy(n);return()=>cM[e]??t()}const RS=uM(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Kc=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,UT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Kc([0,.65,.55,1]),circOut:Kc([.55,0,1,.45]),backIn:Kc([.31,.01,.66,-.59]),backOut:Kc([.33,1.53,.69,.99])};function kS(n,e){if(n)return typeof n=="function"?RS()?xS(n,e):"ease-out":dS(n)?Kc(n):Array.isArray(n)?n.map(t=>kS(t,e)||UT.easeOut):UT[n]}function hM(n,e,t,{delay:s=0,duration:a=300,repeat:l=0,repeatType:c="loop",ease:h="easeOut",times:p}={},m=void 0){const y={[e]:t};p&&(y.offset=p);const v=kS(h,a);Array.isArray(v)&&(y.easing=v);const w={delay:s,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(w.pseudoElement=m),n.animate(y,w)}function IS(n){return typeof n=="function"&&"applyToOptions"in n}function dM({type:n,...e}){return IS(n)&&RS()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class fM extends s0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:t,name:s,keyframes:a,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:h,onComplete:p}=e;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=e,Ky(typeof e.type!="string");const m=dM(e);this.animation=hM(t,s,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const y=i0(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(y):oM(t,s,y),this.animation.cancel()}p?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return vi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+vi(e)}get time(){return vi(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=ms(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&lM()?(this.animation.timeline=e,bi):t(this)}}const NS={anticipate:lS,backInOut:oS,circInOut:uS};function mM(n){return n in NS}function pM(n){typeof n.ease=="string"&&mM(n.ease)&&(n.ease=NS[n.ease])}const ug=10;class gM extends fM{constructor(e){pM(e),SS(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:s,onComplete:a,element:l,...c}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const h=new r0({...c,autoplay:!1}),p=Math.max(ug,Nn.now()-this.startTime),m=_s(0,ug,p-ug);t.setWithVelocity(h.sample(Math.max(0,p-m)).value,h.sample(p).value,m),h.stop()}}const BT=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Xr.test(n)||n==="0")&&!n.startsWith("url("));function yM(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function vM(n,e,t,s){const a=n[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=n[n.length-1],c=BT(a,e),h=BT(l,e);return!c||!h?!1:yM(n)||(t==="spring"||IS(t))&&s}function ry(n){n.duration=0,n.type="keyframes"}const bM=new Set(["opacity","clipPath","filter","transform"]),_M=Yy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function wM(n){const{motionValue:e,name:t,repeatDelay:s,repeatType:a,damping:l,type:c}=n;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=e.owner.getProps();return _M()&&t&&bM.has(t)&&(t!=="transform"||!m)&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}const TM=40;class xM extends s0{constructor({autoplay:e=!0,delay:t=0,type:s="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:c="loop",keyframes:h,name:p,motionValue:m,element:y,...v}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Nn.now();const w={autoplay:e,delay:t,type:s,repeat:a,repeatDelay:l,repeatType:c,name:p,motionValue:m,element:y,...v},S=y?.KeyframeResolver||a0;this.keyframeResolver=new S(h,(N,j,L)=>this.onKeyframesResolved(N,j,w,!L),p,m,y),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,t,s,a){this.keyframeResolver=void 0;const{name:l,type:c,velocity:h,delay:p,isHandoff:m,onUpdate:y}=s;this.resolvedAt=Nn.now(),vM(e,l,c,h)||((Js.instantAnimations||!p)&&y?.(i0(e,s,t)),e[0]=e[e.length-1],ry(s),s.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>TM?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...s,keyframes:e},S=!m&&wM(w),N=w.motionValue?.owner?.current,j=S?new gM({...w,element:N}):new r0(w);j.finished.then(()=>{this.notifyFinished()}).catch(bi),this.pendingTimeline&&(this.stopTimeline=j.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=j}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),rM()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function DS(n,e,t,s=0,a=1){const l=Array.from(n).sort((m,y)=>m.sortNodePosition(y)).indexOf(e),c=n.size,h=(c-1)*s;return typeof t=="function"?t(l,c):a===1?l*s:h-l*s}const EM=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function SM(n){const e=EM.exec(n);if(!e)return[,];const[,t,s,a]=e;return[`--${t??s}`,a]}function MS(n,e,t=1){const[s,a]=SM(n);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const c=l.trim();return Z1(c)?parseFloat(c):c}return Jy(a)?MS(a,e,t+1):a}const AM={type:"spring",stiffness:500,damping:25,restSpeed:10},CM=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),RM={type:"keyframes",duration:.8},kM={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},IM=(n,{keyframes:e})=>e.length>2?RM:Il.has(n)?n.startsWith("scale")?CM(e[1]):AM:kM,NM=n=>n!==null;function DM(n,{repeat:e,repeatType:t="loop"},s){const a=n.filter(NM),l=e&&t!=="loop"&&e%2===1?0:a.length-1;return a[l]}function PS(n,e){if(n?.inherit&&e){const{inherit:t,...s}=n;return{...e,...s}}return n}function o0(n,e){const t=n?.[e]??n?.default??n;return t!==n?PS(t,n):t}function MM({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:a,repeat:l,repeatType:c,repeatDelay:h,from:p,elapsed:m,...y}){return!!Object.keys(y).length}const l0=(n,e,t,s={},a,l)=>c=>{const h=o0(s,n)||{},p=h.delay||s.delay||0;let{elapsed:m=0}=s;m=m-ms(p);const y={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:n,motionValue:e,element:l?void 0:a};MM(h)||Object.assign(y,IM(n,y)),y.duration&&(y.duration=ms(y.duration)),y.repeatDelay&&(y.repeatDelay=ms(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(ry(y),y.delay===0&&(v=!0)),(Js.instantAnimations||Js.skipAnimations||a?.shouldSkipAnimations)&&(v=!0,ry(y),y.delay=0),y.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const w=DM(y.keyframes,h);if(w!==void 0){Tt.update(()=>{y.onUpdate(w),y.onComplete()});return}}return h.isSync?new r0(y):new xM(y)};function FT(n){const e=[{},{}];return n?.values.forEach((t,s)=>{e[0][s]=t.get(),e[1][s]=t.getVelocity()}),e}function c0(n,e,t,s){if(typeof e=="function"){const[a,l]=FT(s);e=e(t!==void 0?t:n.custom,a,l)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[a,l]=FT(s);e=e(t!==void 0?t:n.custom,a,l)}return e}function cl(n,e,t){const s=n.getProps();return c0(s,e,t!==void 0?t:s.custom,n)}const OS=new Set(["width","height","top","left","right","bottom",...kl]),qT=30,PM=n=>!isNaN(parseFloat(n));class OM{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{const a=Nn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Nn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=PM(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Qy);const s=this.events[e].add(t);return e==="change"?()=>{s(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,s){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-s}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Nn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qT)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,qT);return nS(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function pl(n,e){return new OM(n,e)}const ay=n=>Array.isArray(n);function VM(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,pl(t))}function LM(n){return ay(n)?n[n.length-1]||0:n}function zM(n,e){const t=cl(n,e);let{transitionEnd:s={},transition:a={},...l}=t||{};l={...l,...s};for(const c in l){const h=LM(l[c]);VM(n,c,h)}}const xn=n=>!!(n&&n.getVelocity);function jM(n){return!!(xn(n)&&n.add)}function oy(n,e){const t=n.getValue("willChange");if(jM(t))return t.add(e);if(!t&&Js.WillChange){const s=new Js.WillChange("auto");n.addValue("willChange",s),s.add(e)}}function u0(n){return n.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const UM="framerAppearId",VS="data-"+u0(UM);function LS(n){return n.props[VS]}function BM({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function zS(n,e,{delay:t=0,transitionOverride:s,type:a}={}){let{transition:l,transitionEnd:c,...h}=e;const p=n.getDefaultTransition();l=l?PS(l,p):p;const m=l?.reduceMotion;s&&(l=s);const y=[],v=a&&n.animationState&&n.animationState.getState()[a];for(const w in h){const S=n.getValue(w,n.latestValues[w]??null),N=h[w];if(N===void 0||v&&BM(v,w))continue;const j={delay:t,...o0(l||{},w)},L=S.get();if(L!==void 0&&!S.isAnimating&&!Array.isArray(N)&&N===L&&!j.velocity)continue;let F=!1;if(window.MotionHandoffAnimation){const re=LS(n);if(re){const he=window.MotionHandoffAnimation(re,w,Tt);he!==null&&(j.startTime=he,F=!0)}}oy(n,w);const W=m??n.shouldReduceMotion;S.start(l0(w,S,N,W&&OS.has(w)?{type:!1}:j,n,F));const J=S.animation;J&&y.push(J)}if(c){const w=()=>Tt.update(()=>{c&&zM(n,c)});y.length?Promise.all(y).then(w):w()}return y}function ly(n,e,t={}){const s=cl(n,e,t.type==="exit"?n.presenceContext?.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const l=s?()=>Promise.all(zS(n,s,t)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:y,staggerDirection:v}=a;return FM(n,e,p,m,y,v,t)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,m]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(t.delay)])}function FM(n,e,t=0,s=0,a=0,l=1,c){const h=[];for(const p of n.variantChildren)p.notify("AnimationStart",e),h.push(ly(p,e,{...c,delay:t+(typeof s=="function"?0:s)+DS(n.variantChildren,p,s,a,l)}).then(()=>p.notify("AnimationComplete",e)));return Promise.all(h)}function qM(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const a=e.map(l=>ly(n,l,t));s=Promise.all(a)}else if(typeof e=="string")s=ly(n,e,t);else{const a=typeof e=="function"?cl(n,e,t.custom):e;s=Promise.all(zS(n,a,t))}return s.then(()=>{n.notify("AnimationComplete",e)})}const HM={test:n=>n==="auto",parse:n=>n},jS=n=>e=>e.test(n),US=[Rl,we,ps,jr,yD,gD,HM],HT=n=>US.find(jS(n));function $M(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||tS(n):!0}const GM=new Set(["brightness","contrast","saturate","opacity"]);function KM(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(Zy)||[];if(!s)return n;const a=t.replace(s,"");let l=GM.has(e)?1:0;return s!==t&&(l*=100),e+"("+l+a+")"}const YM=/\b([a-z-]*)\(.*?\)/gu,cy={...Xr,getAnimatableNone:n=>{const e=n.match(YM);return e?e.map(KM).join(" "):n}},$T={...Rl,transform:Math.round},QM={rotate:jr,rotateX:jr,rotateY:jr,rotateZ:jr,scale:dd,scaleX:dd,scaleY:dd,scaleZ:dd,skew:jr,skewX:jr,skewY:jr,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:du,originX:NT,originY:NT,originZ:we},h0={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,inset:we,insetBlock:we,insetBlockStart:we,insetBlockEnd:we,insetInline:we,insetInlineStart:we,insetInlineEnd:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,paddingBlock:we,paddingBlockStart:we,paddingBlockEnd:we,paddingInline:we,paddingInlineStart:we,paddingInlineEnd:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,marginBlock:we,marginBlockStart:we,marginBlockEnd:we,marginInline:we,marginInlineStart:we,marginInlineEnd:we,fontSize:we,backgroundPositionX:we,backgroundPositionY:we,...QM,zIndex:$T,fillOpacity:du,strokeOpacity:du,numOctaves:$T},XM={...h0,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:cy,WebkitFilter:cy},BS=n=>XM[n];function FS(n,e){let t=BS(n);return t!==cy&&(t=Xr),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const WM=new Set(["auto","none","0"]);function JM(n,e,t){let s=0,a;for(;s<n.length&&!a;){const l=n[s];typeof l=="string"&&!WM.has(l)&&fu(l).values.length&&(a=n[s]),s++}if(a&&t)for(const l of e)n[l]=FS(t,a)}class ZM extends a0{constructor(e,t,s,a,l){super(e,t,s,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:s}=this;if(!t||!t.current)return;super.readKeyframes();for(let y=0;y<e.length;y++){let v=e[y];if(typeof v=="string"&&(v=v.trim(),Jy(v))){const w=MS(v,t.current);w!==void 0&&(e[y]=w),y===e.length-1&&(this.finalKeyframe=v)}}if(this.resolveNoneKeyframes(),!OS.has(s)||e.length!==2)return;const[a,l]=e,c=HT(a),h=HT(l),p=IT(a),m=IT(l);if(p!==m&&qr[s]){this.needsMeasurement=!0;return}if(c!==h)if(jT(c)&&jT(h))for(let y=0;y<e.length;y++){const v=e[y];typeof v=="string"&&(e[y]=parseFloat(v))}else qr[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,s=[];for(let a=0;a<e.length;a++)(e[a]===null||$M(e[a]))&&s.push(a);s.length&&JM(e,s,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:s}=this;if(!e||!e.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qr[s](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const a=t[t.length-1];a!==void 0&&e.getValue(s,a).jump(a,!1)}measureEndState(){const{element:e,name:t,unresolvedKeyframes:s}=this;if(!e||!e.current)return;const a=e.getValue(t);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=qr[t](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,p])=>{e.getValue(h).set(p)}),this.resolveNoneKeyframes()}}function qS(n,e,t){if(n==null)return[];if(n instanceof EventTarget)return[n];if(typeof n=="string"){let s=document;const a=t?.[n]??s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n).filter(s=>s!=null)}const HS=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function uy(n){return eS(n)&&"offsetHeight"in n}const{schedule:d0}=fS(queueMicrotask,!1),Oi={x:!1,y:!1};function $S(){return Oi.x||Oi.y}function eP(n){return n==="x"||n==="y"?Oi[n]?null:(Oi[n]=!0,()=>{Oi[n]=!1}):Oi.x||Oi.y?null:(Oi.x=Oi.y=!0,()=>{Oi.x=Oi.y=!1})}function GS(n,e){const t=qS(n),s=new AbortController,a={passive:!0,...e,signal:s.signal};return[t,a,()=>s.abort()]}function tP(n){return!(n.pointerType==="touch"||$S())}function nP(n,e,t={}){const[s,a,l]=GS(n,t);return s.forEach(c=>{let h=!1,p=!1,m;const y=()=>{c.removeEventListener("pointerleave",N)},v=L=>{m&&(m(L),m=void 0),y()},w=L=>{h=!1,window.removeEventListener("pointerup",w),window.removeEventListener("pointercancel",w),p&&(p=!1,v(L))},S=()=>{h=!0,window.addEventListener("pointerup",w,a),window.addEventListener("pointercancel",w,a)},N=L=>{if(L.pointerType!=="touch"){if(h){p=!0;return}v(L)}},j=L=>{if(!tP(L))return;p=!1;const F=e(c,L);typeof F=="function"&&(m=F,c.addEventListener("pointerleave",N,a))};c.addEventListener("pointerenter",j,a),c.addEventListener("pointerdown",S,a)}),l}const KS=(n,e)=>e?n===e?!0:KS(n,e.parentElement):!1,f0=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,iP=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sP(n){return iP.has(n.tagName)||n.isContentEditable===!0}const rP=new Set(["INPUT","SELECT","TEXTAREA"]);function aP(n){return rP.has(n.tagName)||n.isContentEditable===!0}const Ed=new WeakSet;function GT(n){return e=>{e.key==="Enter"&&n(e)}}function hg(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const oP=(n,e)=>{const t=n.currentTarget;if(!t)return;const s=GT(()=>{if(Ed.has(t))return;hg(t,"down");const a=GT(()=>{hg(t,"up")}),l=()=>hg(t,"cancel");t.addEventListener("keyup",a,e),t.addEventListener("blur",l,e)});t.addEventListener("keydown",s,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",s),e)};function KT(n){return f0(n)&&!$S()}const YT=new WeakSet;function lP(n,e,t={}){const[s,a,l]=GS(n,t),c=h=>{const p=h.currentTarget;if(!KT(h)||YT.has(h))return;Ed.add(p),t.stopPropagation&&YT.add(h);const m=e(p,h),y=(S,N)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Ed.has(p)&&Ed.delete(p),KT(S)&&typeof m=="function"&&m(S,{success:N})},v=S=>{y(S,p===window||p===document||t.useGlobalTarget||KS(p,S.target))},w=S=>{y(S,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return s.forEach(h=>{(t.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),uy(h)&&(h.addEventListener("focus",m=>oP(m,a)),!sP(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function m0(n){return eS(n)&&"ownerSVGElement"in n}const Sd=new WeakMap;let Ad;const YS=(n,e,t)=>(s,a)=>a&&a[0]?a[0][n+"Size"]:m0(s)&&"getBBox"in s?s.getBBox()[e]:s[t],cP=YS("inline","width","offsetWidth"),uP=YS("block","height","offsetHeight");function hP({target:n,borderBoxSize:e}){Sd.get(n)?.forEach(t=>{t(n,{get width(){return cP(n,e)},get height(){return uP(n,e)}})})}function dP(n){n.forEach(hP)}function fP(){typeof ResizeObserver>"u"||(Ad=new ResizeObserver(dP))}function mP(n,e){Ad||fP();const t=qS(n);return t.forEach(s=>{let a=Sd.get(s);a||(a=new Set,Sd.set(s,a)),a.add(e),Ad?.observe(s)}),()=>{t.forEach(s=>{const a=Sd.get(s);a?.delete(e),a?.size||Ad?.unobserve(s)})}}const Cd=new Set;let rl;function pP(){rl=()=>{const n={get width(){return window.innerWidth},get height(){return window.innerHeight}};Cd.forEach(e=>e(n))},window.addEventListener("resize",rl)}function gP(n){return Cd.add(n),rl||pP(),()=>{Cd.delete(n),!Cd.size&&typeof rl=="function"&&(window.removeEventListener("resize",rl),rl=void 0)}}function QT(n,e){return typeof n=="function"?gP(n):mP(n,e)}function yP(n){return m0(n)&&n.tagName==="svg"}const vP=[...US,Jt,Xr],bP=n=>vP.find(jS(n)),XT=()=>({translate:0,scale:1,origin:0,originPoint:0}),al=()=>({x:XT(),y:XT()}),WT=()=>({min:0,max:0}),sn=()=>({x:WT(),y:WT()}),hy={current:null},QS={current:!1},_P=typeof window<"u";function wP(){if(QS.current=!0,!!_P)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>hy.current=n.matches;n.addEventListener("change",e),e()}else hy.current=!1}const TP=new WeakMap;function Ef(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function mu(n){return typeof n=="string"||Array.isArray(n)}const p0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],g0=["initial",...p0];function Sf(n){return Ef(n.animate)||g0.some(e=>mu(n[e]))}function XS(n){return!!(Sf(n)||n.variants)}function xP(n,e,t){for(const s in e){const a=e[s],l=t[s];if(xn(a))n.addValue(s,a);else if(xn(l))n.addValue(s,pl(a,{owner:n}));else if(l!==a)if(n.hasValue(s)){const c=n.getValue(s);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(s);n.addValue(s,pl(c!==void 0?c:a,{owner:n}))}}for(const s in t)e[s]===void 0&&n.removeValue(s);return e}const JT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let Gd={};function WS(n){Gd=n}function EP(){return Gd}class SP{scrapeMotionValuesFromProps(e,t,s){return{}}constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:a,skipAnimations:l,blockInitialAnimation:c,visualState:h},p={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=a0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Nn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Tt.render(this.render,!1,!0))};const{latestValues:m,renderState:y}=h;this.latestValues=m,this.baseTarget={...m},this.initialValues=t.initial?{...m}:{},this.renderState=y,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.skipAnimationsConfig=l,this.options=p,this.blockInitialAnimation=!!c,this.isControllingVariants=Sf(t),this.isVariantNode=XS(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...w}=this.scrapeMotionValuesFromProps(t,{},this);for(const S in w){const N=w[S];m[S]!==void 0&&xn(N)&&N.set(m[S])}}mount(e){if(this.hasBeenMounted)for(const t in this.initialValues)this.values.get(t)?.jump(this.initialValues[t]),this.latestValues[t]=this.initialValues[t];this.current=e,TP.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(QS.current||wP(),this.shouldReduceMotion=hy.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const s=Il.has(e);s&&this.onBindTransform&&this.onBindTransform();const a=t.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;typeof window<"u"&&window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{a(),l&&l(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Gd){const t=Gd[e];if(!t)continue;const{isEnabled:s,Feature:a}=t;if(!this.features[e]&&a&&s(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):sn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<JT.length;s++){const a=JT[s];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,c=e[l];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=xP(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const s=this.values.get(e);t!==s&&(s&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=pl(t===null?void 0:t,{owner:this}),this.addValue(e,s)),s}readValue(e,t){let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(Z1(s)||tS(s))?s=parseFloat(s):!bP(s)&&Xr.test(t)&&(s=FS(e,t)),this.setBaseTarget(e,xn(s)?s.get():s)),xn(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){const{initial:t}=this.props;let s;if(typeof t=="string"||typeof t=="object"){const l=c0(this.props,t,this.presenceContext?.custom);l&&(s=l[e])}if(t&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!xn(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Qy),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){d0.render(this.render)}}class JS extends SP{constructor(){super(...arguments),this.KeyframeResolver=ZM}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){const s=e.style;return s?s[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}class ra{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ZS({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function AP({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function CP(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function dg(n){return n===void 0||n===1}function dy({scale:n,scaleX:e,scaleY:t}){return!dg(n)||!dg(e)||!dg(t)}function za(n){return dy(n)||eA(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function eA(n){return ZT(n.x)||ZT(n.y)}function ZT(n){return n&&n!=="0%"}function Kd(n,e,t){const s=n-t,a=e*s;return t+a}function ex(n,e,t,s,a){return a!==void 0&&(n=Kd(n,a,s)),Kd(n,t,s)+e}function fy(n,e=0,t=1,s,a){n.min=ex(n.min,e,t,s,a),n.max=ex(n.max,e,t,s,a)}function tA(n,{x:e,y:t}){fy(n.x,e.translate,e.scale,e.originPoint),fy(n.y,t.translate,t.scale,t.originPoint)}const tx=.999999999999,nx=1.0000000000001;function RP(n,e,t,s=!1){const a=t.length;if(!a)return;e.x=e.y=1;let l,c;for(let h=0;h<a;h++){l=t[h],c=l.projectionDelta;const{visualElement:p}=l.options;p&&p.props.style&&p.props.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ll(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(e.x*=c.x.scale,e.y*=c.y.scale,tA(n,c)),s&&za(l.latestValues)&&ll(n,l.latestValues))}e.x<nx&&e.x>tx&&(e.x=1),e.y<nx&&e.y>tx&&(e.y=1)}function ol(n,e){n.min=n.min+e,n.max=n.max+e}function ix(n,e,t,s,a=.5){const l=Rt(n.min,n.max,a);fy(n,e,t,l,s)}function ll(n,e){ix(n.x,e.x,e.scaleX,e.scale,e.originX),ix(n.y,e.y,e.scaleY,e.scale,e.originY)}function nA(n,e){return ZS(CP(n.getBoundingClientRect(),e))}function kP(n,e,t){const s=nA(n,t),{scroll:a}=e;return a&&(ol(s.x,a.offset.x),ol(s.y,a.offset.y)),s}const IP={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},NP=kl.length;function DP(n,e,t){let s="",a=!0;for(let l=0;l<NP;l++){const c=kl[l],h=n[c];if(h===void 0)continue;let p=!0;if(typeof h=="number")p=h===(c.startsWith("scale")?1:0);else{const m=parseFloat(h);p=c.startsWith("scale")?m===1:m===0}if(!p||t){const m=HS(h,h0[c]);if(!p){a=!1;const y=IP[c]||c;s+=`${y}(${m}) `}t&&(e[c]=m)}}return s=s.trim(),t?s=t(e,a?"":s):a&&(s="none"),s}function y0(n,e,t){const{style:s,vars:a,transformOrigin:l}=n;let c=!1,h=!1;for(const p in e){const m=e[p];if(Il.has(p)){c=!0;continue}else if(pS(p)){a[p]=m;continue}else{const y=HS(m,h0[p]);p.startsWith("origin")?(h=!0,l[p]=y):s[p]=y}}if(e.transform||(c||t?s.transform=DP(e,n.transform,t):s.transform&&(s.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:y=0}=l;s.transformOrigin=`${p} ${m} ${y}`}}function iA(n,{style:e,vars:t},s,a){const l=n.style;let c;for(c in e)l[c]=e[c];a?.applyProjectionStyles(l,s);for(c in t)l.setProperty(c,t[c])}function sx(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const qc={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(we.test(n))n=parseFloat(n);else return n;const t=sx(n,e.target.x),s=sx(n,e.target.y);return`${t}% ${s}%`}},MP={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,a=Xr.parse(n);if(a.length>5)return s;const l=Xr.createTransformer(n),c=typeof a[0]!="number"?1:0,h=t.x.scale*e.x,p=t.y.scale*e.y;a[0+c]/=h,a[1+c]/=p;const m=Rt(h,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),l(a)}},my={borderRadius:{...qc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:qc,borderTopRightRadius:qc,borderBottomLeftRadius:qc,borderBottomRightRadius:qc,boxShadow:MP};function sA(n,{layout:e,layoutId:t}){return Il.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!my[n]||n==="opacity")}function v0(n,e,t){const s=n.style,a=e?.style,l={};if(!s)return l;for(const c in s)(xn(s[c])||a&&xn(a[c])||sA(c,n)||t?.getValue(c)?.liveStyle!==void 0)&&(l[c]=s[c]);return l}function PP(n){return window.getComputedStyle(n)}class OP extends JS{constructor(){super(...arguments),this.type="html",this.renderInstance=iA}readValueFromInstance(e,t){if(Il.has(t))return this.projection?.isProjecting?ey(t):eM(e,t);{const s=PP(e),a=(pS(t)?s.getPropertyValue(t):s[t])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:t}){return nA(e,t)}build(e,t,s){y0(e,t,s.transformTemplate)}scrapeMotionValuesFromProps(e,t,s){return v0(e,t,s)}}const VP={offset:"stroke-dashoffset",array:"stroke-dasharray"},LP={offset:"strokeDashoffset",array:"strokeDasharray"};function zP(n,e,t=1,s=0,a=!0){n.pathLength=1;const l=a?VP:LP;n[l.offset]=`${-s}`,n[l.array]=`${e} ${t}`}const jP=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function rA(n,{attrX:e,attrY:t,attrScale:s,pathLength:a,pathSpacing:l=1,pathOffset:c=0,...h},p,m,y){if(y0(n,h,m),p){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:v,style:w}=n;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=y?.transformBox??"fill-box",delete v.transformBox);for(const S of jP)v[S]!==void 0&&(w[S]=v[S],delete v[S]);e!==void 0&&(v.x=e),t!==void 0&&(v.y=t),s!==void 0&&(v.scale=s),a!==void 0&&zP(v,a,l,c,!1)}const aA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),oA=n=>typeof n=="string"&&n.toLowerCase()==="svg";function UP(n,e,t,s){iA(n,e,void 0,s);for(const a in e.attrs)n.setAttribute(aA.has(a)?a:u0(a),e.attrs[a])}function lA(n,e,t){const s=v0(n,e,t);for(const a in n)if(xn(n[a])||xn(e[a])){const l=kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;s[l]=n[a]}return s}class BP extends JS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=sn}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Il.has(t)){const s=BS(t);return s&&s.default||0}return t=aA.has(t)?t:u0(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,s){return lA(e,t,s)}build(e,t,s){rA(e,t,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(e,t,s,a){UP(e,t,s,a)}mount(e){this.isSVGTag=oA(e.tagName),super.mount(e)}}const FP=g0.length;function cA(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?cA(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<FP;t++){const s=g0[t],a=n.props[s];(mu(a)||a===!1)&&(e[s]=a)}return e}function uA(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}const qP=[...p0].reverse(),HP=p0.length;function $P(n){return e=>Promise.all(e.map(({animation:t,options:s})=>qM(n,t,s)))}function GP(n){let e=$P(n),t=rx(),s=!0;const a=p=>(m,y)=>{const v=cl(n,y,p==="exit"?n.presenceContext?.custom:void 0);if(v){const{transition:w,transitionEnd:S,...N}=v;m={...m,...N,...S}}return m};function l(p){e=p(n)}function c(p){const{props:m}=n,y=cA(n.parent)||{},v=[],w=new Set;let S={},N=1/0;for(let L=0;L<HP;L++){const F=qP[L],W=t[F],J=m[F]!==void 0?m[F]:y[F],re=mu(J),he=F===p?W.isActive:null;he===!1&&(N=L);let me=J===y[F]&&J!==m[F]&&re;if(me&&s&&n.manuallyAnimateOnMount&&(me=!1),W.protectedKeys={...S},!W.isActive&&he===null||!J&&!W.prevProp||Ef(J)||typeof J=="boolean")continue;const R=KP(W.prevProp,J);let A=R||F===p&&W.isActive&&!me&&re||L>N&&re,I=!1;const M=Array.isArray(J)?J:[J];let P=M.reduce(a(F),{});he===!1&&(P={});const{prevResolvedValues:V={}}=W,D={...V,...P},Re=oe=>{A=!0,w.has(oe)&&(I=!0,w.delete(oe)),W.needsAnimating[oe]=!0;const ye=n.getValue(oe);ye&&(ye.liveStyle=!1)};for(const oe in D){const ye=P[oe],Ee=V[oe];if(S.hasOwnProperty(oe))continue;let z=!1;ay(ye)&&ay(Ee)?z=!uA(ye,Ee):z=ye!==Ee,z?ye!=null?Re(oe):w.add(oe):ye!==void 0&&w.has(oe)?Re(oe):W.protectedKeys[oe]=!0}W.prevProp=J,W.prevResolvedValues=P,W.isActive&&(S={...S,...P}),s&&n.blockInitialAnimation&&(A=!1);const Ve=me&&R;A&&(!Ve||I)&&v.push(...M.map(oe=>{const ye={type:F};if(typeof oe=="string"&&s&&!Ve&&n.manuallyAnimateOnMount&&n.parent){const{parent:Ee}=n,z=cl(Ee,oe);if(Ee.enteringChildren&&z){const{delayChildren:E}=z.transition||{};ye.delay=DS(Ee.enteringChildren,n,E)}}return{animation:oe,options:ye}}))}if(w.size){const L={};if(typeof m.initial!="boolean"){const F=cl(n,Array.isArray(m.initial)?m.initial[0]:m.initial);F&&F.transition&&(L.transition=F.transition)}w.forEach(F=>{const W=n.getBaseTarget(F),J=n.getValue(F);J&&(J.liveStyle=!0),L[F]=W??null}),v.push({animation:L})}let j=!!v.length;return s&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(j=!1),s=!1,j?e(v):Promise.resolve()}function h(p,m){if(t[p].isActive===m)return Promise.resolve();n.variantChildren?.forEach(v=>v.animationState?.setActive(p,m)),t[p].isActive=m;const y=c(p);for(const v in t)t[v].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:l,getState:()=>t,reset:()=>{t=rx()}}}function KP(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!uA(e,n):!1}function La(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function rx(){return{animate:La(!0),whileInView:La(),whileHover:La(),whileTap:La(),whileDrag:La(),whileFocus:La(),exit:La()}}function ax(n,e){n.min=e.min,n.max=e.max}function Pi(n,e){ax(n.x,e.x),ax(n.y,e.y)}function ox(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}const hA=1e-4,YP=1-hA,QP=1+hA,dA=.01,XP=0-dA,WP=0+dA;function Dn(n){return n.max-n.min}function JP(n,e,t){return Math.abs(n-e)<=t}function lx(n,e,t,s=.5){n.origin=s,n.originPoint=Rt(e.min,e.max,n.origin),n.scale=Dn(t)/Dn(e),n.translate=Rt(t.min,t.max,n.origin)-n.originPoint,(n.scale>=YP&&n.scale<=QP||isNaN(n.scale))&&(n.scale=1),(n.translate>=XP&&n.translate<=WP||isNaN(n.translate))&&(n.translate=0)}function nu(n,e,t,s){lx(n.x,e.x,t.x,s?s.originX:void 0),lx(n.y,e.y,t.y,s?s.originY:void 0)}function cx(n,e,t){n.min=t.min+e.min,n.max=n.min+Dn(e)}function ZP(n,e,t){cx(n.x,e.x,t.x),cx(n.y,e.y,t.y)}function ux(n,e,t){n.min=e.min-t.min,n.max=n.min+Dn(e)}function Yd(n,e,t){ux(n.x,e.x,t.x),ux(n.y,e.y,t.y)}function hx(n,e,t,s,a){return n-=e,n=Kd(n,1/t,s),a!==void 0&&(n=Kd(n,1/a,s)),n}function eO(n,e=0,t=1,s=.5,a,l=n,c=n){if(ps.test(e)&&(e=parseFloat(e),e=Rt(c.min,c.max,e/100)-c.min),typeof e!="number")return;let h=Rt(l.min,l.max,s);n===l&&(h-=e),n.min=hx(n.min,e,t,h,a),n.max=hx(n.max,e,t,h,a)}function dx(n,e,[t,s,a],l,c){eO(n,e[t],e[s],e[a],e.scale,l,c)}const tO=["x","scaleX","originX"],nO=["y","scaleY","originY"];function fx(n,e,t,s){dx(n.x,e,tO,t?t.x:void 0,s?s.x:void 0),dx(n.y,e,nO,t?t.y:void 0,s?s.y:void 0)}function mx(n){return n.translate===0&&n.scale===1}function fA(n){return mx(n.x)&&mx(n.y)}function px(n,e){return n.min===e.min&&n.max===e.max}function iO(n,e){return px(n.x,e.x)&&px(n.y,e.y)}function gx(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function mA(n,e){return gx(n.x,e.x)&&gx(n.y,e.y)}function yx(n){return Dn(n.x)/Dn(n.y)}function vx(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}function hs(n){return[n("x"),n("y")]}function sO(n,e,t){let s="";const a=n.x.translate/e.x,l=n.y.translate/e.y,c=t?.z||0;if((a||l||c)&&(s=`translate3d(${a}px, ${l}px, ${c}px) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:w,skewX:S,skewY:N}=t;m&&(s=`perspective(${m}px) ${s}`),y&&(s+=`rotate(${y}deg) `),v&&(s+=`rotateX(${v}deg) `),w&&(s+=`rotateY(${w}deg) `),S&&(s+=`skewX(${S}deg) `),N&&(s+=`skewY(${N}deg) `)}const h=n.x.scale*e.x,p=n.y.scale*e.y;return(h!==1||p!==1)&&(s+=`scale(${h}, ${p})`),s||"none"}const pA=["TopLeft","TopRight","BottomLeft","BottomRight"],rO=pA.length,bx=n=>typeof n=="string"?parseFloat(n):n,_x=n=>typeof n=="number"||we.test(n);function aO(n,e,t,s,a,l){a?(n.opacity=Rt(0,t.opacity??1,oO(s)),n.opacityExit=Rt(e.opacity??1,0,lO(s))):l&&(n.opacity=Rt(e.opacity??1,t.opacity??1,s));for(let c=0;c<rO;c++){const h=`border${pA[c]}Radius`;let p=wx(e,h),m=wx(t,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||_x(p)===_x(m)?(n[h]=Math.max(Rt(bx(p),bx(m),s),0),(ps.test(m)||ps.test(p))&&(n[h]+="%")):n[h]=m}(e.rotate||t.rotate)&&(n.rotate=Rt(e.rotate||0,t.rotate||0,s))}function wx(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const oO=gA(0,.5,cS),lO=gA(.5,.95,bi);function gA(n,e,t){return s=>s<n?0:s>e?1:t(hu(n,e,s))}function cO(n,e,t){const s=xn(n)?n:pl(n);return s.start(l0("",s,e,t)),s.animation}function pu(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}const uO=(n,e)=>n.depth-e.depth;class hO{constructor(){this.children=[],this.isDirty=!1}add(e){$y(this.children,e),this.isDirty=!0}remove(e){Gy(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(uO),this.isDirty=!1,this.children.forEach(e)}}function dO(n,e){const t=Nn.now(),s=({timestamp:a})=>{const l=a-t;l>=e&&(Qr(s),n(l-e))};return Tt.setup(s,!0),()=>Qr(s)}function Rd(n){return xn(n)?n.get():n}class fO{constructor(){this.members=[]}add(e){$y(this.members,e),e.scheduleRender()}remove(e){if(Gy(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(a=>e===a);if(t===0)return!1;let s;for(let a=t;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender();const a=s.options.layoutDependency,l=e.options.layoutDependency;a!==void 0&&l!==void 0&&a===l||(e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:h}=e.options;h===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const kd={hasAnimatedSinceResize:!0,hasEverUpdated:!1},fg=["","X","Y","Z"],mO=1e3;let pO=0;function mg(n,e,t,s){const{latestValues:a}=e;a[n]&&(t[n]=a[n],e.setStaticValue(n,0),s&&(s[n]=0))}function yA(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=LS(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:a,layoutId:l}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",Tt,!(a||l))}const{parent:s}=n;s&&!s.hasCheckedOptimisedAppear&&yA(s)}function vA({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:a}){return class{constructor(c={},h=e?.()){this.id=pO++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(vO),this.nodes.forEach(TO),this.nodes.forEach(xO),this.nodes.forEach(bO)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new hO)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new Qy),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=m0(c)&&!yP(c),this.instance=c;const{layoutId:h,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(p||h)&&(this.isLayoutDirty=!0),n){let y,v=0;const w=()=>this.root.updateBlockedByResize=!1;Tt.read(()=>{v=window.innerWidth}),n(c,()=>{const S=window.innerWidth;S!==v&&(v=S,this.root.updateBlockedByResize=!0,y&&y(),y=dO(w,250),kd.hasAnimatedSinceResize&&(kd.hasAnimatedSinceResize=!1,this.nodes.forEach(Ex)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||m.getDefaultTransition()||RO,{onLayoutAnimationStart:j,onLayoutAnimationComplete:L}=m.getProps(),F=!this.targetLayout||!mA(this.targetLayout,S),W=!v&&w;if(this.options.layoutRoot||this.resumeFrom||W||v&&(F||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const J={...o0(N,"layout"),onPlay:j,onComplete:L};(m.shouldReduceMotion||this.options.layoutRoot)&&(J.delay=0,J.type=!1),this.startAnimation(J),this.setAnimationOrigin(y,W)}else v||Ex(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EO),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&yA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tx);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xx);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(wO),this.nodes.forEach(gO),this.nodes.forEach(yO)):this.nodes.forEach(xx),this.clearAllSnapshots();const h=Nn.now();gn.delta=_s(0,1e3/60,h-gn.timestamp),gn.timestamp=h,gn.isProcessing=!0,rg.update.process(gn),rg.preRender.process(gn),rg.render.process(gn),gn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,d0.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_O),this.sharedNodes.forEach(SO)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dn(this.snapshot.measuredBox.x)&&!Dn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=sn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h&&this.instance){const p=s(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!fA(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&this.instance&&(h||za(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),kO(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:c}=this.options;if(!c)return sn();const h=c.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(IO))){const{scroll:m}=this.root;m&&(ol(h.x,m.offset.x),ol(h.y,m.offset.y))}return h}removeElementScroll(c){const h=sn();if(Pi(h,c),this.scroll?.wasRoot)return h;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:y,options:v}=m;m!==this.root&&y&&v.layoutScroll&&(y.wasRoot&&Pi(h,c),ol(h.x,y.offset.x),ol(h.y,y.offset.y))}return h}applyTransform(c,h=!1){const p=sn();Pi(p,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&ll(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),za(y.latestValues)&&ll(p,y.latestValues)}return za(this.latestValues)&&ll(p,this.latestValues),p}removeTransform(c){const h=sn();Pi(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!za(m.latestValues))continue;dy(m.latestValues)&&m.updateSnapshot();const y=sn(),v=m.measurePageBox();Pi(y,v),fx(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return za(this.latestValues)&&fx(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==gn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!this.layout||!(y||v))return;this.resolvedRelativeTargetAt=gn.timestamp;const w=this.getClosestProjectingParent();w&&this.linkedParentVersion!==w.layoutVersion&&!w.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(w&&w.layout?this.createRelativeTarget(w,this.layout.layoutBox,w.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=sn(),this.targetWithTransforms=sn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pi(this.target,this.layout.layoutBox),tA(this.target,this.targetDelta)):Pi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?this.createRelativeTarget(w,this.target,w.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||dy(this.parent.latestValues)||eA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(c,h,p){this.relativeParent=c,this.linkedParentVersion=c.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=sn(),this.relativeTargetOrigin=sn(),Yd(this.relativeTargetOrigin,h,p),Pi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===gn.timestamp&&(p=!1),p)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;Pi(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;RP(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=sn());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ox(this.prevProjectionDelta.x,this.projectionDelta.x),ox(this.prevProjectionDelta.y,this.projectionDelta.y)),nu(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!vx(this.projectionDelta.x,this.prevProjectionDelta.x)||!vx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){if(this.options.visualElement?.scheduleRender(),c){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=al(),this.projectionDelta=al(),this.projectionDeltaWithTransform=al()}setAnimationOrigin(c,h=!1){const p=this.snapshot,m=p?p.latestValues:{},y={...this.latestValues},v=al();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=sn(),S=p?p.source:void 0,N=this.layout?this.layout.source:void 0,j=S!==N,L=this.getStack(),F=!L||L.members.length<=1,W=!!(j&&!F&&this.options.crossfade===!0&&!this.path.some(CO));this.animationProgress=0;let J;this.mixTargetDelta=re=>{const he=re/1e3;Sx(v.x,c.x,he),Sx(v.y,c.y,he),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yd(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AO(this.relativeTarget,this.relativeTargetOrigin,w,he),J&&iO(this.relativeTarget,J)&&(this.isProjectionDirty=!1),J||(J=sn()),Pi(J,this.relativeTarget)),j&&(this.animationValues=y,aO(y,m,this.latestValues,he,W,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=he},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{kd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=pl(0)),this.currentAnimation=cO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(mO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:y}=c;if(!(!h||!p||!m)){if(this!==c&&this.layout&&m&&bA(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||sn();const v=Dn(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+v;const w=Dn(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+w}Pi(h,p),ll(h,y),nu(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new fO),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){const{layoutId:c}=this.options;return c?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:c}=this.options;return c?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&mg("z",c,m,this.animationValues);for(let y=0;y<fg.length;y++)mg(`rotate${fg[y]}`,c,m,this.animationValues),mg(`skew${fg[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}applyProjectionStyles(c,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const p=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=Rd(h?.pointerEvents)||"",c.transform=p?p(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=Rd(h?.pointerEvents)||""),this.hasProjected&&!za(this.latestValues)&&(c.transform=p?p({},""):"none",this.hasProjected=!1);return}c.visibility="";const y=m.animationValues||m.latestValues;this.applyTransformsToTarget();let v=sO(this.projectionDeltaWithTransform,this.treeScale,y);p&&(v=p(y,v)),c.transform=v;const{x:w,y:S}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${S.origin*100}% 0`,m.animationValues?c.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:c.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const N in my){if(y[N]===void 0)continue;const{correct:j,applyTo:L,isCSSVariable:F}=my[N],W=v==="none"?y[N]:j(y[N],m);if(L){const J=L.length;for(let re=0;re<J;re++)c[L[re]]=W}else F?this.options.visualElement.renderState.vars[N]=W:c[N]=W}this.options.layoutId&&(c.pointerEvents=m===this?Rd(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>c.currentAnimation?.stop()),this.root.nodes.forEach(Tx),this.root.sharedNodes.clear()}}}function gO(n){n.updateLayout()}function yO(n){const e=n.resumeFrom?.snapshot||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:s}=n.layout,{animationType:a}=n.options,l=e.source!==n.layout.source;a==="size"?hs(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=Dn(v);v.min=t[y].min,v.max=v.min+w}):bA(a,e.layoutBox,t)&&hs(y=>{const v=l?e.measuredBox[y]:e.layoutBox[y],w=Dn(t[y]);v.max=v.min+w,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[y].max=n.relativeTarget[y].min+w)});const c=al();nu(c,t,e.layoutBox);const h=al();l?nu(h,n.applyTransform(s,!0),e.measuredBox):nu(h,t,e.layoutBox);const p=!fA(c);let m=!1;if(!n.resumeFrom){const y=n.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:v,layout:w}=y;if(v&&w){const S=sn();Yd(S,e.layoutBox,v.layoutBox);const N=sn();Yd(N,t,w.layoutBox),mA(S,N)||(m=!0),y.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=S,n.relativeParent=y)}}}n.notifyListeners("didUpdate",{layout:t,snapshot:e,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:m})}else if(n.isLead()){const{onExitComplete:t}=n.options;t&&t()}n.options.transition=void 0}function vO(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function bO(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function _O(n){n.clearSnapshot()}function Tx(n){n.clearMeasurements()}function xx(n){n.isLayoutDirty=!1}function wO(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function Ex(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function TO(n){n.resolveTargetDelta()}function xO(n){n.calcProjection()}function EO(n){n.resetSkewAndRotation()}function SO(n){n.removeLeadSnapshot()}function Sx(n,e,t){n.translate=Rt(e.translate,0,t),n.scale=Rt(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function Ax(n,e,t,s){n.min=Rt(e.min,t.min,s),n.max=Rt(e.max,t.max,s)}function AO(n,e,t,s){Ax(n.x,e.x,t.x,s),Ax(n.y,e.y,t.y,s)}function CO(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const RO={duration:.45,ease:[.4,0,.1,1]},Cx=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),Rx=Cx("applewebkit/")&&!Cx("chrome/")?Math.round:bi;function kx(n){n.min=Rx(n.min),n.max=Rx(n.max)}function kO(n){kx(n.x),kx(n.y)}function bA(n,e,t){return n==="position"||n==="preserve-aspect"&&!JP(yx(e),yx(t),.2)}function IO(n){return n!==n.root&&n.scroll?.wasRoot}const NO=vA({attachResizeListener:(n,e)=>pu(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),pg={current:void 0},_A=vA({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!pg.current){const n=new NO({});n.mount(window),n.setOptions({layoutScroll:!0}),pg.current=n}return pg.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),b0=Q.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Ix(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function DO(...n){return e=>{let t=!1;const s=n.map(a=>{const l=Ix(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Ix(n[a],null)}}}}function MO(...n){return Q.useCallback(DO(...n),n)}class PO extends Q.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const s=t.offsetParent,a=uy(s)&&s.offsetWidth||0,l=uy(s)&&s.offsetHeight||0,c=this.props.sizeRef.current;c.height=t.offsetHeight||0,c.width=t.offsetWidth||0,c.top=t.offsetTop,c.left=t.offsetLeft,c.right=a-c.width-c.left,c.bottom=l-c.height-c.top}return null}componentDidUpdate(){}render(){return this.props.children}}function OO({children:n,isPresent:e,anchorX:t,anchorY:s,root:a,pop:l}){const c=Q.useId(),h=Q.useRef(null),p=Q.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:m}=Q.useContext(b0),y=n.props?.ref??n?.ref,v=MO(h,y);return Q.useInsertionEffect(()=>{const{width:w,height:S,top:N,left:j,right:L,bottom:F}=p.current;if(e||l===!1||!h.current||!w||!S)return;const W=t==="left"?`left: ${j}`:`right: ${L}`,J=s==="bottom"?`bottom: ${F}`:`top: ${N}`;h.current.dataset.motionPopId=c;const re=document.createElement("style");m&&(re.nonce=m);const he=a??document.head;return he.appendChild(re),re.sheet&&re.sheet.insertRule(`
          [data-motion-pop-id="${c}"] {
            position: absolute !important;
            width: ${w}px !important;
            height: ${S}px !important;
            ${W}px !important;
            ${J}px !important;
          }
        `),()=>{he.contains(re)&&he.removeChild(re)}},[e]),x.jsx(PO,{isPresent:e,childRef:h,sizeRef:p,pop:l,children:l===!1?n:Q.cloneElement(n,{ref:v})})}const VO=({children:n,initial:e,isPresent:t,onExitComplete:s,custom:a,presenceAffectsLayout:l,mode:c,anchorX:h,anchorY:p,root:m})=>{const y=Hy(LO),v=Q.useId();let w=!0,S=Q.useMemo(()=>(w=!1,{id:v,initial:e,isPresent:t,custom:a,onExitComplete:N=>{y.set(N,!0);for(const j of y.values())if(!j)return;s&&s()},register:N=>(y.set(N,!1),()=>y.delete(N))}),[t,y,s]);return l&&w&&(S={...S}),Q.useMemo(()=>{y.forEach((N,j)=>y.set(j,!1))},[t]),Q.useEffect(()=>{!t&&!y.size&&s&&s()},[t]),n=x.jsx(OO,{pop:c==="popLayout",isPresent:t,anchorX:h,anchorY:p,root:m,children:n}),x.jsx(xf.Provider,{value:S,children:n})};function LO(){return new Map}function wA(n=!0){const e=Q.useContext(xf);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:s,register:a}=e,l=Q.useId();Q.useEffect(()=>{if(n)return a(l)},[n]);const c=Q.useCallback(()=>n&&s&&s(l),[l,s,n]);return!t&&s?[!1,c]:[!0]}const fd=n=>n.key||"";function Nx(n){const e=[];return Q.Children.forEach(n,t=>{Q.isValidElement(t)&&e.push(t)}),e}const Id=({children:n,custom:e,initial:t=!0,onExitComplete:s,presenceAffectsLayout:a=!0,mode:l="sync",propagate:c=!1,anchorX:h="left",anchorY:p="top",root:m})=>{const[y,v]=wA(c),w=Q.useMemo(()=>Nx(n),[n]),S=c&&!y?[]:w.map(fd),N=Q.useRef(!0),j=Q.useRef(w),L=Hy(()=>new Map),F=Q.useRef(new Set),[W,J]=Q.useState(w),[re,he]=Q.useState(w);J1(()=>{N.current=!1,j.current=w;for(let A=0;A<re.length;A++){const I=fd(re[A]);S.includes(I)?(L.delete(I),F.current.delete(I)):L.get(I)!==!0&&L.set(I,!1)}},[re,S.length,S.join("-")]);const me=[];if(w!==W){let A=[...w];for(let I=0;I<re.length;I++){const M=re[I],P=fd(M);S.includes(P)||(A.splice(I,0,M),me.push(M))}return l==="wait"&&me.length&&(A=me),he(Nx(A)),J(w),null}const{forceRender:R}=Q.useContext(qy);return x.jsx(x.Fragment,{children:re.map(A=>{const I=fd(A),M=c&&!y?!1:w===re||S.includes(I),P=()=>{if(F.current.has(I))return;if(F.current.add(I),L.has(I))L.set(I,!0);else return;let V=!0;L.forEach(D=>{D||(V=!1)}),V&&(R?.(),he(j.current),c&&v?.(),s&&s())};return x.jsx(VO,{isPresent:M,initial:!N.current||t?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,root:m,onExitComplete:M?void 0:P,anchorX:h,anchorY:p,children:A},I)})})},TA=Q.createContext({strict:!1}),Dx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let Mx=!1;function zO(){if(Mx)return;const n={};for(const e in Dx)n[e]={isEnabled:t=>Dx[e].some(s=>!!t[s])};WS(n),Mx=!0}function xA(){return zO(),EP()}function jO(n){const e=xA();for(const t in n)e[t]={...e[t],...n[t]};WS(e)}const UO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function Qd(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||UO.has(n)}let EA=n=>!Qd(n);function BO(n){typeof n=="function"&&(EA=e=>e.startsWith("on")?!Qd(e):n(e))}try{BO(require("@emotion/is-prop-valid").default)}catch{}function FO(n,e,t){const s={};for(const a in n)a==="values"&&typeof n.values=="object"||(EA(a)||t===!0&&Qd(a)||!e&&!Qd(a)||n.draggable&&a.startsWith("onDrag"))&&(s[a]=n[a]);return s}const Af=Q.createContext({});function qO(n,e){if(Sf(n)){const{initial:t,animate:s}=n;return{initial:t===!1||mu(t)?t:void 0,animate:mu(s)?s:void 0}}return n.inherit!==!1?e:{}}function HO(n){const{initial:e,animate:t}=qO(n,Q.useContext(Af));return Q.useMemo(()=>({initial:e,animate:t}),[Px(e),Px(t)])}function Px(n){return Array.isArray(n)?n.join(" "):n}const _0=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SA(n,e,t){for(const s in e)!xn(e[s])&&!sA(s,t)&&(n[s]=e[s])}function $O({transformTemplate:n},e){return Q.useMemo(()=>{const t=_0();return y0(t,e,n),Object.assign({},t.vars,t.style)},[e])}function GO(n,e){const t=n.style||{},s={};return SA(s,t,n),Object.assign(s,$O(n,e)),s}function KO(n,e){const t={},s=GO(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=s,t}const AA=()=>({..._0(),attrs:{}});function YO(n,e,t,s){const a=Q.useMemo(()=>{const l=AA();return rA(l,e,oA(s),n.transformTemplate,n.style),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};SA(l,n.style,n),a.style={...l,...a.style}}return a}const QO=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function w0(n){return typeof n!="string"||n.includes("-")?!1:!!(QO.indexOf(n)>-1||/[A-Z]/u.test(n))}function XO(n,e,t,{latestValues:s},a,l=!1,c){const p=(c??w0(n)?YO:KO)(e,s,a,n),m=FO(e,typeof n=="string",l),y=n!==Q.Fragment?{...m,...p,ref:t}:{},{children:v}=e,w=Q.useMemo(()=>xn(v)?v.get():v,[v]);return Q.createElement(n,{...y,children:w})}function WO({scrapeMotionValuesFromProps:n,createRenderState:e},t,s,a){return{latestValues:JO(t,s,a,n),renderState:e()}}function JO(n,e,t,s){const a={},l=s(n,{});for(const w in l)a[w]=Rd(l[w]);let{initial:c,animate:h}=n;const p=Sf(n),m=XS(n);e&&m&&!p&&n.inherit!==!1&&(c===void 0&&(c=e.initial),h===void 0&&(h=e.animate));let y=t?t.initial===!1:!1;y=y||c===!1;const v=y?h:c;if(v&&typeof v!="boolean"&&!Ef(v)){const w=Array.isArray(v)?v:[v];for(let S=0;S<w.length;S++){const N=c0(n,w[S]);if(N){const{transitionEnd:j,transition:L,...F}=N;for(const W in F){let J=F[W];if(Array.isArray(J)){const re=y?J.length-1:0;J=J[re]}J!==null&&(a[W]=J)}for(const W in j)a[W]=j[W]}}}return a}const CA=n=>(e,t)=>{const s=Q.useContext(Af),a=Q.useContext(xf),l=()=>WO(n,e,s,a);return t?l():Hy(l)},ZO=CA({scrapeMotionValuesFromProps:v0,createRenderState:_0}),eV=CA({scrapeMotionValuesFromProps:lA,createRenderState:AA}),tV=Symbol.for("motionComponentSymbol");function nV(n,e,t){const s=Q.useRef(t);Q.useInsertionEffect(()=>{s.current=t});const a=Q.useRef(null);return Q.useCallback(l=>{l&&n.onMount?.(l),e&&(l?e.mount(l):e.unmount());const c=s.current;if(typeof c=="function")if(l){const h=c(l);typeof h=="function"&&(a.current=h)}else a.current?(a.current(),a.current=null):c(l);else c&&(c.current=l)},[e])}const RA=Q.createContext({});function Zo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function iV(n,e,t,s,a,l){const{visualElement:c}=Q.useContext(Af),h=Q.useContext(TA),p=Q.useContext(xf),m=Q.useContext(b0),y=m.reducedMotion,v=m.skipAnimations,w=Q.useRef(null),S=Q.useRef(!1);s=s||h.renderer,!w.current&&s&&(w.current=s(n,{visualState:e,parent:c,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y,skipAnimations:v,isSVG:l}),S.current&&w.current&&(w.current.manuallyAnimateOnMount=!0));const N=w.current,j=Q.useContext(RA);N&&!N.projection&&a&&(N.type==="html"||N.type==="svg")&&sV(w.current,t,a,j);const L=Q.useRef(!1);Q.useInsertionEffect(()=>{N&&L.current&&N.update(t,p)});const F=t[VS],W=Q.useRef(!!F&&!window.MotionHandoffIsComplete?.(F)&&window.MotionHasOptimisedAnimation?.(F));return J1(()=>{S.current=!0,N&&(L.current=!0,window.MotionIsMounted=!0,N.updateFeatures(),N.scheduleRenderMicrotask(),W.current&&N.animationState&&N.animationState.animateChanges())}),Q.useEffect(()=>{N&&(!W.current&&N.animationState&&N.animationState.animateChanges(),W.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(F)}),W.current=!1),N.enteringChildren=void 0)}),N}function sV(n,e,t,s){const{layoutId:a,layout:l,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:m,layoutCrossfade:y}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:kA(n.parent)),n.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!c||h&&Zo(h),visualElement:n,animationType:typeof l=="string"?l:"both",initialPromotionConfig:s,crossfade:y,layoutScroll:p,layoutRoot:m})}function kA(n){if(n)return n.options.allowProjection!==!1?n.projection:kA(n.parent)}function gg(n,{forwardMotionProps:e=!1,type:t}={},s,a){s&&jO(s);const l=t?t==="svg":w0(n),c=l?eV:ZO;function h(m,y){let v;const w={...Q.useContext(b0),...m,layoutId:rV(m)},{isStatic:S}=w,N=HO(m),j=c(m,S);if(!S&&W1){aV();const L=oV(w);v=L.MeasureLayout,N.visualElement=iV(n,j,w,a,L.ProjectionNode,l)}return x.jsxs(Af.Provider,{value:N,children:[v&&N.visualElement?x.jsx(v,{visualElement:N.visualElement,...w}):null,XO(n,m,nV(j,N.visualElement,y),j,S,e,l)]})}h.displayName=`motion.${typeof n=="string"?n:`create(${n.displayName??n.name??""})`}`;const p=Q.forwardRef(h);return p[tV]=n,p}function rV({layoutId:n}){const e=Q.useContext(qy).id;return e&&n!==void 0?e+"-"+n:n}function aV(n,e){Q.useContext(TA).strict}function oV(n){const e=xA(),{drag:t,layout:s}=e;if(!t&&!s)return{};const a={...t,...s};return{MeasureLayout:t?.isEnabled(n)||s?.isEnabled(n)?a.MeasureLayout:void 0,ProjectionNode:a.ProjectionNode}}function lV(n,e){if(typeof Proxy>"u")return gg;const t=new Map,s=(l,c)=>gg(l,c,n,e),a=(l,c)=>s(l,c);return new Proxy(a,{get:(l,c)=>c==="create"?s:(t.has(c)||t.set(c,gg(c,void 0,n,e)),t.get(c))})}const cV=(n,e)=>e.isSVG??w0(n)?new BP(e):new OP(e,{allowProjection:n!==Q.Fragment});class uV extends ra{constructor(e){super(e),e.animationState||(e.animationState=GP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ef(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let hV=0;class dV extends ra{constructor(){super(...arguments),this.id=hV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const a=this.node.animationState.setActive("exit",!e);t&&!e&&a.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const fV={animation:{Feature:uV},exit:{Feature:dV}};function Ru(n){return{point:{x:n.pageX,y:n.pageY}}}const mV=n=>e=>f0(e)&&n(e,Ru(e));function iu(n,e,t,s){return pu(n,e,mV(t),s)}const IA=({current:n})=>n?n.ownerDocument.defaultView:null,Ox=(n,e)=>Math.abs(n-e);function pV(n,e){const t=Ox(n.x,e.x),s=Ox(n.y,e.y);return Math.sqrt(t**2+s**2)}const Vx=new Set(["auto","scroll"]);class NA{constructor(e,t,{transformPagePoint:s,contextWindow:a=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=S=>{this.handleScroll(S.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=vg(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,j=pV(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!N&&!j)return;const{point:L}=S,{timestamp:F}=gn;this.history.push({...L,timestamp:F});const{onStart:W,onMove:J}=this.handlers;N||(W&&W(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),J&&J(this.lastMoveEvent,S)},this.handlePointerMove=(S,N)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=yg(N,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(S,N)=>{this.end();const{onEnd:j,onSessionEnd:L,resumeAnimation:F}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&F&&F(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const W=vg(S.type==="pointercancel"?this.lastMoveEventInfo:yg(N,this.transformPagePoint),this.history);this.startEvent&&j&&j(S,W),L&&L(S,W)},!f0(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=s,this.distanceThreshold=c,this.contextWindow=a||window;const p=Ru(e),m=yg(p,this.transformPagePoint),{point:y}=m,{timestamp:v}=gn;this.history=[{...y,timestamp:v}];const{onSessionStart:w}=t;w&&w(e,vg(m,this.history)),this.removeListeners=Su(iu(this.contextWindow,"pointermove",this.handlePointerMove),iu(this.contextWindow,"pointerup",this.handlePointerUp),iu(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let t=e.parentElement;for(;t;){const s=getComputedStyle(t);(Vx.has(s.overflowX)||Vx.has(s.overflowY))&&this.scrollPositions.set(t,{x:t.scrollLeft,y:t.scrollTop}),t=t.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const t=this.scrollPositions.get(e);if(!t)return;const s=e===window,a=s?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},l={x:a.x-t.x,y:a.y-t.y};l.x===0&&l.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=l.x,this.lastMoveEventInfo.point.y+=l.y):this.history.length>0&&(this.history[0].x-=l.x,this.history[0].y-=l.y),this.scrollPositions.set(e,a),Tt.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Qr(this.updatePoint)}}function yg(n,e){return e?{point:e(n.point)}:n}function Lx(n,e){return{x:n.x-e.x,y:n.y-e.y}}function vg({point:n},e){return{point:n,delta:Lx(n,DA(e)),offset:Lx(n,gV(e)),velocity:yV(e,.1)}}function gV(n){return n[0]}function DA(n){return n[n.length-1]}function yV(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const a=DA(n);for(;t>=0&&(s=n[t],!(a.timestamp-s.timestamp>ms(e)));)t--;if(!s)return{x:0,y:0};s===n[0]&&n.length>2&&a.timestamp-s.timestamp>ms(e)*2&&(s=n[1]);const l=vi(a.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const c={x:(a.x-s.x)/l,y:(a.y-s.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function vV(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?Rt(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?Rt(t,n,s.max):Math.min(n,t)),n}function zx(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function bV(n,{top:e,left:t,bottom:s,right:a}){return{x:zx(n.x,t,a),y:zx(n.y,e,s)}}function jx(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function _V(n,e){return{x:jx(n.x,e.x),y:jx(n.y,e.y)}}function wV(n,e){let t=.5;const s=Dn(n),a=Dn(e);return a>s?t=hu(e.min,e.max-s,n.min):s>a&&(t=hu(n.min,n.max-a,e.min)),_s(0,1,t)}function TV(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const py=.35;function xV(n=py){return n===!1?n=0:n===!0&&(n=py),{x:Ux(n,"left","right"),y:Ux(n,"top","bottom")}}function Ux(n,e,t){return{min:Bx(n,e),max:Bx(n,t)}}function Bx(n,e){return typeof n=="number"?n:n[e]||0}const EV=new WeakMap;class SV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=sn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:s}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const l=v=>{t&&this.snapToCursor(Ru(v).point),this.stopAnimation()},c=(v,w)=>{const{drag:S,dragPropagation:N,onDragStart:j}=this.getProps();if(S&&!N&&(this.openDragLock&&this.openDragLock(),this.openDragLock=eP(S),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=w,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hs(F=>{let W=this.getAxisMotionValue(F).get()||0;if(ps.test(W)){const{projection:J}=this.visualElement;if(J&&J.layout){const re=J.layout.layoutBox[F];re&&(W=Dn(re)*(parseFloat(W)/100))}}this.originPoint[F]=W}),j&&Tt.update(()=>j(v,w),!1,!0),oy(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},h=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w;const{dragPropagation:S,dragDirectionLock:N,onDirectionLock:j,onDrag:L}=this.getProps();if(!S&&!this.openDragLock)return;const{offset:F}=w;if(N&&this.currentDirection===null){this.currentDirection=CV(F),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",w.point,F),this.updateAxis("y",w.point,F),this.visualElement.render(),L&&Tt.update(()=>L(v,w),!1,!0)},p=(v,w)=>{this.latestPointerEvent=v,this.latestPanInfo=w,this.stop(v,w),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>{const{dragSnapToOrigin:v}=this.getProps();(v||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:y}=this.getProps();this.panSession=new NA(e,{onSessionStart:l,onStart:c,onMove:h,onSessionEnd:p,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:y,distanceThreshold:s,contextWindow:IA(this.visualElement),element:this.visualElement.current})}stop(e,t){const s=e||this.latestPointerEvent,a=t||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!a||!s)return;const{velocity:c}=a;this.startAnimation(c);const{onDragEnd:h}=this.getProps();h&&Tt.postRender(()=>h(s,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,t,s){const{drag:a}=this.getProps();if(!s||!md(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let c=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(c=vV(c,this.constraints[e],this.elastic[e])),l.set(c)}resolveConstraints(){const{dragConstraints:e,dragElastic:t}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Zo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&s?this.constraints=bV(s.layoutBox,e):this.constraints=!1,this.elastic=xV(t),a!==this.constraints&&!Zo(e)&&s&&this.constraints&&!this.hasMutatedConstraints&&hs(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=TV(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Zo(e))return!1;const s=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=kP(s,a.root,this.visualElement.getTransformPagePoint());let c=_V(a.layout.layoutBox,l);if(t){const h=t(AP(c));this.hasMutatedConstraints=!!h,h&&(c=ZS(h))}return c}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:a,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=hs(y=>{if(!md(y,t,this.currentDirection))return;let v=p&&p[y]||{};c&&(v={min:0,max:0});const w=a?200:1e6,S=a?40:1e7,N={type:"inertia",velocity:s?e[y]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(y,N)});return Promise.all(m).then(h)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return oy(this.visualElement,e),s.start(l0(e,s,0,t,this.visualElement,!1))}stopAnimation(){hs(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,s=this.visualElement.getProps(),a=s[t];return a||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){hs(t=>{const{drag:s}=this.getProps();if(!md(t,s,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(t);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[t],p=l.get()||0;l.set(e[t]-Rt(c,h,.5)+p)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!Zo(t)||!s||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};hs(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();a[c]=wV({min:p,max:p},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.constraints=!1,this.resolveConstraints(),hs(c=>{if(!md(c,e,null))return;const h=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];h.set(Rt(p,m,a[c]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;EV.set(this.visualElement,this);const e=this.visualElement.current,t=iu(e,"pointerdown",m=>{const{drag:y,dragListener:v=!0}=this.getProps(),w=m.target,S=w!==e&&aP(w);y&&v&&!S&&this.start(m)});let s;const a=()=>{const{dragConstraints:m}=this.getProps();Zo(m)&&m.current&&(this.constraints=this.resolveRefConstraints(),s||(s=AV(e,m.current,()=>this.scalePositionWithinConstraints())))},{projection:l}=this.visualElement,c=l.addEventListener("measure",a);l&&!l.layout&&(l.root&&l.root.updateScroll(),l.updateLayout()),Tt.read(a);const h=pu(window,"resize",()=>this.scalePositionWithinConstraints()),p=l.addEventListener("didUpdate",(({delta:m,hasLayoutChanged:y})=>{this.isDragging&&y&&(hs(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=m[v].translate,w.set(w.get()+m[v].translate))}),this.visualElement.render())}));return()=>{h(),t(),c(),p&&p(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:c=py,dragMomentum:h=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:a,dragConstraints:l,dragElastic:c,dragMomentum:h}}}function Fx(n){let e=!0;return()=>{if(e){e=!1;return}n()}}function AV(n,e,t){const s=QT(n,Fx(t)),a=QT(e,Fx(t));return()=>{s(),a()}}function md(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function CV(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class RV extends ra{constructor(e){super(e),this.removeGroupControls=bi,this.removeListeners=bi,this.controls=new SV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||bi}update(){const{dragControls:e}=this.node.getProps(),{dragControls:t}=this.node.prevProps||{};e!==t&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const bg=n=>(e,t)=>{n&&Tt.update(()=>n(e,t),!1,!0)};class kV extends ra{constructor(){super(...arguments),this.removePointerDownListener=bi}onPointerDown(e){this.session=new NA(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:IA(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:a}=this.node.getProps();return{onSessionStart:bg(e),onStart:bg(t),onMove:bg(s),onEnd:(l,c)=>{delete this.session,a&&Tt.postRender(()=>a(l,c))}}}mount(){this.removePointerDownListener=iu(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let _g=!1;class IV extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:a}=this.props,{projection:l}=e;l&&(t.group&&t.group.add(l),s&&s.register&&a&&s.register(l),_g&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),kd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:a,isPresent:l}=this.props,{projection:c}=s;return c&&(c.isPresent=l,e.layoutDependency!==t&&c.setOptions({...c.options,layoutDependency:t}),_g=!0,a||e.layoutDependency!==t||t===void 0||e.isPresent!==l?c.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?c.promote():c.relegate()||Tt.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),d0.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:a}=e;_g=!0,a&&(a.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(a),s&&s.deregister&&s.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MA(n){const[e,t]=wA(),s=Q.useContext(qy);return x.jsx(IV,{...n,layoutGroup:s,switchLayoutGroup:Q.useContext(RA),isPresent:e,safeToRemove:t})}const NV={pan:{Feature:kV},drag:{Feature:RV,ProjectionNode:_A,MeasureLayout:MA}};function qx(n,e,t){const{props:s}=n;n.animationState&&s.whileHover&&n.animationState.setActive("whileHover",t==="Start");const a="onHover"+t,l=s[a];l&&Tt.postRender(()=>l(e,Ru(e)))}class DV extends ra{mount(){const{current:e}=this.node;e&&(this.unmount=nP(e,(t,s)=>(qx(this.node,s,"Start"),a=>qx(this.node,a,"End"))))}unmount(){}}class MV extends ra{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Su(pu(this.node.current,"focus",()=>this.onFocus()),pu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Hx(n,e,t){const{props:s}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&s.whileTap&&n.animationState.setActive("whileTap",t==="Start");const a="onTap"+(t==="End"?"":t),l=s[a];l&&Tt.postRender(()=>l(e,Ru(e)))}class PV extends ra{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:t,propagate:s}=this.node.props;this.unmount=lP(e,(a,l)=>(Hx(this.node,l,"Start"),(c,{success:h})=>Hx(this.node,c,h?"End":"Cancel")),{useGlobalTarget:t,stopPropagation:s?.tap===!1})}unmount(){}}const gy=new WeakMap,wg=new WeakMap,OV=n=>{const e=gy.get(n.target);e&&e(n)},VV=n=>{n.forEach(OV)};function LV({root:n,...e}){const t=n||document;wg.has(t)||wg.set(t,{});const s=wg.get(t),a=JSON.stringify(e);return s[a]||(s[a]=new IntersectionObserver(VV,{root:n,...e})),s[a]}function zV(n,e,t){const s=LV(e);return gy.set(n,t),s.observe(n),()=>{gy.delete(n),s.unobserve(n)}}const jV={some:0,all:1};class UV extends ra{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:a="some",once:l}=e,c={root:t?t.current:void 0,rootMargin:s,threshold:typeof a=="number"?a:jV[a]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),w=m?y:v;w&&w(p)};return zV(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(BV(e,t))&&this.startObserver()}unmount(){}}function BV({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const FV={inView:{Feature:UV},tap:{Feature:PV},focus:{Feature:MV},hover:{Feature:DV}},qV={layout:{ProjectionNode:_A,MeasureLayout:MA}},HV={...fV,...FV,...NV,...qV},_t=lV(HV,cV);var T0={};(function n(e,t,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),c=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=(function(){if(!e.OffscreenCanvas)return!1;try{var z=new OffscreenCanvas(1,1),E=z.getContext("2d");E.fillRect(0,0,1,1);var B=z.transferToImageBitmap();E.createPattern(B,"no-repeat")}catch{return!1}return!0})();function p(){}function m(z){var E=t.exports.Promise,B=E!==void 0?E:e.Promise;return typeof B=="function"?new B(z):(z(p,p),null)}var y=(function(z,E){return{transform:function(B){if(z)return B;if(E.has(B))return E.get(B);var Y=new OffscreenCanvas(B.width,B.height),ne=Y.getContext("2d");return ne.drawImage(B,0,0),E.set(B,Y),Y},clear:function(){E.clear()}}})(h,new Map),v=(function(){var z=Math.floor(16.666666666666668),E,B,Y={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(E=function(ce){var fe=Math.random();return Y[fe]=requestAnimationFrame(function de(Se){ne===Se||ne+z-1<Se?(ne=Se,delete Y[fe],ce()):Y[fe]=requestAnimationFrame(de)}),fe},B=function(ce){Y[ce]&&cancelAnimationFrame(Y[ce])}):(E=function(ce){return setTimeout(ce,z)},B=function(ce){return clearTimeout(ce)}),{frame:E,cancel:B}})(),w=(function(){var z,E,B={};function Y(ne){function ce(fe,de){ne.postMessage({options:fe||{},callback:de})}ne.init=function(de){var Se=de.transferControlToOffscreen();ne.postMessage({canvas:Se},[Se])},ne.fire=function(de,Se,ke){if(E)return ce(de,null),E;var We=Math.random().toString(36).slice(2);return E=m(function($e){function nt(ut){ut.data.callback===We&&(delete B[We],ne.removeEventListener("message",nt),E=null,y.clear(),ke(),$e())}ne.addEventListener("message",nt),ce(de,We),B[We]=nt.bind(null,{data:{callback:We}})}),E},ne.reset=function(){ne.postMessage({reset:!0});for(var de in B)B[de](),delete B[de]}}return function(){if(z)return z;if(!s&&l){var ne=["var CONFETTI, SIZE = {}, module = {};","("+n.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{z=new Worker(URL.createObjectURL(new Blob([ne])))}catch(ce){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ce),null}Y(z)}return z}})(),S={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function N(z,E){return E?E(z):z}function j(z){return z!=null}function L(z,E,B){return N(z&&j(z[E])?z[E]:S[E],B)}function F(z){return z<0?0:Math.floor(z)}function W(z,E){return Math.floor(Math.random()*(E-z))+z}function J(z){return parseInt(z,16)}function re(z){return z.map(he)}function he(z){var E=String(z).replace(/[^0-9a-f]/gi,"");return E.length<6&&(E=E[0]+E[0]+E[1]+E[1]+E[2]+E[2]),{r:J(E.substring(0,2)),g:J(E.substring(2,4)),b:J(E.substring(4,6))}}function me(z){var E=L(z,"origin",Object);return E.x=L(E,"x",Number),E.y=L(E,"y",Number),E}function R(z){z.width=document.documentElement.clientWidth,z.height=document.documentElement.clientHeight}function A(z){var E=z.getBoundingClientRect();z.width=E.width,z.height=E.height}function I(z){var E=document.createElement("canvas");return E.style.position="fixed",E.style.top="0px",E.style.left="0px",E.style.pointerEvents="none",E.style.zIndex=z,E}function M(z,E,B,Y,ne,ce,fe,de,Se){z.save(),z.translate(E,B),z.rotate(ce),z.scale(Y,ne),z.arc(0,0,1,fe,de,Se),z.restore()}function P(z){var E=z.angle*(Math.PI/180),B=z.spread*(Math.PI/180);return{x:z.x,y:z.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:z.startVelocity*.5+Math.random()*z.startVelocity,angle2D:-E+(.5*B-Math.random()*B),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:z.color,shape:z.shape,tick:0,totalTicks:z.ticks,decay:z.decay,drift:z.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:z.gravity*3,ovalScalar:.6,scalar:z.scalar,flat:z.flat}}function V(z,E){E.x+=Math.cos(E.angle2D)*E.velocity+E.drift,E.y+=Math.sin(E.angle2D)*E.velocity+E.gravity,E.velocity*=E.decay,E.flat?(E.wobble=0,E.wobbleX=E.x+10*E.scalar,E.wobbleY=E.y+10*E.scalar,E.tiltSin=0,E.tiltCos=0,E.random=1):(E.wobble+=E.wobbleSpeed,E.wobbleX=E.x+10*E.scalar*Math.cos(E.wobble),E.wobbleY=E.y+10*E.scalar*Math.sin(E.wobble),E.tiltAngle+=.1,E.tiltSin=Math.sin(E.tiltAngle),E.tiltCos=Math.cos(E.tiltAngle),E.random=Math.random()+2);var B=E.tick++/E.totalTicks,Y=E.x+E.random*E.tiltCos,ne=E.y+E.random*E.tiltSin,ce=E.wobbleX+E.random*E.tiltCos,fe=E.wobbleY+E.random*E.tiltSin;if(z.fillStyle="rgba("+E.color.r+", "+E.color.g+", "+E.color.b+", "+(1-B)+")",z.beginPath(),c&&E.shape.type==="path"&&typeof E.shape.path=="string"&&Array.isArray(E.shape.matrix))z.fill(oe(E.shape.path,E.shape.matrix,E.x,E.y,Math.abs(ce-Y)*.1,Math.abs(fe-ne)*.1,Math.PI/10*E.wobble));else if(E.shape.type==="bitmap"){var de=Math.PI/10*E.wobble,Se=Math.abs(ce-Y)*.1,ke=Math.abs(fe-ne)*.1,We=E.shape.bitmap.width*E.scalar,$e=E.shape.bitmap.height*E.scalar,nt=new DOMMatrix([Math.cos(de)*Se,Math.sin(de)*Se,-Math.sin(de)*ke,Math.cos(de)*ke,E.x,E.y]);nt.multiplySelf(new DOMMatrix(E.shape.matrix));var ut=z.createPattern(y.transform(E.shape.bitmap),"no-repeat");ut.setTransform(nt),z.globalAlpha=1-B,z.fillStyle=ut,z.fillRect(E.x-We/2,E.y-$e/2,We,$e),z.globalAlpha=1}else if(E.shape==="circle")z.ellipse?z.ellipse(E.x,E.y,Math.abs(ce-Y)*E.ovalScalar,Math.abs(fe-ne)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI):M(z,E.x,E.y,Math.abs(ce-Y)*E.ovalScalar,Math.abs(fe-ne)*E.ovalScalar,Math.PI/10*E.wobble,0,2*Math.PI);else if(E.shape==="star")for(var De=Math.PI/2*3,Nt=4*E.scalar,Dt=8*E.scalar,Ze=E.x,an=E.y,lt=5,it=Math.PI/lt;lt--;)Ze=E.x+Math.cos(De)*Dt,an=E.y+Math.sin(De)*Dt,z.lineTo(Ze,an),De+=it,Ze=E.x+Math.cos(De)*Nt,an=E.y+Math.sin(De)*Nt,z.lineTo(Ze,an),De+=it;else z.moveTo(Math.floor(E.x),Math.floor(E.y)),z.lineTo(Math.floor(E.wobbleX),Math.floor(ne)),z.lineTo(Math.floor(ce),Math.floor(fe)),z.lineTo(Math.floor(Y),Math.floor(E.wobbleY));return z.closePath(),z.fill(),E.tick<E.totalTicks}function D(z,E,B,Y,ne){var ce=E.slice(),fe=z.getContext("2d"),de,Se,ke=m(function(We){function $e(){de=Se=null,fe.clearRect(0,0,Y.width,Y.height),y.clear(),ne(),We()}function nt(){s&&!(Y.width===a.width&&Y.height===a.height)&&(Y.width=z.width=a.width,Y.height=z.height=a.height),!Y.width&&!Y.height&&(B(z),Y.width=z.width,Y.height=z.height),fe.clearRect(0,0,Y.width,Y.height),ce=ce.filter(function(ut){return V(fe,ut)}),ce.length?de=v.frame(nt):$e()}de=v.frame(nt),Se=$e});return{addFettis:function(We){return ce=ce.concat(We),ke},canvas:z,promise:ke,reset:function(){de&&v.cancel(de),Se&&Se()}}}function Re(z,E){var B=!z,Y=!!L(E||{},"resize"),ne=!1,ce=L(E,"disableForReducedMotion",Boolean),fe=l&&!!L(E||{},"useWorker"),de=fe?w():null,Se=B?R:A,ke=z&&de?!!z.__confetti_initialized:!1,We=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,$e;function nt(De,Nt,Dt){for(var Ze=L(De,"particleCount",F),an=L(De,"angle",Number),lt=L(De,"spread",Number),it=L(De,"startVelocity",Number),ii=L(De,"decay",Number),la=L(De,"gravity",Number),ar=L(De,"drift",Number),Ft=L(De,"colors",re),Hn=L(De,"ticks",Number),Ti=L(De,"shapes"),As=L(De,"scalar"),Rn=!!L(De,"flat"),Cs=me(De),$n=Ze,si=[],te=z.width*Cs.x,pe=z.height*Cs.y;$n--;)si.push(P({x:te,y:pe,angle:an,spread:lt,startVelocity:it,color:Ft[$n%Ft.length],shape:Ti[W(0,Ti.length)],ticks:Hn,decay:ii,gravity:la,drift:ar,scalar:As,flat:Rn}));return $e?$e.addFettis(si):($e=D(z,si,Se,Nt,Dt),$e.promise)}function ut(De){var Nt=ce||L(De,"disableForReducedMotion",Boolean),Dt=L(De,"zIndex",Number);if(Nt&&We)return m(function(it){it()});B&&$e?z=$e.canvas:B&&!z&&(z=I(Dt),document.body.appendChild(z)),Y&&!ke&&Se(z);var Ze={width:z.width,height:z.height};de&&!ke&&de.init(z),ke=!0,de&&(z.__confetti_initialized=!0);function an(){if(de){var it={getBoundingClientRect:function(){if(!B)return z.getBoundingClientRect()}};Se(it),de.postMessage({resize:{width:it.width,height:it.height}});return}Ze.width=Ze.height=null}function lt(){$e=null,Y&&(ne=!1,e.removeEventListener("resize",an)),B&&z&&(document.body.contains(z)&&document.body.removeChild(z),z=null,ke=!1)}return Y&&!ne&&(ne=!0,e.addEventListener("resize",an,!1)),de?de.fire(De,Ze,lt):nt(De,Ze,lt)}return ut.reset=function(){de&&de.reset(),$e&&$e.reset()},ut}var Ve;function X(){return Ve||(Ve=Re(null,{useWorker:!0,resize:!0})),Ve}function oe(z,E,B,Y,ne,ce,fe){var de=new Path2D(z),Se=new Path2D;Se.addPath(de,new DOMMatrix(E));var ke=new Path2D;return ke.addPath(Se,new DOMMatrix([Math.cos(fe)*ne,Math.sin(fe)*ne,-Math.sin(fe)*ce,Math.cos(fe)*ce,B,Y])),ke}function ye(z){if(!c)throw new Error("path confetti are not supported in this browser");var E,B;typeof z=="string"?E=z:(E=z.path,B=z.matrix);var Y=new Path2D(E),ne=document.createElement("canvas"),ce=ne.getContext("2d");if(!B){for(var fe=1e3,de=fe,Se=fe,ke=0,We=0,$e,nt,ut=0;ut<fe;ut+=2)for(var De=0;De<fe;De+=2)ce.isPointInPath(Y,ut,De,"nonzero")&&(de=Math.min(de,ut),Se=Math.min(Se,De),ke=Math.max(ke,ut),We=Math.max(We,De));$e=ke-de,nt=We-Se;var Nt=10,Dt=Math.min(Nt/$e,Nt/nt);B=[Dt,0,0,Dt,-Math.round($e/2+de)*Dt,-Math.round(nt/2+Se)*Dt]}return{type:"path",path:E,matrix:B}}function Ee(z){var E,B=1,Y="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof z=="string"?E=z:(E=z.text,B="scalar"in z?z.scalar:B,ne="fontFamily"in z?z.fontFamily:ne,Y="color"in z?z.color:Y);var ce=10*B,fe=""+ce+"px "+ne,de=new OffscreenCanvas(ce,ce),Se=de.getContext("2d");Se.font=fe;var ke=Se.measureText(E),We=Math.ceil(ke.actualBoundingBoxRight+ke.actualBoundingBoxLeft),$e=Math.ceil(ke.actualBoundingBoxAscent+ke.actualBoundingBoxDescent),nt=2,ut=ke.actualBoundingBoxLeft+nt,De=ke.actualBoundingBoxAscent+nt;We+=nt+nt,$e+=nt+nt,de=new OffscreenCanvas(We,$e),Se=de.getContext("2d"),Se.font=fe,Se.fillStyle=Y,Se.fillText(E,ut,De);var Nt=1/B;return{type:"bitmap",bitmap:de.transferToImageBitmap(),matrix:[Nt,0,0,Nt,-We*Nt/2,-$e*Nt/2]}}t.exports=function(){return X().apply(this,arguments)},t.exports.reset=function(){X().reset()},t.exports.create=Re,t.exports.shapeFromPath=ye,t.exports.shapeFromText=Ee})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),T0,!1);const $V=T0.exports;T0.exports.create;const PA=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();const GV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const KV=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());const $x=n=>{const e=KV(n);return e.charAt(0).toUpperCase()+e.slice(1)};var YV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const QV=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const XV=Q.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...h},p)=>Q.createElement("svg",{ref:p,...YV,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:PA("lucide",a),...!l&&!QV(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>Q.createElement(m,y)),...Array.isArray(l)?l:[l]]));const Lt=(n,e)=>{const t=Q.forwardRef(({className:s,...a},l)=>Q.createElement(XV,{ref:l,iconNode:e,className:PA(`lucide-${GV($x(n))}`,`lucide-${n}`,s),...a}));return t.displayName=$x(n),t};const WV=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Tg=Lt("arrow-left",WV);const JV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ZV=Lt("arrow-right",JV);const e4=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Gx=Lt("camera",e4);const t4=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ua=Lt("check",t4);const n4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],i4=Lt("circle-x",n4);const s4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],r4=Lt("copy",s4);const a4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Kx=Lt("history",a4);const o4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],l4=Lt("house",o4);const c4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],OA=Lt("link",c4);const u4=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],VA=Lt("loader",u4);const h4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],d4=Lt("log-in",h4);const f4=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],m4=Lt("moon",f4);const p4=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],g4=Lt("pencil",p4);const y4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pd=Lt("plus",y4);const v4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Yx=Lt("search",v4);const b4=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],_4=Lt("share-2",b4);const w4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],T4=Lt("smile",w4);const x4=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],E4=Lt("sun",x4);const S4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gd=Lt("trash-2",S4);const A4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Qx=Lt("user",A4);const C4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xd=Lt("users",C4);const R4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hr=Lt("x",R4);async function Xx(n){return new Promise((e,t)=>{const s=new FileReader;s.readAsDataURL(n),s.onload=a=>{const l=new Image;l.src=a.target?.result,l.onload=()=>{const c=document.createElement("canvas"),h=800,p=800;let m=l.width,y=l.height;m>y?m>h&&(y*=h/m,m=h):y>p&&(m*=p/y,y=p),c.width=m,c.height=y,c.getContext("2d")?.drawImage(l,0,0,m,y),e(c.toDataURL("image/jpeg",.7))},l.onerror=c=>t(c)},s.onerror=a=>t(a)})}const k4=()=>{};var Wx={};const LA=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},I4=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],h=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},zA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,h=c?n[a+1]:0,p=a+2<n.length,m=p?n[a+2]:0,y=l>>2,v=(l&3)<<4|h>>4;let w=(h&15)<<2|m>>6,S=m&63;p||(S=64,c||(w=64)),s.push(t[y],t[v],t[w],t[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(LA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):I4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],h=a<n.length?t[n.charAt(a)]:0;++a;const m=a<n.length?t[n.charAt(a)]:64;++a;const v=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new N4;const w=l<<2|h>>4;if(s.push(w),m!==64){const S=h<<4&240|m>>2;if(s.push(S),v!==64){const N=m<<6&192|v;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class N4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D4=function(n){const e=LA(n);return zA.encodeByteArray(e,!0)},jA=function(n){return D4(n).replace(/\./g,"")},UA=function(n){try{return zA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function M4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const P4=()=>M4().__FIREBASE_DEFAULTS__,O4=()=>{if(typeof process>"u"||typeof Wx>"u")return;const n=Wx.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},V4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&UA(n[1]);return e&&JSON.parse(e)},Cf=()=>{try{return k4()||P4()||O4()||V4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},L4=n=>Cf()?.emulatorHosts?.[n],BA=()=>Cf()?.config,FA=n=>Cf()?.[`_${n}`];class z4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}function Nl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qA(n){return(await fetch(n,{credentials:"include"})).ok}const su={};function j4(){const n={prod:[],emulator:[]};for(const e of Object.keys(su))su[e]?n.emulator.push(e):n.prod.push(e);return n}function U4(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Jx=!1;function B4(n,e){if(typeof window>"u"||typeof document>"u"||!Nl(window.location.host)||su[n]===e||su[n]||Jx)return;su[n]=e;function t(w){return`__firebase__banner__${w}`}const s="__firebase__banner",l=j4().prod.length>0;function c(){const w=document.getElementById(s);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,S){w.setAttribute("width","24"),w.setAttribute("id",S),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{Jx=!0,c()},w}function y(w,S){w.setAttribute("id",S),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=U4(s),S=t("text"),N=document.getElementById(S)||document.createElement("span"),j=t("learnmore"),L=document.getElementById(j)||document.createElement("a"),F=t("preprendIcon"),W=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const J=w.element;h(J),y(L,j);const re=m();p(W,F),J.append(W,N,L,re),document.body.appendChild(J)}l?(N.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function An(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function F4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(An())}function q4(){const n=Cf()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $4(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function G4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K4(){const n=An();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Y4(){return!q4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function HA(){try{return typeof indexedDB=="object"}catch{return!1}}function $A(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function Q4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const X4="FirebaseError";class Es extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=X4,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,io.prototype.create)}}class io{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?W4(l,s):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Es(a,h,s)}}function W4(n,e){return n.replace(J4,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const J4=/\{\$([^}]+)}/g;function Z4(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Zs(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],c=e[a];if(Zx(l)&&Zx(c)){if(!Zs(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function Zx(n){return n!==null&&typeof n=="object"}function ku(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eL(n,e){const t=new tL(n,e);return t.subscribe.bind(t)}class tL{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");nL(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=xg),a.error===void 0&&(a.error=xg),a.complete===void 0&&(a.complete=xg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nL(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xg(){}function tn(n){return n&&n._delegate?n._delegate:n}class Bi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ja="[DEFAULT]";class iL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new z4;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rL(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);s===h&&c.resolve(a)}return a}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(s)??new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sL(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sL(n){return n===ja?void 0:n}function rL(n){return n.instantiationMode==="EAGER"}class aL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new iL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const oL={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},lL=Ye.INFO,cL={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},uL=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=cL[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class x0{constructor(e){this.name=e,this._logLevel=lL,this._logHandler=uL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const hL=(n,e)=>e.some(t=>n instanceof t);let eE,tE;function dL(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function fL(){return tE||(tE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GA=new WeakMap,yy=new WeakMap,KA=new WeakMap,Eg=new WeakMap,E0=new WeakMap;function mL(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Xs(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&GA.set(t,n)}).catch(()=>{}),E0.set(e,n),e}function pL(n){if(yy.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});yy.set(n,e)}let vy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return yy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Xs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gL(n){vy=n(vy)}function yL(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Sg(this),e,...t);return KA.set(s,e.sort?e.sort():[e]),Xs(s)}:fL().includes(n)?function(...e){return n.apply(Sg(this),e),Xs(GA.get(this))}:function(...e){return Xs(n.apply(Sg(this),e))}}function vL(n){return typeof n=="function"?yL(n):(n instanceof IDBTransaction&&pL(n),hL(n,dL())?new Proxy(n,vy):n)}function Xs(n){if(n instanceof IDBRequest)return mL(n);if(Eg.has(n))return Eg.get(n);const e=vL(n);return e!==n&&(Eg.set(n,e),E0.set(e,n)),e}const Sg=n=>E0.get(n);function Rf(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),h=Xs(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Xs(c.result),p.oldVersion,p.newVersion,Xs(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}function Ag(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",s=>e(s.oldVersion,s)),Xs(t).then(()=>{})}const bL=["get","getKey","getAll","getAllKeys","count"],_L=["put","add","delete","clear"],Cg=new Map;function nE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Cg.get(e))return Cg.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=_L.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||bL.includes(t)))return;const l=async function(c,...h){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return s&&(m=m.index(h.shift())),(await Promise.all([m[t](...h),a&&p.done]))[0]};return Cg.set(e,l),l}gL(n=>({...n,get:(e,t,s)=>nE(e,t)||n.get(e,t,s),has:(e,t)=>!!nE(e,t)||n.has(e,t)}));class wL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(TL(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function TL(n){return n.getComponent()?.type==="VERSION"}const by="@firebase/app",iE="0.14.8";const er=new x0("@firebase/app"),xL="@firebase/app-compat",EL="@firebase/analytics-compat",SL="@firebase/analytics",AL="@firebase/app-check-compat",CL="@firebase/app-check",RL="@firebase/auth",kL="@firebase/auth-compat",IL="@firebase/database",NL="@firebase/data-connect",DL="@firebase/database-compat",ML="@firebase/functions",PL="@firebase/functions-compat",OL="@firebase/installations",VL="@firebase/installations-compat",LL="@firebase/messaging",zL="@firebase/messaging-compat",jL="@firebase/performance",UL="@firebase/performance-compat",BL="@firebase/remote-config",FL="@firebase/remote-config-compat",qL="@firebase/storage",HL="@firebase/storage-compat",$L="@firebase/firestore",GL="@firebase/ai",KL="@firebase/firestore-compat",YL="firebase",QL="12.9.0";const _y="[DEFAULT]",XL={[by]:"fire-core",[xL]:"fire-core-compat",[SL]:"fire-analytics",[EL]:"fire-analytics-compat",[CL]:"fire-app-check",[AL]:"fire-app-check-compat",[RL]:"fire-auth",[kL]:"fire-auth-compat",[IL]:"fire-rtdb",[NL]:"fire-data-connect",[DL]:"fire-rtdb-compat",[ML]:"fire-fn",[PL]:"fire-fn-compat",[OL]:"fire-iid",[VL]:"fire-iid-compat",[LL]:"fire-fcm",[zL]:"fire-fcm-compat",[jL]:"fire-perf",[UL]:"fire-perf-compat",[BL]:"fire-rc",[FL]:"fire-rc-compat",[qL]:"fire-gcs",[HL]:"fire-gcs-compat",[$L]:"fire-fst",[KL]:"fire-fst-compat",[GL]:"fire-vertex","fire-js":"fire-js",[YL]:"fire-js-all"};const Wd=new Map,WL=new Map,wy=new Map;function sE(n,e){try{n.container.addComponent(e)}catch(t){er.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ws(n){const e=n.name;if(wy.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;wy.set(e,n);for(const t of Wd.values())sE(t,n);for(const t of WL.values())sE(t,n);return!0}function Dl(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Vi(n){return n==null?!1:n.settings!==void 0}const JL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new io("app","Firebase",JL);class ZL{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Bi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}const Ml=QL;function YA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:_y,automaticDataCollectionEnabled:!0,...e},a=s.name;if(typeof a!="string"||!a)throw Gr.create("bad-app-name",{appName:String(a)});if(t||(t=BA()),!t)throw Gr.create("no-options");const l=Wd.get(a);if(l){if(Zs(t,l.options)&&Zs(s,l.config))return l;throw Gr.create("duplicate-app",{appName:a})}const c=new aL(a);for(const p of wy.values())c.addComponent(p);const h=new ZL(t,s,c);return Wd.set(a,h),h}function QA(n=_y){const e=Wd.get(n);if(!e&&n===_y&&BA())return YA();if(!e)throw Gr.create("no-app",{appName:n});return e}function _i(n,e,t){let s=XL[n]??n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(c.join(" "));return}ws(new Bi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const e5="firebase-heartbeat-database",t5=1,gu="firebase-heartbeat-store";let Rg=null;function XA(){return Rg||(Rg=Rf(e5,t5,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Gr.create("idb-open",{originalErrorMessage:n.message})})),Rg}async function n5(n){try{const t=(await XA()).transaction(gu),s=await t.objectStore(gu).get(WA(n));return await t.done,s}catch(e){if(e instanceof Es)er.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e?.message});er.warn(t.message)}}}async function rE(n,e){try{const s=(await XA()).transaction(gu,"readwrite");await s.objectStore(gu).put(e,WA(n)),await s.done}catch(t){if(t instanceof Es)er.warn(t.message);else{const s=Gr.create("idb-set",{originalErrorMessage:t?.message});er.warn(s.message)}}}function WA(n){return`${n.name}!${n.options.appId}`}const i5=1024,s5=30;class r5{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new o5(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>s5){const a=l5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){er.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=aE(),{heartbeatsToSend:t,unsentEntries:s}=a5(this._heartbeatsCache.heartbeats),a=jA(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return er.warn(e),""}}}function aE(){return new Date().toISOString().substring(0,10)}function a5(n,e=i5){const t=[];let s=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),oE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),oE(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class o5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return HA()?$A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await n5(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return rE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function oE(n){return jA(JSON.stringify({version:2,heartbeats:n})).length}function l5(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}function c5(n){ws(new Bi("platform-logger",e=>new wL(e),"PRIVATE")),ws(new Bi("heartbeat",e=>new r5(e),"PRIVATE")),_i(by,iE,n),_i(by,iE,"esm2020"),_i("fire-js","")}c5("");function JA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u5=JA,ZA=new io("auth","Firebase",JA());const Jd=new x0("@firebase/auth");function h5(n,...e){Jd.logLevel<=Ye.WARN&&Jd.warn(`Auth (${Ml}): ${n}`,...e)}function Nd(n,...e){Jd.logLevel<=Ye.ERROR&&Jd.error(`Auth (${Ml}): ${n}`,...e)}function Ts(n,...e){throw A0(n,...e)}function ji(n,...e){return A0(n,...e)}function S0(n,e,t){const s={...u5(),[e]:t};return new io("auth","Firebase",s).create(e,{appName:n.name})}function Ka(n){return S0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function d5(n,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ts(n,"argument-error"),S0(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function A0(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return ZA.create(n,...e)}function Me(n,e,...t){if(!n)throw A0(e,...t)}function Ys(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Nd(e),new Error(e)}function tr(n,e){n||Ys(e)}function Ty(){return typeof self<"u"&&self.location?.href||""}function f5(){return lE()==="http:"||lE()==="https:"}function lE(){return typeof self<"u"&&self.location?.protocol||null}function m5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(f5()||$4()||"connection"in navigator)?navigator.onLine:!0}function p5(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Iu{constructor(e,t){this.shortDelay=e,this.longDelay=t,tr(t>e,"Short delay should be less than long delay!"),this.isMobile=F4()||G4()}get(){return m5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function C0(n,e){tr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class eC{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ys("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ys("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ys("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const g5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const y5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v5=new Iu(3e4,6e4);function R0(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Pl(n,e,t,s,a={}){return tC(n,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const h=ku({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const m={method:e,headers:p,...l};return H4()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&Nl(n.emulatorConfig.host)&&(m.credentials="include"),eC.fetch()(await nC(n,n.config.apiHost,t,h),m)})}async function tC(n,e,t){n._canInitEmulator=!1;const s={...g5,...e};try{const a=new _5(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw yd(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,m]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw yd(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw yd(n,"user-disabled",c);const y=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw S0(n,y,m);Ts(n,y)}}catch(a){if(a instanceof Es)throw a;Ts(n,"network-request-failed",{message:String(a)})}}async function b5(n,e,t,s,a={}){const l=await Pl(n,e,t,s,a);return"mfaPendingCredential"in l&&Ts(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function nC(n,e,t,s){const a=`${e}${t}?${s}`,l=n,c=l.config.emulator?C0(n.config,a):`${n.config.apiScheme}://${a}`;return y5.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class _5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ji(this.auth,"network-request-failed")),v5.get())})}}function yd(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=ji(n,e,s);return a.customData._tokenResponse=t,a}async function w5(n,e){return Pl(n,"POST","/v1/accounts:delete",e)}async function Zd(n,e){return Pl(n,"POST","/v1/accounts:lookup",e)}function ru(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T5(n,e=!1){const t=tn(n),s=await t.getIdToken(e),a=k0(s);Me(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:s,authTime:ru(kg(a.auth_time)),issuedAtTime:ru(kg(a.iat)),expirationTime:ru(kg(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function kg(n){return Number(n)*1e3}function k0(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const a=UA(t);return a?JSON.parse(a):(Nd("Failed to decode base64 JWT payload"),null)}catch(a){return Nd("Caught error parsing JWT payload as JSON",a?.toString()),null}}function cE(n){const e=k0(n);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function yu(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Es&&x5(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function x5({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class E5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xy{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ef(n){const e=n.auth,t=await n.getIdToken(),s=await yu(n,Zd(e,{idToken:t}));Me(s?.users.length,e,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const l=a.providerUserInfo?.length?iC(a.providerUserInfo):[],c=A5(n.providerData,l),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!c?.length,m=h?p:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new xy(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function S5(n){const e=tn(n);await ef(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function A5(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function iC(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function C5(n,e){const t=await tC(n,{},async()=>{const s=ku({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await nC(n,a,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:h,body:s};return n.emulatorConfig&&Nl(n.emulatorConfig.host)&&(p.credentials="include"),eC.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function R5(n,e){return Pl(n,"POST","/v2/accounts:revokeToken",R0(n,e))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const t=cE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await C5(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new ul;return s&&(Me(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(Me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return Ys("not implemented")}}function zr(n,e){Me(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zi{constructor({uid:e,auth:t,stsTokenManager:s,...a}){this.providerId="firebase",this.proactiveRefresh=new E5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new xy(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await yu(this,this.stsTokenManager.getToken(this.auth,e));return Me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return T5(this,e)}reload(){return S5(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await ef(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vi(this.auth.app))return Promise.reject(Ka(this.auth));const e=await this.getIdToken();return await yu(this,w5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,p=t._redirectEventId??void 0,m=t.createdAt??void 0,y=t.lastLoginAt??void 0,{uid:v,emailVerified:w,isAnonymous:S,providerData:N,stsTokenManager:j}=t;Me(v&&j,e,"internal-error");const L=ul.fromJSON(this.name,j);Me(typeof v=="string",e,"internal-error"),zr(s,e.name),zr(a,e.name),Me(typeof w=="boolean",e,"internal-error"),Me(typeof S=="boolean",e,"internal-error"),zr(l,e.name),zr(c,e.name),zr(h,e.name),zr(p,e.name),zr(m,e.name),zr(y,e.name);const F=new zi({uid:v,auth:e,email:a,emailVerified:w,displayName:s,isAnonymous:S,photoURL:c,phoneNumber:l,tenantId:h,stsTokenManager:L,createdAt:m,lastLoginAt:y});return N&&Array.isArray(N)&&(F.providerData=N.map(W=>({...W}))),p&&(F._redirectEventId=p),F}static async _fromIdTokenResponse(e,t,s=!1){const a=new ul;a.updateFromServerResponse(t);const l=new zi({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await ef(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?iC(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,h=new ul;h.updateFromIdToken(s);const p=new zi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new xy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(p,m),p}}const uE=new Map;function Qs(n){tr(n instanceof Function,"Expected a class definition");let e=uE.get(n);return e?(tr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,uE.set(n,e),e)}class sC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}sC.type="NONE";const hE=sC;function Dd(n,e,t){return`firebase:${n}:${e}:${t}`}class hl{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Dd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Dd("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Zd(this.auth,{idToken:e}).catch(()=>{});return t?zi._fromGetAccountInfoResponse(this.auth,t,e):null}return zi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new hl(Qs(hE),e,s);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Qs(hE);const c=Dd(s,e.config.apiKey,e.name);let h=null;for(const m of t)try{const y=await m._get(c);if(y){let v;if(typeof y=="string"){const w=await Zd(e,{idToken:y}).catch(()=>{});if(!w)break;v=await zi._fromGetAccountInfoResponse(e,w,y)}else v=zi._fromJSON(e,y);m!==l&&(h=v),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new hl(l,e,s):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new hl(l,e,s))}}function dE(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uC(e))return"Blackberry";if(hC(e))return"Webos";if(aC(e))return"Safari";if((e.includes("chrome/")||oC(e))&&!e.includes("edge/"))return"Chrome";if(cC(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if(s?.length===2)return s[1]}return"Other"}function rC(n=An()){return/firefox\//i.test(n)}function aC(n=An()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oC(n=An()){return/crios\//i.test(n)}function lC(n=An()){return/iemobile/i.test(n)}function cC(n=An()){return/android/i.test(n)}function uC(n=An()){return/blackberry/i.test(n)}function hC(n=An()){return/webos/i.test(n)}function I0(n=An()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function k5(n=An()){return I0(n)&&!!window.navigator?.standalone}function I5(){return K4()&&document.documentMode===10}function dC(n=An()){return I0(n)||cC(n)||hC(n)||uC(n)||/windows phone/i.test(n)||lC(n)}function fC(n,e=[]){let t;switch(n){case"Browser":t=dE(An());break;case"Worker":t=`${dE(An())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ml}/${s}`}class N5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function D5(n,e={}){return Pl(n,"GET","/v2/passwordPolicy",R0(n,e))}const M5=6;class P5{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??M5,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class O5{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fE(this),this.idTokenSubscription=new fE(this),this.beforeStateQueue=new N5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qs(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await hl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Zd(this,{idToken:e}),s=await zi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=s?._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&h?.user&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ef(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vi(this.app))return Promise.reject(Ka(this));const t=e?tn(e):null;return t&&Me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vi(this.app)?Promise.reject(Ka(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vi(this.app)?Promise.reject(Ka(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await D5(this),t=new P5(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new io("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await R5(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Qs(e)||this._popupRedirectResolver;Me(t,this,"argument-error"),this.redirectPersistenceManager=await hl.create(this,[Qs(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(Vi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&h5(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ol(n){return tn(n)}class fE{constructor(e){this.auth=e,this.observer=null,this.addObserver=eL(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let N0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function V5(n){N0=n}function L5(n){return N0.loadJS(n)}function z5(){return N0.gapiScript}function j5(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function U5(n,e){const t=Dl(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Zs(l,e??{}))return a;Ts(a,"already-initialized")}return t.initialize({options:e})}function B5(n,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Qs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e?.popupRedirectResolver)}function F5(n,e,t){const s=Ol(n);Me(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=mC(e),{host:c,port:h}=q5(e),p=h===null?"":`:${h}`,m={url:`${l}//${c}${p}/`},y=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){Me(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Me(Zs(m,s.config.emulator)&&Zs(y,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=m,s.emulatorConfig=y,s.settings.appVerificationDisabledForTesting=!0,Nl(c)?(qA(`${l}//${c}${p}`),B4("Auth",!0)):H5()}function mC(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function q5(n){const e=mC(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:mE(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:mE(c)}}}function mE(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function H5(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class pC{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ys("not implemented")}_getIdTokenResponse(e){return Ys("not implemented")}_linkToIdToken(e,t){return Ys("not implemented")}_getReauthenticationResolver(e){return Ys("not implemented")}}async function dl(n,e){return b5(n,"POST","/v1/accounts:signInWithIdp",R0(n,e))}const $5="http://localhost";class Wa extends pC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ts("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a,...l}=t;if(!s||!a)return null;const c=new Wa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return dl(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,dl(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,dl(e,t)}buildRequest(){const e={requestUri:$5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ku(t)}return e}}class D0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Nu extends D0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ur extends Nu{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ur.credential(e.oauthAccessToken)}catch{return null}}}Ur.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ur.PROVIDER_ID="facebook.com";class Li extends Nu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Wa._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Li.credential(t,s)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";class Br extends Nu{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Br.credential(e.oauthAccessToken)}catch{return null}}}Br.GITHUB_SIGN_IN_METHOD="github.com";Br.PROVIDER_ID="github.com";class Fr extends Nu{constructor(){super("twitter.com")}static credential(e,t){return Wa._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Fr.credential(t,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";class gl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await zi._fromIdTokenResponse(e,s,a),c=pE(s);return new gl({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=pE(s);return new gl({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function pE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class tf extends Es{constructor(e,t,s,a){super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,tf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new tf(e,t,s,a)}}function gC(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?tf._fromErrorAndOperation(n,l,e,s):l})}async function G5(n,e,t=!1){const s=await yu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return gl._forOperation(n,"link",s)}async function K5(n,e,t=!1){const{auth:s}=n;if(Vi(s.app))return Promise.reject(Ka(s));const a="reauthenticate";try{const l=await yu(n,gC(s,a,e,n),t);Me(l.idToken,s,"internal-error");const c=k0(l.idToken);Me(c,s,"internal-error");const{sub:h}=c;return Me(n.uid===h,s,"user-mismatch"),gl._forOperation(n,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ts(s,"user-mismatch"),l}}async function yC(n,e,t=!1){if(Vi(n.app))return Promise.reject(Ka(n));const s="signIn",a=await gC(n,s,e),l=await gl._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function Y5(n,e){return yC(Ol(n),e)}function Q5(n,e,t,s){return tn(n).onIdTokenChanged(e,t,s)}function X5(n,e,t){return tn(n).beforeAuthStateChanged(e,t)}function W5(n){return tn(n).signOut()}const nf="__sak";class vC{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(nf,"1"),this.storage.removeItem(nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const J5=1e3,Z5=10;class bC extends vC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);I5()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,Z5):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},J5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bC.type="LOCAL";const ez=bC;class _C extends vC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}_C.type="SESSION";const wC=_C;function tz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new kf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const h=Array.from(c).map(async m=>m(t.origin,l)),p=await tz(h);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];function M0(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}class nz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const m=M0("",20);a.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function gs(){return window}function iz(n){gs().location.href=n}function TC(){return typeof gs().WorkerGlobalScope<"u"&&typeof gs().importScripts=="function"}async function sz(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rz(){return navigator?.serviceWorker?.controller||null}function az(){return TC()?self:null}const xC="firebaseLocalStorageDb",oz=1,sf="firebaseLocalStorage",EC="fbase_key";class Du{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function If(n,e){return n.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function lz(){const n=indexedDB.deleteDatabase(xC);return new Du(n).toPromise()}function Ey(){const n=indexedDB.open(xC,oz);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(sf,{keyPath:EC})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(sf)?e(s):(s.close(),await lz(),e(await Ey()))})})}async function gE(n,e,t){const s=If(n,!0).put({[EC]:e,value:t});return new Du(s).toPromise()}async function cz(n,e){const t=If(n,!1).get(e),s=await new Du(t).toPromise();return s===void 0?null:s.value}function yE(n,e){const t=If(n,!0).delete(e);return new Du(t).toPromise()}const uz=800,hz=3;class SC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ey(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>hz)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(az()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sz(),!this.activeServiceWorker)return;this.sender=new nz(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||rz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ey();return await gE(e,nf,"1"),await yE(e,nf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>gE(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>cz(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yE(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=If(a,!1).getAll();return new Du(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}SC.type="LOCAL";const dz=SC;new Iu(3e4,6e4);function AC(n,e){return e?Qs(e):(Me(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class P0 extends pC{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return dl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return dl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fz(n){return yC(n.auth,new P0(n),n.bypassAuthState)}function mz(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),K5(t,new P0(n),n.bypassAuthState)}async function pz(n){const{auth:e,user:t}=n;return Me(t,e,"internal-error"),G5(t,new P0(n),n.bypassAuthState)}class CC{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fz;case"linkViaPopup":case"linkViaRedirect":return pz;case"reauthViaPopup":case"reauthViaRedirect":return mz;default:Ts(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const gz=new Iu(2e3,1e4);async function yz(n,e,t){if(Vi(n.app))return Promise.reject(ji(n,"operation-not-supported-in-this-environment"));const s=Ol(n);d5(n,e,D0);const a=AC(s,t);return new qa(s,"signInViaPopup",e,a).executeNotNull()}class qa extends CC{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,qa.currentPopupAction&&qa.currentPopupAction.cancel(),qa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=M0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,gz.get())};e()}}qa.currentPopupAction=null;const vz="pendingRedirect",Md=new Map;class bz extends CC{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Md.get(this.auth._key());if(!e){try{const s=await _z(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Md.set(this.auth._key(),e)}return this.bypassAuthState||Md.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _z(n,e){const t=xz(e),s=Tz(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function wz(n,e){Md.set(n._key(),e)}function Tz(n){return Qs(n._redirectPersistence)}function xz(n){return Dd(vz,n.config.apiKey,n.name)}async function Ez(n,e){return await Ol(n)._initializationPromise,RC(n,e,!1)}async function RC(n,e,t=!1){if(Vi(n.app))return Promise.reject(Ka(n));const s=Ol(n),a=AC(s,e),c=await new bz(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}const Sz=600*1e3;class Az{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cz(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!kC(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ji(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sz&&this.cachedEventUids.clear(),this.cachedEventUids.has(vE(e))}saveEventToCache(e){this.cachedEventUids.add(vE(e)),this.lastProcessedEventTime=Date.now()}}function vE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Cz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kC(n);default:return!1}}async function Rz(n,e={}){return Pl(n,"GET","/v1/projects",e)}const kz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Iz=/^https?/;async function Nz(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Rz(n);for(const t of e)try{if(Dz(t))return}catch{}Ts(n,"unauthorized-domain")}function Dz(n){const e=Ty(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!Iz.test(t))return!1;if(kz.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const Mz=new Iu(3e4,6e4);function bE(){const n=gs().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Pz(n){return new Promise((e,t)=>{function s(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),t(ji(n,"network-request-failed"))},timeout:Mz.get()})}if(gs().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(gs().gapi?.load)s();else{const a=j5("iframefcb");return gs()[a]=()=>{gapi.load?s():t(ji(n,"network-request-failed"))},L5(`${z5()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Pd=null,e})}let Pd=null;function Oz(n){return Pd=Pd||Pz(n),Pd}const Vz=new Iu(5e3,15e3),Lz="__/auth/iframe",zz="emulator/auth/iframe",jz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bz(n){const e=n.config;Me(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?C0(e,zz):`https://${n.config.authDomain}/${Lz}`,s={apiKey:e.apiKey,appName:n.name,v:Ml},a=Uz.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${ku(s).slice(1)}`}async function Fz(n){const e=await Oz(n),t=gs().gapi;return Me(t,n,"internal-error"),e.open({where:document.body,url:Bz(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jz,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=ji(n,"network-request-failed"),h=gs().setTimeout(()=>{l(c)},Vz.get());function p(){gs().clearTimeout(h),a(s)}s.ping(p).then(p,()=>{l(c)})}))}const qz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Hz=500,$z=600,Gz="_blank",Kz="http://localhost";class _E{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yz(n,e,t,s=Hz,a=$z){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let h="";const p={...qz,width:s.toString(),height:a.toString(),top:l,left:c},m=An().toLowerCase();t&&(h=oC(m)?Gz:t),rC(m)&&(e=e||Kz,p.scrollbars="yes");const y=Object.entries(p).reduce((w,[S,N])=>`${w}${S}=${N},`,"");if(k5(m)&&h!=="_self")return Qz(e||"",h),new _E(null);const v=window.open(e||"",h,y);Me(v,n,"popup-blocked");try{v.focus()}catch{}return new _E(v)}function Qz(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}const Xz="__/auth/handler",Wz="emulator/auth/handler",Jz=encodeURIComponent("fac");async function wE(n,e,t,s,a,l){Me(n.config.authDomain,n,"auth-domain-config-required"),Me(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ml,eventId:a};if(e instanceof D0){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",Z4(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,v]of Object.entries({}))c[y]=v}if(e instanceof Nu){const y=e.getScopes().filter(v=>v!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const p=await n._getAppCheckToken(),m=p?`#${Jz}=${encodeURIComponent(p)}`:"";return`${Zz(n)}?${ku(h).slice(1)}${m}`}function Zz({config:n}){return n.emulator?C0(n,Wz):`https://${n.authDomain}/${Xz}`}const Ig="webStorageSupport";class ej{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wC,this._completeRedirectFn=RC,this._overrideRedirectResult=wz}async _openPopup(e,t,s,a){tr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await wE(e,t,s,Ty(),a);return Yz(e,l,M0())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await wE(e,t,s,Ty(),a);return iz(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(tr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await Fz(e),s=new Az(e);return t.register("authEvent",a=>(Me(a?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ig,{type:Ig},a=>{const l=a?.[0]?.[Ig];l!==void 0&&t(!!l),Ts(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Nz(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return dC()||aC()||I0()}}const tj=ej;var TE="@firebase/auth",xE="1.12.0";class nj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ij(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sj(n){ws(new Bi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=s.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fC(n)},m=new O5(s,a,l,p);return B5(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ws(new Bi("auth-internal",e=>{const t=Ol(e.getProvider("auth").getImmediate());return(s=>new nj(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_i(TE,xE,ij(n)),_i(TE,xE,"esm2020")}const rj=300,aj=FA("authIdTokenMaxAge")||rj;let EE=null;const oj=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>aj)return;const a=t?.token;EE!==a&&(EE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function lj(n=QA()){const e=Dl(n,"auth");if(e.isInitialized())return e.getImmediate();const t=U5(n,{popupRedirectResolver:tj,persistence:[dz,ez,wC]}),s=FA("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=oj(l.toString());X5(t,c,()=>c(t.currentUser)),Q5(t,h=>c(h))}}const a=L4("auth");return a&&F5(t,`http://${a}`),t}function cj(){return document.getElementsByTagName("head")?.[0]??document}V5({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=ji("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",cj().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sj("Browser");var SE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kr,IC;(function(){var n;function e(R,A){function I(){}I.prototype=A.prototype,R.F=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.D=function(M,P,V){for(var D=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)D[Re-2]=arguments[Re];return A.prototype[P].apply(M,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(R,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var P=0;P<16;++P)M[P]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(P=0;P<16;++P)M[P]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],P=R.g[2];let V=R.g[3],D;D=A+(V^I&(P^V))+M[0]+3614090360&4294967295,A=I+(D<<7&4294967295|D>>>25),D=V+(P^A&(I^P))+M[1]+3905402710&4294967295,V=A+(D<<12&4294967295|D>>>20),D=P+(I^V&(A^I))+M[2]+606105819&4294967295,P=V+(D<<17&4294967295|D>>>15),D=I+(A^P&(V^A))+M[3]+3250441966&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(V^I&(P^V))+M[4]+4118548399&4294967295,A=I+(D<<7&4294967295|D>>>25),D=V+(P^A&(I^P))+M[5]+1200080426&4294967295,V=A+(D<<12&4294967295|D>>>20),D=P+(I^V&(A^I))+M[6]+2821735955&4294967295,P=V+(D<<17&4294967295|D>>>15),D=I+(A^P&(V^A))+M[7]+4249261313&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(V^I&(P^V))+M[8]+1770035416&4294967295,A=I+(D<<7&4294967295|D>>>25),D=V+(P^A&(I^P))+M[9]+2336552879&4294967295,V=A+(D<<12&4294967295|D>>>20),D=P+(I^V&(A^I))+M[10]+4294925233&4294967295,P=V+(D<<17&4294967295|D>>>15),D=I+(A^P&(V^A))+M[11]+2304563134&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(V^I&(P^V))+M[12]+1804603682&4294967295,A=I+(D<<7&4294967295|D>>>25),D=V+(P^A&(I^P))+M[13]+4254626195&4294967295,V=A+(D<<12&4294967295|D>>>20),D=P+(I^V&(A^I))+M[14]+2792965006&4294967295,P=V+(D<<17&4294967295|D>>>15),D=I+(A^P&(V^A))+M[15]+1236535329&4294967295,I=P+(D<<22&4294967295|D>>>10),D=A+(P^V&(I^P))+M[1]+4129170786&4294967295,A=I+(D<<5&4294967295|D>>>27),D=V+(I^P&(A^I))+M[6]+3225465664&4294967295,V=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(V^A))+M[11]+643717713&4294967295,P=V+(D<<14&4294967295|D>>>18),D=I+(V^A&(P^V))+M[0]+3921069994&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^V&(I^P))+M[5]+3593408605&4294967295,A=I+(D<<5&4294967295|D>>>27),D=V+(I^P&(A^I))+M[10]+38016083&4294967295,V=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(V^A))+M[15]+3634488961&4294967295,P=V+(D<<14&4294967295|D>>>18),D=I+(V^A&(P^V))+M[4]+3889429448&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^V&(I^P))+M[9]+568446438&4294967295,A=I+(D<<5&4294967295|D>>>27),D=V+(I^P&(A^I))+M[14]+3275163606&4294967295,V=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(V^A))+M[3]+4107603335&4294967295,P=V+(D<<14&4294967295|D>>>18),D=I+(V^A&(P^V))+M[8]+1163531501&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(P^V&(I^P))+M[13]+2850285829&4294967295,A=I+(D<<5&4294967295|D>>>27),D=V+(I^P&(A^I))+M[2]+4243563512&4294967295,V=A+(D<<9&4294967295|D>>>23),D=P+(A^I&(V^A))+M[7]+1735328473&4294967295,P=V+(D<<14&4294967295|D>>>18),D=I+(V^A&(P^V))+M[12]+2368359562&4294967295,I=P+(D<<20&4294967295|D>>>12),D=A+(I^P^V)+M[5]+4294588738&4294967295,A=I+(D<<4&4294967295|D>>>28),D=V+(A^I^P)+M[8]+2272392833&4294967295,V=A+(D<<11&4294967295|D>>>21),D=P+(V^A^I)+M[11]+1839030562&4294967295,P=V+(D<<16&4294967295|D>>>16),D=I+(P^V^A)+M[14]+4259657740&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^V)+M[1]+2763975236&4294967295,A=I+(D<<4&4294967295|D>>>28),D=V+(A^I^P)+M[4]+1272893353&4294967295,V=A+(D<<11&4294967295|D>>>21),D=P+(V^A^I)+M[7]+4139469664&4294967295,P=V+(D<<16&4294967295|D>>>16),D=I+(P^V^A)+M[10]+3200236656&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^V)+M[13]+681279174&4294967295,A=I+(D<<4&4294967295|D>>>28),D=V+(A^I^P)+M[0]+3936430074&4294967295,V=A+(D<<11&4294967295|D>>>21),D=P+(V^A^I)+M[3]+3572445317&4294967295,P=V+(D<<16&4294967295|D>>>16),D=I+(P^V^A)+M[6]+76029189&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(I^P^V)+M[9]+3654602809&4294967295,A=I+(D<<4&4294967295|D>>>28),D=V+(A^I^P)+M[12]+3873151461&4294967295,V=A+(D<<11&4294967295|D>>>21),D=P+(V^A^I)+M[15]+530742520&4294967295,P=V+(D<<16&4294967295|D>>>16),D=I+(P^V^A)+M[2]+3299628645&4294967295,I=P+(D<<23&4294967295|D>>>9),D=A+(P^(I|~V))+M[0]+4096336452&4294967295,A=I+(D<<6&4294967295|D>>>26),D=V+(I^(A|~P))+M[7]+1126891415&4294967295,V=A+(D<<10&4294967295|D>>>22),D=P+(A^(V|~I))+M[14]+2878612391&4294967295,P=V+(D<<15&4294967295|D>>>17),D=I+(V^(P|~A))+M[5]+4237533241&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~V))+M[12]+1700485571&4294967295,A=I+(D<<6&4294967295|D>>>26),D=V+(I^(A|~P))+M[3]+2399980690&4294967295,V=A+(D<<10&4294967295|D>>>22),D=P+(A^(V|~I))+M[10]+4293915773&4294967295,P=V+(D<<15&4294967295|D>>>17),D=I+(V^(P|~A))+M[1]+2240044497&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~V))+M[8]+1873313359&4294967295,A=I+(D<<6&4294967295|D>>>26),D=V+(I^(A|~P))+M[15]+4264355552&4294967295,V=A+(D<<10&4294967295|D>>>22),D=P+(A^(V|~I))+M[6]+2734768916&4294967295,P=V+(D<<15&4294967295|D>>>17),D=I+(V^(P|~A))+M[13]+1309151649&4294967295,I=P+(D<<21&4294967295|D>>>11),D=A+(P^(I|~V))+M[4]+4149444226&4294967295,A=I+(D<<6&4294967295|D>>>26),D=V+(I^(A|~P))+M[11]+3174756917&4294967295,V=A+(D<<10&4294967295|D>>>22),D=P+(A^(V|~I))+M[2]+718787259&4294967295,P=V+(D<<15&4294967295|D>>>17),D=I+(V^(P|~A))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,R.g[2]=R.g[2]+P&4294967295,R.g[3]=R.g[3]+V&4294967295}s.prototype.v=function(R,A){A===void 0&&(A=R.length);const I=A-this.blockSize,M=this.C;let P=this.h,V=0;for(;V<A;){if(P==0)for(;V<=I;)a(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<A;)if(M[P++]=R.charCodeAt(V++),P==this.blockSize){a(this,M),P=0;break}}else for(;V<A;)if(M[P++]=R[V++],P==this.blockSize){a(this,M),P=0;break}}this.h=P,this.o+=A},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;A=this.o*8;for(var I=R.length-8;I<R.length;++I)R[I]=A&255,A/=256;for(this.v(R),R=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)R[A++]=this.g[I]>>>M&255;return R};function l(R,A){var I=h;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function c(R,A){this.h=A;const I=[];let M=!0;for(let P=R.length-1;P>=0;P--){const V=R[P]|0;M&&V==A||(I[P]=V,M=!1)}this.g=I}var h={};function p(R){return-128<=R&&R<128?l(R,function(A){return new c([A|0],A<0?-1:0)}):new c([R|0],R<0?-1:0)}function m(R){if(isNaN(R)||!isFinite(R))return v;if(R<0)return L(m(-R));const A=[];let I=1;for(let M=0;R>=I;M++)A[M]=R/I|0,I*=4294967296;return new c(A,0)}function y(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return L(y(R.substring(1),A));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=m(Math.pow(A,8));let M=v;for(let V=0;V<R.length;V+=8){var P=Math.min(8,R.length-V);const D=parseInt(R.substring(V,V+P),A);P<8?(P=m(Math.pow(A,P)),M=M.j(P).add(m(D))):(M=M.j(I),M=M.add(m(D)))}return M}var v=p(0),w=p(1),S=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-L(this).m();let R=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);R+=(M>=0?M:4294967296+M)*A,A*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(j(this))return"-"+L(this).toString(R);const A=m(Math.pow(R,6));var I=this;let M="";for(;;){const P=re(I,A).g;I=F(I,P.j(A));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(R);if(I=P,N(I))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function j(R){return R.h==-1}n.l=function(R){return R=F(this,R),j(R)?-1:N(R)?0:1};function L(R){const A=R.g.length,I=[];for(let M=0;M<A;M++)I[M]=~R.g[M];return new c(I,~R.h).add(w)}n.abs=function(){return j(this)?L(this):this},n.add=function(R){const A=Math.max(this.g.length,R.g.length),I=[];let M=0;for(let P=0;P<=A;P++){let V=M+(this.i(P)&65535)+(R.i(P)&65535),D=(V>>>16)+(this.i(P)>>>16)+(R.i(P)>>>16);M=D>>>16,V&=65535,D&=65535,I[P]=D<<16|V}return new c(I,I[I.length-1]&-2147483648?-1:0)};function F(R,A){return R.add(L(A))}n.j=function(R){if(N(this)||N(R))return v;if(j(this))return j(R)?L(this).j(L(R)):L(L(this).j(R));if(j(R))return L(this.j(L(R)));if(this.l(S)<0&&R.l(S)<0)return m(this.m()*R.m());const A=this.g.length+R.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let P=0;P<R.g.length;P++){const V=this.i(M)>>>16,D=this.i(M)&65535,Re=R.i(P)>>>16,Ve=R.i(P)&65535;I[2*M+2*P]+=D*Ve,W(I,2*M+2*P),I[2*M+2*P+1]+=V*Ve,W(I,2*M+2*P+1),I[2*M+2*P+1]+=D*Re,W(I,2*M+2*P+1),I[2*M+2*P+2]+=V*Re,W(I,2*M+2*P+2)}for(R=0;R<A;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=A;R<2*A;R++)I[R]=0;return new c(I,0)};function W(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function J(R,A){this.g=R,this.h=A}function re(R,A){if(N(A))throw Error("division by zero");if(N(R))return new J(v,v);if(j(R))return A=re(L(R),A),new J(L(A.g),L(A.h));if(j(A))return A=re(R,L(A)),new J(L(A.g),A.h);if(R.g.length>30){if(j(R)||j(A))throw Error("slowDivide_ only works with positive integers.");for(var I=w,M=A;M.l(R)<=0;)I=he(I),M=he(M);var P=me(I,1),V=me(M,1);for(M=me(M,2),I=me(I,2);!N(M);){var D=V.add(M);D.l(R)<=0&&(P=P.add(I),V=D),M=me(M,1),I=me(I,1)}return A=F(R,P.j(A)),new J(P,A)}for(P=v;R.l(A)>=0;){for(I=Math.max(1,Math.floor(R.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=m(I),D=V.j(A);j(D)||D.l(R)>0;)I-=M,V=m(I),D=V.j(A);N(V)&&(V=w),P=P.add(V),R=F(R,D)}return new J(P,R)}n.B=function(R){return re(this,R).h},n.and=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&R.i(M);return new c(I,this.h&R.h)},n.or=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|R.i(M);return new c(I,this.h|R.h)},n.xor=function(R){const A=Math.max(this.g.length,R.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^R.i(M);return new c(I,this.h^R.h)};function he(R){const A=R.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=R.i(M)<<1|R.i(M-1)>>>31;return new c(I,R.h)}function me(R,A){const I=A>>5;A%=32;const M=R.g.length-I,P=[];for(let V=0;V<M;V++)P[V]=A>0?R.i(V+I)>>>A|R.i(V+I+1)<<32-A:R.i(V+I);return new c(P,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,IC=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Kr=c}).apply(typeof SE<"u"?SE:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var NC,Yc,DC,Od,Sy,MC,PC,OC;(function(){var n,e=Object.defineProperty;function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var b=0;b<d.length;++b){var T=d[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var s=t(this);function a(d,b){if(b)e:{var T=s;d=d.split(".");for(var k=0;k<d.length-1;k++){var H=d[k];if(!(H in T))break e;T=T[H]}d=d[d.length-1],k=T[d],b=b(k),b!=k&&b!=null&&e(T,d,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(b){var T=[],k;for(k in b)Object.prototype.hasOwnProperty.call(b,k)&&T.push([k,b[k]]);return T}});var l=l||{},c=this||self;function h(d){var b=typeof d;return b=="object"&&d!=null||b=="function"}function p(d,b,T){return d.call.apply(d.bind,arguments)}function m(d,b,T){return m=p,m.apply(null,arguments)}function y(d,b){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function v(d,b){function T(){}T.prototype=b.prototype,d.Z=b.prototype,d.prototype=new T,d.prototype.constructor=d,d.Ob=function(k,H,Z){for(var ge=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ge[Ue-2]=arguments[Ue];return b.prototype[H].apply(k,ge)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function S(d){const b=d.length;if(b>0){const T=Array(b);for(let k=0;k<b;k++)T[k]=d[k];return T}return[]}function N(d,b){for(let k=1;k<arguments.length;k++){const H=arguments[k];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=d.length||0;const Z=H.length||0;d.length=T+Z;for(let ge=0;ge<Z;ge++)d[T+ge]=H[ge]}else d.push(H)}}class j{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function L(d){c.setTimeout(()=>{throw d},0)}function F(){var d=R;let b=null;return d.g&&(b=d.g,d.g=d.g.next,d.g||(d.h=null),b.next=null),b}class W{constructor(){this.h=this.g=null}add(b,T){const k=J.get();k.set(b,T),this.h?this.h.next=k:this.g=k,this.h=k}}var J=new j(()=>new re,d=>d.reset());class re{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let he,me=!1,R=new W,A=()=>{const d=Promise.resolve(void 0);he=()=>{d.then(I)}};function I(){for(var d;d=F();){try{d.h.call(d.g)}catch(T){L(T)}var b=J;b.j(d),b.h<100&&(b.h++,d.next=b.g,b.g=d)}me=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(d,b){this.type=d,this.g=this.target=b,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,b=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const T=()=>{};c.addEventListener("test",T,b),c.removeEventListener("test",T,b)}catch{}return d})();function D(d){return/^[\s\xa0]*$/.test(d)}function Re(d,b){P.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,b)}v(Re,P),Re.prototype.init=function(d,b){const T=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=b,b=d.relatedTarget,b||(T=="mouseover"?b=d.fromElement:T=="mouseout"&&(b=d.toElement)),this.relatedTarget=b,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ve="closure_listenable_"+(Math.random()*1e6|0),X=0;function oe(d,b,T,k,H){this.listener=d,this.proxy=null,this.src=b,this.type=T,this.capture=!!k,this.ha=H,this.key=++X,this.da=this.fa=!1}function ye(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ee(d,b,T){for(const k in d)b.call(T,d[k],k,d)}function z(d,b){for(const T in d)b.call(void 0,d[T],T,d)}function E(d){const b={};for(const T in d)b[T]=d[T];return b}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(d,b){let T,k;for(let H=1;H<arguments.length;H++){k=arguments[H];for(T in k)d[T]=k[T];for(let Z=0;Z<B.length;Z++)T=B[Z],Object.prototype.hasOwnProperty.call(k,T)&&(d[T]=k[T])}}function ne(d){this.src=d,this.g={},this.h=0}ne.prototype.add=function(d,b,T,k,H){const Z=d.toString();d=this.g[Z],d||(d=this.g[Z]=[],this.h++);const ge=fe(d,b,k,H);return ge>-1?(b=d[ge],T||(b.fa=!1)):(b=new oe(b,this.src,Z,!!k,H),b.fa=T,d.push(b)),b};function ce(d,b){const T=b.type;if(T in d.g){var k=d.g[T],H=Array.prototype.indexOf.call(k,b,void 0),Z;(Z=H>=0)&&Array.prototype.splice.call(k,H,1),Z&&(ye(b),d.g[T].length==0&&(delete d.g[T],d.h--))}}function fe(d,b,T,k){for(let H=0;H<d.length;++H){const Z=d[H];if(!Z.da&&Z.listener==b&&Z.capture==!!T&&Z.ha==k)return H}return-1}var de="closure_lm_"+(Math.random()*1e6|0),Se={};function ke(d,b,T,k,H){if(Array.isArray(b)){for(let Z=0;Z<b.length;Z++)ke(d,b[Z],T,k,H);return null}return T=an(T),d&&d[Ve]?d.J(b,T,h(k)?!!k.capture:!1,H):We(d,b,T,!1,k,H)}function We(d,b,T,k,H,Z){if(!b)throw Error("Invalid event type");const ge=h(H)?!!H.capture:!!H;let Ue=Dt(d);if(Ue||(d[de]=Ue=new ne(d)),T=Ue.add(b,T,k,ge,Z),T.proxy)return T;if(k=$e(),T.proxy=k,k.src=d,k.listener=T,d.addEventListener)V||(H=ge),H===void 0&&(H=!1),d.addEventListener(b.toString(),k,H);else if(d.attachEvent)d.attachEvent(De(b.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function $e(){function d(T){return b.call(d.src,d.listener,T)}const b=Nt;return d}function nt(d,b,T,k,H){if(Array.isArray(b))for(var Z=0;Z<b.length;Z++)nt(d,b[Z],T,k,H);else k=h(k)?!!k.capture:!!k,T=an(T),d&&d[Ve]?(d=d.i,Z=String(b).toString(),Z in d.g&&(b=d.g[Z],T=fe(b,T,k,H),T>-1&&(ye(b[T]),Array.prototype.splice.call(b,T,1),b.length==0&&(delete d.g[Z],d.h--)))):d&&(d=Dt(d))&&(b=d.g[b.toString()],d=-1,b&&(d=fe(b,T,k,H)),(T=d>-1?b[d]:null)&&ut(T))}function ut(d){if(typeof d!="number"&&d&&!d.da){var b=d.src;if(b&&b[Ve])ce(b.i,d);else{var T=d.type,k=d.proxy;b.removeEventListener?b.removeEventListener(T,k,d.capture):b.detachEvent?b.detachEvent(De(T),k):b.addListener&&b.removeListener&&b.removeListener(k),(T=Dt(b))?(ce(T,d),T.h==0&&(T.src=null,b[de]=null)):ye(d)}}}function De(d){return d in Se?Se[d]:Se[d]="on"+d}function Nt(d,b){if(d.da)d=!0;else{b=new Re(b,this);const T=d.listener,k=d.ha||d.src;d.fa&&ut(d),d=T.call(k,b)}return d}function Dt(d){return d=d[de],d instanceof ne?d:null}var Ze="__closure_events_fn_"+(Math.random()*1e9>>>0);function an(d){return typeof d=="function"?d:(d[Ze]||(d[Ze]=function(b){return d.handleEvent(b)}),d[Ze])}function lt(){M.call(this),this.i=new ne(this),this.M=this,this.G=null}v(lt,M),lt.prototype[Ve]=!0,lt.prototype.removeEventListener=function(d,b,T,k){nt(this,d,b,T,k)};function it(d,b){var T,k=d.G;if(k)for(T=[];k;k=k.G)T.push(k);if(d=d.M,k=b.type||b,typeof b=="string")b=new P(b,d);else if(b instanceof P)b.target=b.target||d;else{var H=b;b=new P(k,d),Y(b,H)}H=!0;let Z,ge;if(T)for(ge=T.length-1;ge>=0;ge--)Z=b.g=T[ge],H=ii(Z,k,!0,b)&&H;if(Z=b.g=d,H=ii(Z,k,!0,b)&&H,H=ii(Z,k,!1,b)&&H,T)for(ge=0;ge<T.length;ge++)Z=b.g=T[ge],H=ii(Z,k,!1,b)&&H}lt.prototype.N=function(){if(lt.Z.N.call(this),this.i){var d=this.i;for(const b in d.g){const T=d.g[b];for(let k=0;k<T.length;k++)ye(T[k]);delete d.g[b],d.h--}}this.G=null},lt.prototype.J=function(d,b,T,k){return this.i.add(String(d),b,!1,T,k)},lt.prototype.K=function(d,b,T,k){return this.i.add(String(d),b,!0,T,k)};function ii(d,b,T,k){if(b=d.i.g[String(b)],!b)return!0;b=b.concat();let H=!0;for(let Z=0;Z<b.length;++Z){const ge=b[Z];if(ge&&!ge.da&&ge.capture==T){const Ue=ge.listener,zt=ge.ha||ge.src;ge.fa&&ce(d.i,ge),H=Ue.call(zt,k)!==!1&&H}}return H&&!k.defaultPrevented}function la(d,b){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(d,b||0)}function ar(d){d.g=la(()=>{d.g=null,d.i&&(d.i=!1,ar(d))},d.l);const b=d.h;d.h=null,d.m.apply(null,b)}class Ft extends M{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:ar(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hn(d){M.call(this),this.h=d,this.g={}}v(Hn,M);var Ti=[];function As(d){Ee(d.g,function(b,T){this.g.hasOwnProperty(T)&&ut(b)},d),d.g={}}Hn.prototype.N=function(){Hn.Z.N.call(this),As(this)},Hn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rn=c.JSON.stringify,Cs=c.JSON.parse,$n=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function si(){}function te(){}var pe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Te(){P.call(this,"d")}v(Te,P);function vt(){P.call(this,"c")}v(vt,P);var xt={},ju=null;function lo(){return ju=ju||new lt}xt.Ia="serverreachability";function Uu(d){P.call(this,xt.Ia,d)}v(Uu,P);function Hi(d){const b=lo();it(b,new Uu(b))}xt.STAT_EVENT="statevent";function ca(d,b){P.call(this,xt.STAT_EVENT,d),this.stat=b}v(ca,P);function qt(d){const b=lo();it(b,new ca(b,d))}xt.Ja="timingevent";function $i(d,b){P.call(this,xt.Ja,d),this.size=b}v($i,P);function Gi(d,b){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},b)}function xi(){this.g=!0}xi.prototype.ua=function(){this.g=!1};function Jf(d,b,T,k,H,Z){d.info(function(){if(d.g)if(Z){var ge="",Ue=Z.split("&");for(let at=0;at<Ue.length;at++){var zt=Ue[at].split("=");if(zt.length>1){const At=zt[0];zt=zt[1];const li=At.split("_");ge=li.length>=2&&li[1]=="type"?ge+(At+"="+zt+"&"):ge+(At+"=redacted&")}}}else ge=null;else ge=Z;return"XMLHTTP REQ ("+k+") [attempt "+H+"]: "+b+`
`+T+`
`+ge})}function Bu(d,b,T,k,H,Z,ge){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+H+"]: "+b+`
`+T+`
`+Z+" "+ge})}function Ki(d,b,T,k){d.info(function(){return"XMLHTTP TEXT ("+b+"): "+Zf(d,T)+(k?" "+k:"")})}function ua(d,b){d.info(function(){return"TIMEOUT: "+b})}xi.prototype.info=function(){};function Zf(d,b){if(!d.g)return b;if(!b)return null;try{const Z=JSON.parse(b);if(Z){for(d=0;d<Z.length;d++)if(Array.isArray(Z[d])){var T=Z[d];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var H=k[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ge=1;ge<k.length;ge++)k[ge]=""}}}}return Rn(Z)}catch{return b}}var ha={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Fl;function da(){}v(da,si),da.prototype.g=function(){return new XMLHttpRequest},Fl=new da;function Rs(d){return encodeURIComponent(String(d))}function Fu(d){var b=1;d=d.split(":");const T=[];for(;b>0&&d.length;)T.push(d.shift()),b--;return d.length&&T.push(d.join(":")),T}function Ei(d,b,T,k){this.j=d,this.i=b,this.l=T,this.S=k||1,this.V=new Hn(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Si}function Si(){this.i=null,this.g="",this.h=!1}var Ht={},on={};function Yi(d,b,T){d.M=1,d.A=fa(Gt(b)),d.u=T,d.R=!0,co(d,null)}function co(d,b){d.F=Date.now(),Qi(d),d.B=Gt(d.A);var T=d.B,k=d.S;Array.isArray(k)||(k=[String(k)]),mo(T.i,"t",k),d.C=0,T=d.j.L,d.h=new Si,d.g=ih(d.j,T?b:null,!d.u),d.P>0&&(d.O=new Ft(m(d.Y,d,d.g),d.P)),b=d.V,T=d.g,k=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(Ti[0]=H.toString()),H=Ti);for(let Z=0;Z<H.length;Z++){const ge=ke(T,H[Z],k||b.handleEvent,!1,b.h||b);if(!ge)break;b.g[ge.key]=ge}b=d.J?E(d.J):{},d.u?(d.v||(d.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,b)):(d.v="GET",d.g.ea(d.B,d.v,null,b)),Hi(),Jf(d.i,d.v,d.B,d.l,d.S,d.u)}Ei.prototype.ba=function(d){d=d.target;const b=this.O;b&&Ri(d)==3?b.j():this.Y(d)},Ei.prototype.Y=function(d){try{if(d==this.g)e:{const Ue=Ri(this.g),zt=this.g.ya(),at=this.g.ca();if(!(Ue<3)&&(Ue!=3||this.g&&(this.h.h||this.g.la()||hn(this.g)))){this.K||Ue!=4||zt==7||(zt==8||at<=0?Hi(3):Hi(2)),Xi(this);var b=this.g.ca();this.X=b;var T=em(this);if(this.o=b==200,Bu(this.i,this.v,this.B,this.l,this.S,Ue,b),this.o){if(this.U&&!this.L){t:{if(this.g){var k,H=this.g;if((k=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(k)){var Z=k;break t}}Z=null}if(d=Z)Ki(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Wi(this,d);else{this.o=!1,this.m=3,qt(12),Gn(this),ri(this);break e}}if(this.R){d=!0;let At;for(;!this.K&&this.C<T.length;)if(At=Hu(this,T),At==on){Ue==4&&(this.m=4,qt(14),d=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(At==Ht){this.m=4,qt(15),Ki(this.i,this.l,T,"[Invalid Chunk]"),d=!1;break}else Ki(this.i,this.l,At,null),Wi(this,At);if(qu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ue!=4||T.length!=0||this.h.h||(this.m=1,qt(16),d=!1),this.o=this.o&&d,!d)Ki(this.i,this.l,T,"[Invalid Chunked Response]"),Gn(this),ri(this);else if(T.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),ic(ge),ge.P=!0,qt(11))}}else Ki(this.i,this.l,T,null),Wi(this,T);Ue==4&&Gn(this),this.o&&!this.K&&(Ue==4?Zu(this.j,this):(this.o=!1,Qi(this)))}else Is(this.g),b==400&&T.indexOf("Unknown SID")>0?(this.m=3,qt(12)):(this.m=0,qt(13)),Gn(this),ri(this)}}}catch{}};function em(d){if(!qu(d))return d.g.la();const b=hn(d.g);if(b==="")return"";let T="";const k=b.length,H=Ri(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Gn(d),ri(d),"";d.h.i=new c.TextDecoder}for(let Z=0;Z<k;Z++)d.h.h=!0,T+=d.h.i.decode(b[Z],{stream:!(H&&Z==k-1)});return b.length=0,d.h.g+=T,d.C=0,d.h.g}function qu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Hu(d,b){var T=d.C,k=b.indexOf(`
`,T);return k==-1?on:(T=Number(b.substring(T,k)),isNaN(T)?Ht:(k+=1,k+T>b.length?on:(b=b.slice(k,k+T),d.C=k+T,b)))}Ei.prototype.cancel=function(){this.K=!0,Gn(this)};function Qi(d){d.T=Date.now()+d.H,uo(d,d.H)}function uo(d,b){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Gi(m(d.aa,d),b)}function Xi(d){d.D&&(c.clearTimeout(d.D),d.D=null)}Ei.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(ua(this.i,this.B),this.M!=2&&(Hi(),qt(17)),Gn(this),this.m=2,ri(this)):uo(this,this.T-d)};function ri(d){d.j.I==0||d.K||Zu(d.j,d)}function Gn(d){Xi(d);var b=d.O;b&&typeof b.dispose=="function"&&b.dispose(),d.O=null,As(d.V),d.g&&(b=d.g,d.g=null,b.abort(),b.dispose())}function Wi(d,b){try{var T=d.j;if(T.I!=0&&(T.g==d||Zi(T.h,d))){if(!d.L&&Zi(T.h,d)&&T.I==3){try{var k=T.Ba.g.parse(b)}catch{k=null}if(Array.isArray(k)&&k.length==3){var H=k;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<d.F)bo(T),mr(T);else break e;_a(T),qt(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Gi(m(T.Va,T),6e3));Ji(T.h)<=1&&T.ta&&(T.ta=void 0)}else rs(T,11)}else if((d.L||T.g==d)&&bo(T),!D(b))for(H=T.Ba.g.parse(b),b=0;b<H.length;b++){let at=H[b];const At=at[0];if(!(At<=T.K))if(T.K=At,at=at[1],T.I==2)if(at[0]=="c"){T.M=at[1],T.ba=at[2];const li=at[3];li!=null&&(T.ka=li,T.j.info("VER="+T.ka));const as=at[4];as!=null&&(T.za=as,T.j.info("SVER="+T.za));const ki=at[5];ki!=null&&typeof ki=="number"&&ki>0&&(k=1.5*ki,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Ii=d.g;if(Ii){const wa=Ii.g?Ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var Z=k.h;Z.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&($l(Z,Z.h),Z.h=null))}if(k.G){const _o=Ii.g?Ii.g.getResponseHeader("X-HTTP-Session-Id"):null;_o&&(k.wa=_o,ht(k.J,k.G,_o))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-d.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var ge=d;if(k.na=nh(k,k.L?k.ba:null,k.W),ge.L){Gl(k.h,ge);var Ue=ge,zt=k.O;zt&&(Ue.H=zt),Ue.D&&(Xi(Ue),Qi(Ue)),k.g=ge}else Wu(k);T.i.length>0&&ss(T)}else at[0]!="stop"&&at[0]!="close"||rs(T,7);else T.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?rs(T,7):tc(T):at[0]!="noop"&&T.l&&T.l.qa(at),T.A=0)}}Hi(4)}catch{}}var $t=class{constructor(d,b){this.g=d,this.map=b}};function ql(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Hl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Ji(d){return d.h?1:d.g?d.g.size:0}function Zi(d,b){return d.h?d.h==b:d.g?d.g.has(b):!1}function $l(d,b){d.g?d.g.add(b):d.h=b}function Gl(d,b){d.h&&d.h==b?d.h=null:d.g&&d.g.has(b)&&d.g.delete(b)}ql.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Kl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let b=d.i;for(const T of d.g.values())b=b.concat(T.G);return b}return S(d.i)}var $u=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ho(d,b){if(d){d=d.split("&");for(let T=0;T<d.length;T++){const k=d[T].indexOf("=");let H,Z=null;k>=0?(H=d[T].substring(0,k),Z=d[T].substring(k+1)):H=d[T],b(H,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Kn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;d instanceof Kn?(this.l=d.l,ln(this,d.j),this.o=d.o,this.g=d.g,or(this,d.u),this.h=d.h,Yl(this,Qu(d.i)),this.m=d.m):d&&(b=String(d).match($u))?(this.l=!1,ln(this,b[1]||"",!0),this.o=es(b[2]||""),this.g=es(b[3]||"",!0),or(this,b[4]),this.h=es(b[5]||"",!0),Yl(this,b[6]||"",!0),this.m=es(b[7]||"")):(this.l=!1,this.i=new cr(null,this.l))}Kn.prototype.toString=function(){const d=[];var b=this.j;b&&d.push(ma(b,fo,!0),":");var T=this.g;return(T||b=="file")&&(d.push("//"),(b=this.o)&&d.push(ma(b,fo,!0),"@"),d.push(Rs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&d.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&d.push("/"),d.push(ma(T,T.charAt(0)=="/"?Ql:Gu,!0))),(T=this.i.toString())&&d.push("?",T),(T=this.m)&&d.push("#",ma(T,Ku)),d.join("")},Kn.prototype.resolve=function(d){const b=Gt(this);let T=!!d.j;T?ln(b,d.j):T=!!d.o,T?b.o=d.o:T=!!d.g,T?b.g=d.g:T=d.u!=null;var k=d.h;if(T)or(b,d.u);else if(T=!!d.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var H=b.h.lastIndexOf("/");H!=-1&&(k=b.h.slice(0,H+1)+k)}if(H=k,H==".."||H==".")k="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){k=H.lastIndexOf("/",0)==0,H=H.split("/");const Z=[];for(let ge=0;ge<H.length;){const Ue=H[ge++];Ue=="."?k&&ge==H.length&&Z.push(""):Ue==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),k&&ge==H.length&&Z.push("")):(Z.push(Ue),k=!0)}k=Z.join("/")}else k=H}return T?b.h=k:T=d.i.toString()!=="",T?Yl(b,Qu(d.i)):T=!!d.m,T&&(b.m=d.m),b};function Gt(d){return new Kn(d)}function ln(d,b,T){d.j=T?es(b,!0):b,d.j&&(d.j=d.j.replace(/:$/,""))}function or(d,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);d.u=b}else d.u=null}function Yl(d,b,T){b instanceof cr?(d.i=b,po(d.i,d.l)):(T||(b=ma(b,lr)),d.i=new cr(b,d.l))}function ht(d,b,T){d.i.set(b,T)}function fa(d){return ht(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function es(d,b){return d?b?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ma(d,b,T){return typeof d=="string"?(d=encodeURI(d).replace(b,Mn),T&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Mn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var fo=/[#\/\?@]/g,Gu=/[#\?:]/g,Ql=/[#\?]/g,lr=/[#\?@]/g,Ku=/#/g;function cr(d,b){this.h=this.g=null,this.i=d||null,this.j=!!b}function Pn(d){d.g||(d.g=new Map,d.h=0,d.i&&ho(d.i,function(b,T){d.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}n=cr.prototype,n.add=function(d,b){Pn(this),this.i=null,d=ur(this,d);let T=this.g.get(d);return T||this.g.set(d,T=[]),T.push(b),this.h+=1,this};function Yu(d,b){Pn(d),b=ur(d,b),d.g.has(b)&&(d.i=null,d.h-=d.g.get(b).length,d.g.delete(b))}function Xl(d,b){return Pn(d),b=ur(d,b),d.g.has(b)}n.forEach=function(d,b){Pn(this),this.g.forEach(function(T,k){T.forEach(function(H){d.call(b,H,k,this)},this)},this)};function Wl(d,b){Pn(d);let T=[];if(typeof b=="string")Xl(d,b)&&(T=T.concat(d.g.get(ur(d,b))));else for(d=Array.from(d.g.values()),b=0;b<d.length;b++)T=T.concat(d[b]);return T}n.set=function(d,b){return Pn(this),this.i=null,d=ur(this,d),Xl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[b]),this.h+=1,this},n.get=function(d,b){return d?(d=Wl(this,d),d.length>0?String(d[0]):b):b};function mo(d,b,T){Yu(d,b),T.length>0&&(d.i=null,d.g.set(ur(d,b),S(T)),d.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],b=Array.from(this.g.keys());for(let k=0;k<b.length;k++){var T=b[k];const H=Rs(T);T=Wl(this,T);for(let Z=0;Z<T.length;Z++){let ge=H;T[Z]!==""&&(ge+="="+Rs(T[Z])),d.push(ge)}}return this.i=d.join("&")};function Qu(d){const b=new cr;return b.i=d.i,d.g&&(b.g=new Map(d.g),b.h=d.h),b}function ur(d,b){return b=String(b),d.j&&(b=b.toLowerCase()),b}function po(d,b){b&&!d.j&&(Pn(d),d.i=null,d.g.forEach(function(T,k){const H=k.toLowerCase();k!=H&&(Yu(this,k),mo(this,H,T))},d)),d.j=b}function Ai(d,b){const T=new xi;if(c.Image){const k=new Image;k.onload=y(ai,T,"TestLoadImage: loaded",!0,b,k),k.onerror=y(ai,T,"TestLoadImage: error",!1,b,k),k.onabort=y(ai,T,"TestLoadImage: abort",!1,b,k),k.ontimeout=y(ai,T,"TestLoadImage: timeout",!1,b,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else b(!1)}function Jl(d,b){const T=new xi,k=new AbortController,H=setTimeout(()=>{k.abort(),ai(T,"TestPingServer: timeout",!1,b)},1e4);fetch(d,{signal:k.signal}).then(Z=>{clearTimeout(H),Z.ok?ai(T,"TestPingServer: ok",!0,b):ai(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(H),ai(T,"TestPingServer: error",!1,b)})}function ai(d,b,T,k,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),k(T)}catch{}}function hr(){this.g=new $n}function ts(d){this.i=d.Sb||null,this.h=d.ab||!1}v(ts,si),ts.prototype.g=function(){return new pa(this.i,this.h)};function pa(d,b){lt.call(this),this.H=d,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}v(pa,lt),n=pa.prototype,n.open=function(d,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=b,this.readyState=1,Ci(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(b.body=d),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,dr(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Ci(this)),this.g&&(this.readyState=3,Ci(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;go(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function go(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var b=d.value?d.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!d.done}))&&(this.response=this.responseText+=b)}d.done?dr(this):Ci(this),this.readyState==3&&go(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,dr(this))},n.Na=function(d){this.g&&(this.response=d,dr(this))},n.ga=function(){this.g&&dr(this)};function dr(d){d.readyState=4,d.l=null,d.j=null,d.B=null,Ci(d)}n.setRequestHeader=function(d,b){this.A.append(d,b)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,d.push(T[0]+": "+T[1]),T=b.next();return d.join(`\r
`)};function Ci(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(pa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function oi(d){let b="";return Ee(d,function(T,k){b+=k,b+=":",b+=T,b+=`\r
`}),b}function ga(d,b,T){e:{for(k in T){var k=!1;break e}k=!0}k||(T=oi(T),typeof d=="string"?T!=null&&Rs(T):ht(d,b,T))}function mt(d){lt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}v(mt,lt);var ns=/^https?$/i,Zl=["POST","PUT"];n=mt.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,b,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);b=b?b.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Fl.g(),this.g.onreadystatechange=w(m(this.Ca,this));try{this.B=!0,this.g.open(b,String(d),!0),this.B=!1}catch(Z){ya(this,Z);return}if(d=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var H in k)T.set(H,k[H]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Z of k.keys())T.set(Z,k.get(Z));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Zl,b,void 0)>=0)||k||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,ge]of T)this.g.setRequestHeader(Z,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Z){ya(this,Z)}};function ya(d,b){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=b,d.o=5,ec(d),ks(d)}function ec(d){d.A||(d.A=!0,it(d,"complete"),it(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,it(this,"complete"),it(this,"abort"),ks(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ks(this,!0)),mt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?va(this):this.Xa())},n.Xa=function(){va(this)};function va(d){if(d.h&&typeof l<"u"){if(d.v&&Ri(d)==4)setTimeout(d.Ca.bind(d),0);else if(it(d,"readystatechange"),Ri(d)==4){d.h=!1;try{const Z=d.ca();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var k;if(k=Z===0){let ge=String(d.D).match($u)[1]||null;!ge&&c.self&&c.self.location&&(ge=c.self.location.protocol.slice(0,-1)),k=!ns.test(ge?ge.toLowerCase():"")}T=k}if(T)it(d,"complete"),it(d,"success");else{d.o=6;try{var H=Ri(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",ec(d)}}finally{ks(d)}}}}function ks(d,b){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const T=d.g;d.g=null,b||it(d,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ri(d){return d.g?d.g.readyState:0}n.ca=function(){try{return Ri(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var b=this.g.responseText;return d&&b.indexOf(d)==0&&(b=b.substring(d.length)),Cs(b)}};function hn(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Is(d){const b={};d=(d.g&&Ri(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(D(d[k]))continue;var T=Fu(d[k]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=b[H]||[];b[H]=Z,Z.push(T)}z(b,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function is(d,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[d]||b}function fr(d){this.za=0,this.i=[],this.j=new xi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=is("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=is("baseRetryDelayMs",5e3,d),this.Za=is("retryDelaySeedMs",1e4,d),this.Ta=is("forwardChannelMaxRetries",2,d),this.va=is("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ql(d&&d.concurrentRequestLimit),this.Ba=new hr,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=fr.prototype,n.ka=8,n.I=1,n.connect=function(d,b,T,k){qt(0),this.W=d,this.H=b||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=nh(this,null,this.W),ss(this)};function tc(d){if(yo(d),d.I==3){var b=d.V++,T=Gt(d.J);if(ht(T,"SID",d.M),ht(T,"RID",b),ht(T,"TYPE","terminate"),ba(d,T),b=new Ei(d,d.j,b),b.M=2,b.A=fa(Gt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=b.A,T=!0),T||(b.g=ih(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Qi(b)}th(d)}function mr(d){d.g&&(ic(d),d.g.cancel(),d.g=null)}function yo(d){mr(d),d.v&&(c.clearTimeout(d.v),d.v=null),bo(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function ss(d){if(!Hl(d.h)&&!d.m){d.m=!0;var b=d.Ea;he||A(),me||(he(),me=!0),R.add(b,d),d.D=0}}function vo(d,b){return Ji(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=b.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Gi(m(d.Ea,d,b),eh(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new Ei(this,this.j,d);let Z=this.o;if(this.U&&(Z?(Z=E(Z),Y(Z,this.U)):Z=this.U),this.u!==null||this.R||(H.J=Z,Z=null),this.S)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(b+=k,b>4096){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=Xu(this,H,b),T=Gt(this.J),ht(T,"RID",d),ht(T,"CVER",22),this.G&&ht(T,"X-HTTP-Session-Id",this.G),ba(this,T),Z&&(this.R?b="headers="+Rs(oi(Z))+"&"+b:this.u&&ga(T,this.u,Z)),$l(this.h,H),this.Ra&&ht(T,"TYPE","init"),this.S?(ht(T,"$req",b),ht(T,"SID","null"),H.U=!0,Yi(H,T,null)):Yi(H,T,b),this.I=2}}else this.I==3&&(d?nc(this,d):this.i.length==0||Hl(this.h)||nc(this))};function nc(d,b){var T;b?T=b.l:T=d.V++;const k=Gt(d.J);ht(k,"SID",d.M),ht(k,"RID",T),ht(k,"AID",d.K),ba(d,k),d.u&&d.o&&ga(k,d.u,d.o),T=new Ei(d,d.j,T,d.D+1),d.u===null&&(T.J=d.o),b&&(d.i=b.G.concat(d.i)),b=Xu(d,T,1e3),T.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),$l(d.h,T),Yi(T,k,b)}function ba(d,b){d.H&&Ee(d.H,function(T,k){ht(b,k,T)}),d.l&&Ee({},function(T,k){ht(b,k,T)})}function Xu(d,b,T){T=Math.min(d.i.length,T);const k=d.l?m(d.l.Ka,d.l,d):null;e:{var H=d.i;let Ue=-1;for(;;){const zt=["count="+T];Ue==-1?T>0?(Ue=H[0].g,zt.push("ofs="+Ue)):Ue=0:zt.push("ofs="+Ue);let at=!0;for(let At=0;At<T;At++){var Z=H[At].g;const li=H[At].map;if(Z-=Ue,Z<0)Ue=Math.max(0,H[At].g-100),at=!1;else try{Z="req"+Z+"_"||"";try{var ge=li instanceof Map?li:Object.entries(li);for(const[as,ki]of ge){let Ii=ki;h(ki)&&(Ii=Rn(ki)),zt.push(Z+as+"="+encodeURIComponent(Ii))}}catch(as){throw zt.push(Z+"type="+encodeURIComponent("_badmap")),as}}catch{k&&k(li)}}if(at){ge=zt.join("&");break e}}ge=void 0}return d=d.i.splice(0,T),b.G=d,ge}function Wu(d){if(!d.g&&!d.v){d.Y=1;var b=d.Da;he||A(),me||(he(),me=!0),R.add(b,d),d.A=0}}function _a(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Gi(m(d.Da,d),eh(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Gi(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,qt(10),mr(this),Ju(this))};function ic(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Ju(d){d.g=new Ei(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var b=Gt(d.na);ht(b,"RID","rpc"),ht(b,"SID",d.M),ht(b,"AID",d.K),ht(b,"CI",d.F?"0":"1"),!d.F&&d.ia&&ht(b,"TO",d.ia),ht(b,"TYPE","xmlhttp"),ba(d,b),d.u&&d.o&&ga(b,d.u,d.o),d.O&&(d.g.H=d.O);var T=d.g;d=d.ba,T.M=1,T.A=fa(Gt(b)),T.u=null,T.R=!0,co(T,d)}n.Va=function(){this.C!=null&&(this.C=null,mr(this),_a(this),qt(19))};function bo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Zu(d,b){var T=null;if(d.g==b){bo(d),ic(d),d.g=null;var k=2}else if(Zi(d.h,b))T=b.G,Gl(d.h,b),k=1;else return;if(d.I!=0){if(b.o)if(k==1){T=b.u?b.u.length:0,b=Date.now()-b.F;var H=d.D;k=lo(),it(k,new $i(k,T)),ss(d)}else Wu(d);else if(H=b.m,H==3||H==0&&b.X>0||!(k==1&&vo(d,b)||k==2&&_a(d)))switch(T&&T.length>0&&(b=d.h,b.i=b.i.concat(T)),H){case 1:rs(d,5);break;case 4:rs(d,10);break;case 3:rs(d,6);break;default:rs(d,2)}}}function eh(d,b){let T=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(T*=2),T*b}function rs(d,b){if(d.j.info("Error code "+b),b==2){var T=m(d.bb,d),k=d.Ua;const H=!k;k=new Kn(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||ln(k,"https"),fa(k),H?Ai(k.toString(),T):Jl(k.toString(),T)}else qt(2);d.I=0,d.l&&d.l.pa(b),th(d),yo(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),qt(2)):(this.j.info("Failed to ping google.com"),qt(1))};function th(d){if(d.I=0,d.ja=[],d.l){const b=Kl(d.h);(b.length!=0||d.i.length!=0)&&(N(d.ja,b),N(d.ja,d.i),d.h.i.length=0,S(d.i),d.i.length=0),d.l.oa()}}function nh(d,b,T){var k=T instanceof Kn?Gt(T):new Kn(T);if(k.g!="")b&&(k.g=b+"."+k.g),or(k,k.u);else{var H=c.location;k=H.protocol,b=b?b+"."+H.hostname:H.hostname,H=+H.port;const Z=new Kn(null);k&&ln(Z,k),b&&(Z.g=b),H&&or(Z,H),T&&(Z.h=T),k=Z}return T=d.G,b=d.wa,T&&b&&ht(k,T,b),ht(k,"VER",d.ka),ba(d,k),k}function ih(d,b,T){if(b&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=d.Aa&&!d.ma?new mt(new ts({ab:T})):new mt(d.ma),b.Fa(d.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function sh(){}n=sh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function pr(){}pr.prototype.g=function(d,b){return new kn(d,b)};function kn(d,b){lt.call(this),this.g=new fr(b),this.l=d,this.h=b&&b.messageUrlParams||null,d=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(d?d["X-WebChannel-Content-Type"]=b.messageContentType:d={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(d?d["X-WebChannel-Client-Profile"]=b.sa:d={"X-WebChannel-Client-Profile":b.sa}),this.g.U=d,(d=b&&b.Qb)&&!D(d)&&(this.g.u=d),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!D(b)&&(this.g.G=b,d=this.h,d!==null&&b in d&&(d=this.h,b in d&&delete d[b])),this.j=new Ns(this)}v(kn,lt),kn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},kn.prototype.close=function(){tc(this.g)},kn.prototype.o=function(d){var b=this.g;if(typeof d=="string"){var T={};T.__data__=d,d=T}else this.v&&(T={},T.__data__=Rn(d),d=T);b.i.push(new $t(b.Ya++,d)),b.I==3&&ss(b)},kn.prototype.N=function(){this.g.l=null,delete this.j,tc(this.g),delete this.g,kn.Z.N.call(this)};function rh(d){Te.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var b=d.__sm__;if(b){e:{for(const T in b){d=T;break e}d=void 0}(this.i=d)&&(d=this.i,b=b!==null&&d in b?b[d]:void 0),this.data=b}else this.data=d}v(rh,Te);function ah(){vt.call(this),this.status=1}v(ah,vt);function Ns(d){this.g=d}v(Ns,sh),Ns.prototype.ra=function(){it(this.g,"a")},Ns.prototype.qa=function(d){it(this.g,new rh(d))},Ns.prototype.pa=function(d){it(this.g,new ah)},Ns.prototype.oa=function(){it(this.g,"b")},pr.prototype.createWebChannel=pr.prototype.g,kn.prototype.send=kn.prototype.o,kn.prototype.open=kn.prototype.m,kn.prototype.close=kn.prototype.close,OC=function(){return new pr},PC=function(){return lo()},MC=xt,Sy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ha.NO_ERROR=0,ha.TIMEOUT=8,ha.HTTP_ERROR=6,Od=ha,Bl.COMPLETE="complete",DC=Bl,te.EventType=pe,pe.OPEN="a",pe.CLOSE="b",pe.ERROR="c",pe.MESSAGE="d",lt.prototype.listen=lt.prototype.J,Yc=te,mt.prototype.listenOnce=mt.prototype.K,mt.prototype.getLastError=mt.prototype.Ha,mt.prototype.getLastErrorCode=mt.prototype.ya,mt.prototype.getStatus=mt.prototype.ca,mt.prototype.getResponseJson=mt.prototype.La,mt.prototype.getResponseText=mt.prototype.la,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Fa,NC=mt}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");let Vl="12.9.0";function uj(n){Vl=n}const Ja=new x0("@firebase/firestore");function el(){return Ja.logLevel}function be(n,...e){if(Ja.logLevel<=Ye.DEBUG){const t=e.map(O0);Ja.debug(`Firestore (${Vl}): ${n}`,...t)}}function nr(n,...e){if(Ja.logLevel<=Ye.ERROR){const t=e.map(O0);Ja.error(`Firestore (${Vl}): ${n}`,...t)}}function yl(n,...e){if(Ja.logLevel<=Ye.WARN){const t=e.map(O0);Ja.warn(`Firestore (${Vl}): ${n}`,...t)}}function O0(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function Ne(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,VC(n,s,t)}function VC(n,e,t){let s=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw nr(s),new Error(s)}function ct(n,e,t,s){let a="Unexpected state";typeof t=="string"?a=t:s=t,n||VC(e,a,s)}function je(n,e){return n}const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends Es{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ws{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class hj{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Un.UNAUTHENTICATED)))}shutdown(){}}class fj{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ct(this.o===void 0,42304);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Ws;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ws,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await a(this.currentUser)}))},h=p=>{be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>h(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ws)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ct(typeof s.accessToken=="string",31837,{l:s}),new hj(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ct(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class mj{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class pj{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new mj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gj{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ct(this.o===void 0,3512);const s=l=>{l.error!=null&&be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const a=l=>{be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ct(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new AE(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function yj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}class V0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=yj(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function Qe(n,e){return n<e?-1:n>e?1:0}function Ay(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const a=n.charAt(s),l=e.charAt(s);if(a!==l)return Ng(a)===Ng(l)?Qe(a,l):Ng(a)?1:-1}return Qe(n.length,e.length)}const vj=55296,bj=57343;function Ng(n){const e=n.charCodeAt(0);return e>=vj&&e<=bj}function vl(n,e,t){return n.length===e.length&&n.every(((s,a)=>t(s,e[a])))}const CE="__name__";class ds{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ne(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ne(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=ds.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Qe(e.length,t.length)}static compareSegments(e,t){const s=ds.isNumericId(e),a=ds.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?ds.extractNumericId(e).compare(ds.extractNumericId(t)):Ay(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kr.fromString(e.substring(4,e.length-2))}}class wt extends ds{construct(e,t,s){return new wt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ve(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((a=>a.length>0)))}return new wt(t)}static emptyPath(){return new wt([])}}const _j=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends ds{construct(e,t,s){return new vn(e,t,s)}static isValidIdentifier(e){return _j.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CE}static keyField(){return new vn([CE])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new ve(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ve(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(s+=h,a++):(l(),a++)}if(l(),c)throw new ve(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(t)}static emptyPath(){return new vn([])}}class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(wt.fromString(e))}static fromName(e){return new Ce(wt.fromString(e).popFirst(5))}static empty(){return new Ce(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return wt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new wt(e.slice()))}}function LC(n,e,t){if(!t)throw new ve(ae.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function wj(n,e,t,s){if(e===!0&&s===!0)throw new ve(ae.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function RE(n){if(!Ce.isDocumentKey(n))throw new ve(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kE(n){if(Ce.isDocumentKey(n))throw new ve(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function zC(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Nf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne(12329,{type:typeof n})}function ni(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nf(n);throw new ve(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function en(n,e){const t={typeString:n};return e&&(t.value=e),t}function Mu(n,e){if(!zC(n))throw new ve(ae.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const a=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(a&&typeof c!==a){t=`JSON field '${s}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ve(ae.INVALID_ARGUMENT,t);return!0}const IE=-62135596800,NE=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(e){return ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*NE);return new ze(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<IE)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NE}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Mu(e,ze._jsonSchema))return new ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-IE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:en("string",ze._jsonSchemaVersion),seconds:en("number"),nanoseconds:en("number")};class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new ze(0,0))}static max(){return new Oe(new ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const vu=-1;function Tj(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(s===1e9?new ze(t+1,0):new ze(t,s));return new Wr(a,Ce.empty(),e)}function xj(n){return new Wr(n.readTime,n.key,vu)}class Wr{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Wr(Oe.min(),Ce.empty(),vu)}static max(){return new Wr(Oe.max(),Ce.empty(),vu)}}function Ej(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(n.documentKey,e.documentKey),t!==0?t:Qe(n.largestBatchId,e.largestBatchId))}const Sj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Aj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ll(n){if(n.code!==ae.FAILED_PRECONDITION||n.message!==Sj)throw n;be("LocalStore","Unexpectedly lost primary lease")}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue(((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ue.reject(t)}static resolve(e){return new ue(((t,s)=>{t(e)}))}static reject(e){return new ue(((t,s)=>{s(e)}))}static waitFor(e){return new ue(((t,s)=>{let a=0,l=0,c=!1;e.forEach((h=>{++a,h.next((()=>{++l,c&&l===a&&t()}),(p=>s(p)))})),c=!0,l===a&&t()}))}static or(e){let t=ue.resolve(!1);for(const s of e)t=t.next((a=>a?ue.resolve(a):s()));return t}static forEach(e,t){const s=[];return e.forEach(((a,l)=>{s.push(t.call(this,a,l))})),this.waitFor(s)}static mapArray(e,t){return new ue(((s,a)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next((y=>{c[m]=y,++h,h===l&&s(c)}),(y=>a(y)))}}))}static doWhile(e,t){return new ue(((s,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):s()};l()}))}}function Cj(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function zl(n){return n.name==="IndexedDbTransactionError"}class Df{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Df.ce=-1;const L0=-1;function Mf(n){return n==null}function rf(n){return n===0&&1/n==-1/0}function Rj(n){return typeof n=="number"&&Number.isInteger(n)&&!rf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const jC="";function kj(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=DE(e)),e=Ij(n.get(t),e);return DE(e)}function Ij(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case jC:t+="";break;default:t+=l}}return t}function DE(n){return n+jC+""}function ME(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function aa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class It{constructor(e,t){this.comparator=e,this.root=t||yn.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bd(this.root,e,this.comparator,!0)}}class bd{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??yn.RED,this.left=a??yn.EMPTY,this.right=l??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new yn(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return yn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,t,s,a,l){return this}insert(e,t,s){return new yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rn{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new PE(this.data.getIterator())}getIteratorFrom(e){return new PE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof rn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new rn(this.comparator);return t.data=e,t}}class PE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new ti([])}unionWith(e){let t=new rn(vn.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new ti(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vl(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}class BC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new BC("Invalid base64 string: "+l):l}})(e);return new bn(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new bn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const Nj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jr(n){if(ct(!!n,39018),typeof n=="string"){let e=0;const t=Nj.exec(n);if(ct(!!t,46558,{timestamp:n}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Bt(n.seconds),nanos:Bt(n.nanos)}}function Bt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zr(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}const FC="server_timestamp",qC="__type__",HC="__previous_value__",$C="__local_write_time__";function z0(n){return(n?.mapValue?.fields||{})[qC]?.stringValue===FC}function Pf(n){const e=n.mapValue.fields[HC];return z0(e)?Pf(e):e}function bu(n){const e=Jr(n.mapValue.fields[$C].timestampValue);return new ze(e.seconds,e.nanos)}class Dj{constructor(e,t,s,a,l,c,h,p,m,y,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m,this.isUsingEmulator=y,this.apiKey=v}}const af="(default)";class _u{constructor(e,t){this.projectId=e,this.database=t||af}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===af}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}function Mj(n,e){if(!Object.prototype.hasOwnProperty.apply(n.options,["projectId"]))throw new ve(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(n.options.projectId,e)}const GC="__type__",Pj="__max__",_d={mapValue:{}},KC="__vector__",of="value";function ea(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?z0(n)?4:Vj(n)?9007199254740991:Oj(n)?10:11:Ne(28295,{value:n})}function xs(n,e){if(n===e)return!0;const t=ea(n);if(t!==ea(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return bu(n).isEqual(bu(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Jr(a.timestampValue),h=Jr(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(a,l){return Zr(a.bytesValue).isEqual(Zr(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)})(n,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Bt(a.doubleValue),h=Bt(l.doubleValue);return c===h?rf(c)===rf(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return vl(n.arrayValue.values||[],e.arrayValue.values||[],xs);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},h=l.mapValue.fields||{};if(ME(c)!==ME(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!xs(c[p],h[p])))return!1;return!0})(n,e);default:return Ne(52216,{left:n})}}function wu(n,e){return(n.values||[]).find((t=>xs(t,e)))!==void 0}function bl(n,e){if(n===e)return 0;const t=ea(n),s=ea(e);if(t!==s)return Qe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const h=Bt(l.integerValue||l.doubleValue),p=Bt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1})(n,e);case 3:return OE(n.timestampValue,e.timestampValue);case 4:return OE(bu(n),bu(e));case 5:return Ay(n.stringValue,e.stringValue);case 6:return(function(l,c){const h=Zr(l),p=Zr(c);return h.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const h=l.split("/"),p=c.split("/");for(let m=0;m<h.length&&m<p.length;m++){const y=Qe(h[m],p[m]);if(y!==0)return y}return Qe(h.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const h=Qe(Bt(l.latitude),Bt(c.latitude));return h!==0?h:Qe(Bt(l.longitude),Bt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return VE(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const h=l.fields||{},p=c.fields||{},m=h[of]?.arrayValue,y=p[of]?.arrayValue,v=Qe(m?.values?.length||0,y?.values?.length||0);return v!==0?v:VE(m,y)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===_d.mapValue&&c===_d.mapValue)return 0;if(l===_d.mapValue)return 1;if(c===_d.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),m=c.fields||{},y=Object.keys(m);p.sort(),y.sort();for(let v=0;v<p.length&&v<y.length;++v){const w=Ay(p[v],y[v]);if(w!==0)return w;const S=bl(h[p[v]],m[y[v]]);if(S!==0)return S}return Qe(p.length,y.length)})(n.mapValue,e.mapValue);default:throw Ne(23264,{he:t})}}function OE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qe(n,e);const t=Jr(n),s=Jr(e),a=Qe(t.seconds,s.seconds);return a!==0?a:Qe(t.nanos,s.nanos)}function VE(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=bl(t[a],s[a]);if(l)return l}return Qe(t.length,s.length)}function _l(n){return Cy(n)}function Cy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Jr(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zr(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ce.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Cy(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Cy(t.fields[c])}`;return a+"}"})(n.mapValue):Ne(61005,{value:n})}function Vd(n){switch(ea(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Pf(n);return e?16+Vd(e):16;case 5:return 2*n.stringValue.length;case 6:return Zr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((a,l)=>a+Vd(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let a=0;return aa(s.fields,((l,c)=>{a+=l.length+Vd(c)})),a})(n.mapValue);default:throw Ne(13486,{value:n})}}function LE(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ry(n){return!!n&&"integerValue"in n}function j0(n){return!!n&&"arrayValue"in n}function zE(n){return!!n&&"nullValue"in n}function jE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ld(n){return!!n&&"mapValue"in n}function Oj(n){return(n?.mapValue?.fields||{})[GC]?.stringValue===KC}function au(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return aa(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=au(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=au(n.arrayValue.values[t]);return e}return{...n}}function Vj(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===Pj}class Fn{constructor(e){this.value=e}static empty(){return new Fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Ld(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=au(t)}setAll(e){let t=vn.emptyPath(),s={},a=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=h.popLast()}c?s[h.lastSegment()]=au(c):a.push(h.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Ld(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xs(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Ld(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){aa(t,((a,l)=>e[a]=l));for(const a of s)delete e[a]}clone(){return new Fn(au(this.value))}}function YC(n){const e=[];return aa(n.fields,((t,s)=>{const a=new vn([t]);if(Ld(s)){const l=YC(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ti(e)}class Tn{constructor(e,t,s,a,l,c,h){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new Tn(e,0,Oe.min(),Oe.min(),Oe.min(),Fn.empty(),0)}static newFoundDocument(e,t,s,a){return new Tn(e,1,t,Oe.min(),s,a,0)}static newNoDocument(e,t){return new Tn(e,2,t,Oe.min(),Oe.min(),Fn.empty(),0)}static newUnknownDocument(e,t){return new Tn(e,3,t,Oe.min(),Oe.min(),Fn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lf{constructor(e,t){this.position=e,this.inclusive=t}}function UE(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?s=Ce.comparator(Ce.fromName(c.referenceValue),t.key):s=bl(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function BE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xs(n.position[t],e.position[t]))return!1;return!0}class cf{constructor(e,t="asc"){this.field=e,this.dir=t}}function Lj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class QC{}class Zt extends QC{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new jj(e,t,s):t==="array-contains"?new Fj(e,s):t==="in"?new qj(e,s):t==="not-in"?new Hj(e,s):t==="array-contains-any"?new $j(e,s):new Zt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new Uj(e,s):new Bj(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(bl(t,this.value)):t!==null&&ea(this.value)===ea(t)&&this.matchesComparison(bl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fi extends QC{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Fi(e,t)}matches(e){return XC(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function XC(n){return n.op==="and"}function WC(n){return zj(n)&&XC(n)}function zj(n){for(const e of n.filters)if(e instanceof Fi)return!1;return!0}function ky(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+_l(n.value);if(WC(n))return n.filters.map((e=>ky(e))).join(",");{const e=n.filters.map((t=>ky(t))).join(",");return`${n.op}(${e})`}}function JC(n,e){return n instanceof Zt?(function(s,a){return a instanceof Zt&&s.op===a.op&&s.field.isEqual(a.field)&&xs(s.value,a.value)})(n,e):n instanceof Fi?(function(s,a){return a instanceof Fi&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce(((l,c,h)=>l&&JC(c,a.filters[h])),!0):!1})(n,e):void Ne(19439)}function ZC(n){return n instanceof Zt?(function(t){return`${t.field.canonicalString()} ${t.op} ${_l(t.value)}`})(n):n instanceof Fi?(function(t){return t.op.toString()+" {"+t.getFilters().map(ZC).join(" ,")+"}"})(n):"Filter"}class jj extends Zt{constructor(e,t,s){super(e,t,s),this.key=Ce.fromName(s.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class Uj extends Zt{constructor(e,t){super(e,"in",t),this.keys=eR("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Bj extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=eR("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function eR(n,e){return(e.arrayValue?.values||[]).map((t=>Ce.fromName(t.referenceValue)))}class Fj extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return j0(t)&&wu(t.arrayValue,this.value)}}class qj extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&wu(this.value.arrayValue,t)}}class Hj extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!wu(this.value.arrayValue,t)}}class $j extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!j0(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>wu(this.value.arrayValue,s)))}}class Gj{constructor(e,t=null,s=[],a=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=h,this.Te=null}}function FE(n,e=null,t=[],s=[],a=null,l=null,c=null){return new Gj(n,e,t,s,a,l,c)}function U0(n){const e=je(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>ky(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Mf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>_l(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>_l(s))).join(",")),e.Te=t}return e.Te}function B0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Lj(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!JC(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BE(n.startAt,e.startAt)&&BE(n.endAt,e.endAt)}function Iy(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Pu{constructor(e,t=null,s=[],a=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Kj(n,e,t,s,a,l,c,h){return new Pu(n,e,t,s,a,l,c,h)}function Of(n){return new Pu(n)}function qE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Yj(n){return Ce.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function tR(n){return n.collectionGroup!==null}function ou(n){const e=je(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new rn(vn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new cf(l,s))})),t.has(vn.keyField().canonicalString())||e.Ie.push(new cf(vn.keyField(),s))}return e.Ie}function ys(n){const e=je(n);return e.Ee||(e.Ee=Qj(e,ou(n))),e.Ee}function Qj(n,e){if(n.limitType==="F")return FE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new cf(a.field,l)}));const t=n.endAt?new lf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new lf(n.startAt.position,n.startAt.inclusive):null;return FE(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Ny(n,e){const t=n.filters.concat([e]);return new Pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Dy(n,e,t){return new Pu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Vf(n,e){return B0(ys(n),ys(e))&&n.limitType===e.limitType}function nR(n){return`${U0(ys(n))}|lt:${n.limitType}`}function tl(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((a=>ZC(a))).join(", ")}]`),Mf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((a=>_l(a))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((a=>_l(a))).join(",")),`Target(${s})`})(ys(n))}; limitType=${n.limitType})`}function Lf(n,e){return e.isFoundDocument()&&(function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ce.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,a){for(const l of ou(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0})(n,e)&&(function(s,a){return!(s.startAt&&!(function(c,h,p){const m=UE(c,h,p);return c.inclusive?m<=0:m<0})(s.startAt,ou(s),a)||s.endAt&&!(function(c,h,p){const m=UE(c,h,p);return c.inclusive?m>=0:m>0})(s.endAt,ou(s),a))})(n,e)}function Xj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iR(n){return(e,t)=>{let s=!1;for(const a of ou(n)){const l=Wj(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function Wj(n,e,t){const s=n.field.isKeyField()?Ce.comparator(e.key,t.key):(function(l,c,h){const p=c.data.field(l),m=h.data.field(l);return p!==null&&m!==null?bl(p,m):Ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ne(19790,{direction:n.dir})}}class so{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){aa(this.inner,((t,s)=>{for(const[a,l]of s)e(a,l)}))}isEmpty(){return UC(this.inner)}size(){return this.innerSize}}const Jj=new It(Ce.comparator);function ir(){return Jj}const sR=new It(Ce.comparator);function Qc(...n){let e=sR;for(const t of n)e=e.insert(t.key,t);return e}function rR(n){let e=sR;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ha(){return lu()}function aR(){return lu()}function lu(){return new so((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Zj=new It(Ce.comparator),e6=new rn(Ce.comparator);function Xe(...n){let e=e6;for(const t of n)e=e.add(t);return e}const t6=new rn(Qe);function n6(){return t6}function F0(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(e)?"-0":e}}function oR(n){return{integerValue:""+n}}function lR(n,e){return Rj(e)?oR(e):F0(n,e)}class zf{constructor(){this._=void 0}}function i6(n,e,t){return n instanceof uf?(function(a,l){const c={fields:{[qC]:{stringValue:FC},[$C]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&z0(l)&&(l=Pf(l)),l&&(c.fields[HC]=l),{mapValue:c}})(t,e):n instanceof wl?uR(n,e):n instanceof Tl?hR(n,e):(function(a,l){const c=cR(a,l),h=HE(c)+HE(a.Ae);return Ry(c)&&Ry(a.Ae)?oR(h):F0(a.serializer,h)})(n,e)}function s6(n,e,t){return n instanceof wl?uR(n,e):n instanceof Tl?hR(n,e):t}function cR(n,e){return n instanceof Tu?(function(s){return Ry(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class uf extends zf{}class wl extends zf{constructor(e){super(),this.elements=e}}function uR(n,e){const t=dR(e);for(const s of n.elements)t.some((a=>xs(a,s)))||t.push(s);return{arrayValue:{values:t}}}class Tl extends zf{constructor(e){super(),this.elements=e}}function hR(n,e){let t=dR(e);for(const s of n.elements)t=t.filter((a=>!xs(a,s)));return{arrayValue:{values:t}}}class Tu extends zf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function HE(n){return Bt(n.integerValue||n.doubleValue)}function dR(n){return j0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class q0{constructor(e,t){this.field=e,this.transform=t}}function r6(n,e){return n.field.isEqual(e.field)&&(function(s,a){return s instanceof wl&&a instanceof wl||s instanceof Tl&&a instanceof Tl?vl(s.elements,a.elements,xs):s instanceof Tu&&a instanceof Tu?xs(s.Ae,a.Ae):s instanceof uf&&a instanceof uf})(n.transform,e.transform)}class a6{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class jf{}function fR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new H0(n.key,wi.none()):new Ou(n.key,n.data,wi.none());{const t=n.data,s=Fn.empty();let a=new rn(vn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new oa(n.key,s,new ti(a.toArray()),wi.none())}}function o6(n,e,t){n instanceof Ou?(function(a,l,c){const h=a.value.clone(),p=GE(a.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof oa?(function(a,l,c){if(!zd(a.precondition,l))return void l.convertToUnknownDocument(c.version);const h=GE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(mR(a)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function cu(n,e,t,s){return n instanceof Ou?(function(l,c,h,p){if(!zd(l.precondition,c))return h;const m=l.value.clone(),y=KE(l.fieldTransforms,p,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,e,t,s):n instanceof oa?(function(l,c,h,p){if(!zd(l.precondition,c))return h;const m=KE(l.fieldTransforms,p,c),y=c.data;return y.setAll(mR(l)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((v=>v.field)))})(n,e,t,s):(function(l,c,h){return zd(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function l6(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=cR(s.transform,a||null);l!=null&&(t===null&&(t=Fn.empty()),t.set(s.field,l))}return t||null}function $E(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&vl(s,a,((l,c)=>r6(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ou extends jf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oa extends jf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function mR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function GE(n,e,t){const s=new Map;ct(n.length===t.length,32656,{Ve:t.length,de:n.length});for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,h=e.data.field(l.field);s.set(l.field,s6(c,h,t[a]))}return s}function KE(n,e,t){const s=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);s.set(a.field,i6(l,c,e))}return s}class H0 extends jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c6 extends jf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class u6{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&o6(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=cu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=aR();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(a.key)?null:h;const p=fR(c,h);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Oe.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xe())}isEqual(e){return this.batchId===e.batchId&&vl(this.mutations,e.mutations,((t,s)=>$E(t,s)))&&vl(this.baseMutations,e.baseMutations,((t,s)=>$E(t,s)))}}class $0{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){ct(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let a=(function(){return Zj})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new $0(e,t,s,a)}}class h6{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class d6{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wt,et;function f6(n){switch(n){case ae.OK:return Ne(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Ne(15467,{code:n})}}function pR(n){if(n===void 0)return nr("GRPC error has no .code"),ae.UNKNOWN;switch(n){case Wt.OK:return ae.OK;case Wt.CANCELLED:return ae.CANCELLED;case Wt.UNKNOWN:return ae.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return ae.INTERNAL;case Wt.UNAVAILABLE:return ae.UNAVAILABLE;case Wt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Wt.NOT_FOUND:return ae.NOT_FOUND;case Wt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Wt.ABORTED:return ae.ABORTED;case Wt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Wt.DATA_LOSS:return ae.DATA_LOSS;default:return Ne(39323,{code:n})}}(et=Wt||(Wt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";function m6(){return new TextEncoder}const p6=new Kr([4294967295,4294967295],0);function YE(n){const e=m6().encode(n),t=new IC;return t.update(e),new Uint8Array(t.digest())}function QE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Kr([t,s],0),new Kr([a,l],0)]}class G0{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Xc(`Invalid padding: ${t}`);if(s<0)throw new Xc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xc(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Xc(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Kr.fromNumber(this.ge)}ye(e,t,s){let a=e.add(t.multiply(Kr.fromNumber(s)));return a.compare(p6)===1&&(a=new Kr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=YE(e),[s,a]=QE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new G0(l,a,t);return s.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=YE(e),[s,a]=QE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Xc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Uf(Oe.min(),a,new It(Qe),ir(),Xe())}}class Vu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Vu(s,t,Xe(),Xe(),Xe())}}class jd{constructor(e,t,s,a){this.Se=e,this.removedTargetIds=t,this.key=s,this.De=a}}class gR{constructor(e,t){this.targetId=e,this.Ce=t}}class yR{constructor(e,t,s=bn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class XE{constructor(){this.ve=0,this.Fe=WE(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Xe(),t=Xe(),s=Xe();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:Ne(38017,{changeType:l})}})),new Vu(this.Me,this.xe,e,t,s)}Ke(){this.Oe=!1,this.Fe=WE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ct(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class g6{constructor(e){this.Ge=e,this.ze=new Map,this.je=ir(),this.He=wd(),this.Je=wd(),this.Ze=new It(Qe)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ne(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,s=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Iy(l))if(s===0){const c=new Ce(l.path);this.et(t,c,Tn.newNoDocument(c,Oe.min()))}else ct(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const h=this.ut(e),p=h?this.ct(h,e,c):1;if(p!==0){this.it(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,h;try{c=Zr(s).toUint8Array()}catch(p){if(p instanceof BC)return yl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new G0(c,a,l)}catch(p){return yl(p instanceof Xc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.ge===0?null:h}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let a=0;return s.forEach((l=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const h=this.ot(c);if(h){if(l.current&&Iy(h.target)){const p=new Ce(h.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,Tn.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let s=Xe();this.Je.forEach(((l,c)=>{let h=!0;c.forEachWhile((p=>{const m=this.ot(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Uf(e,t,this.Ze,this.je,s);return this.je=ir(),this.He=wd(),this.Je=wd(),this.Ze=new It(Qe),a}Ye(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,s),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new XE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new rn(Qe),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new rn(Qe),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||be("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new XE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function wd(){return new It(Ce.comparator)}function WE(){return new It(Ce.comparator)}const y6={asc:"ASCENDING",desc:"DESCENDING"},v6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},b6={and:"AND",or:"OR"};class _6{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function My(n,e){return n.useProto3Json||Mf(e)?e:{value:e}}function hf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function w6(n,e){return hf(n,e.toTimestamp())}function vs(n){return ct(!!n,49232),Oe.fromTimestamp((function(t){const s=Jr(t);return new ze(s.seconds,s.nanos)})(n))}function K0(n,e){return Py(n,e).canonicalString()}function Py(n,e){const t=(function(a){return new wt(["projects",a.projectId,"databases",a.database])})(n).child("documents");return e===void 0?t:t.child(e)}function bR(n){const e=wt.fromString(n);return ct(ER(e),10190,{key:e.toString()}),e}function Oy(n,e){return K0(n.databaseId,e.path)}function Dg(n,e){const t=bR(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ce(wR(t))}function _R(n,e){return K0(n.databaseId,e)}function T6(n){const e=bR(n);return e.length===4?wt.emptyPath():wR(e)}function Vy(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function wR(n){return ct(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function JE(n,e,t){return{name:Oy(n,e),fields:t.value.mapValue.fields}}function x6(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne(39313,{state:m})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(m,y){return m.useProto3Json?(ct(y===void 0||typeof y=="string",58123),bn.fromBase64String(y||"")):(ct(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),bn.fromUint8Array(y||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?ae.UNKNOWN:pR(m.code);return new ve(y,m.message||"")})(c);t=new yR(s,a,l,h||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=Dg(n,s.document.name),l=vs(s.document.updateTime),c=s.document.createTime?vs(s.document.createTime):Oe.min(),h=new Fn({mapValue:{fields:s.document.fields}}),p=Tn.newFoundDocument(a,l,c,h),m=s.targetIds||[],y=s.removedTargetIds||[];t=new jd(m,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=Dg(n,s.document),l=s.readTime?vs(s.readTime):Oe.min(),c=Tn.newNoDocument(a,l),h=s.removedTargetIds||[];t=new jd([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=Dg(n,s.document),l=s.removedTargetIds||[];t=new jd([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new d6(a,l),h=s.targetId;t=new gR(h,c)}}return t}function E6(n,e){let t;if(e instanceof Ou)t={update:JE(n,e.key,e.value)};else if(e instanceof H0)t={delete:Oy(n,e.key)};else if(e instanceof oa)t={update:JE(n,e.key,e.data),updateMask:M6(e.fieldMask)};else{if(!(e instanceof c6))return Ne(16599,{dt:e.type});t={verify:Oy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const h=c.transform;if(h instanceof uf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof wl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Tl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Tu)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw Ne(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:w6(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)})(n,e.precondition)),t}function S6(n,e){return n&&n.length>0?(ct(e!==void 0,14353),n.map((t=>(function(a,l){let c=a.updateTime?vs(a.updateTime):vs(l);return c.isEqual(Oe.min())&&(c=vs(l)),new a6(c,a.transformResults||[])})(t,e)))):[]}function A6(n,e){return{documents:[_R(n,e.path)]}}function C6(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=_R(n,a);const l=(function(m){if(m.length!==0)return xR(Fi.create(m,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(m){if(m.length!==0)return m.map((y=>(function(w){return{field:nl(w.field),direction:I6(w.dir)}})(y)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=My(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(e.endAt)),{ft:t,parent:a}}function R6(n){let e=T6(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){ct(s===1,65062);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=(function(v){const w=TR(v);return w instanceof Fi&&WC(w)?w.getFilters():[w]})(t.where));let c=[];t.orderBy&&(c=(function(v){return v.map((w=>(function(N){return new cf(il(N.field),(function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(w)))})(t.orderBy));let h=null;t.limit&&(h=(function(v){let w;return w=typeof v=="object"?v.value:v,Mf(w)?null:w})(t.limit));let p=null;t.startAt&&(p=(function(v){const w=!!v.before,S=v.values||[];return new lf(S,w)})(t.startAt));let m=null;return t.endAt&&(m=(function(v){const w=!v.before,S=v.values||[];return new lf(S,w)})(t.endAt)),Kj(e,a,c,l,h,"F",p,m)}function k6(n,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function TR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=il(t.unaryFilter.field);return Zt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=il(t.unaryFilter.field);return Zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=il(t.unaryFilter.field);return Zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=il(t.unaryFilter.field);return Zt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Zt.create(il(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Fi.create(t.compositeFilter.filters.map((s=>TR(s))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}})(t.compositeFilter.op))})(n):Ne(30097,{filter:n})}function I6(n){return y6[n]}function N6(n){return v6[n]}function D6(n){return b6[n]}function nl(n){return{fieldPath:n.canonicalString()}}function il(n){return vn.fromServerFormat(n.fieldPath)}function xR(n){return n instanceof Zt?(function(t){if(t.op==="=="){if(jE(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NAN"}};if(zE(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jE(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NAN"}};if(zE(t.value))return{unaryFilter:{field:nl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nl(t.field),op:N6(t.op),value:t.value}}})(n):n instanceof Fi?(function(t){const s=t.getFilters().map((a=>xR(a)));return s.length===1?s[0]:{compositeFilter:{op:D6(t.op),filters:s}}})(n):Ne(54877,{filter:n})}function M6(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ER(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function SR(n){return!!n&&typeof n._toProto=="function"&&n._protoValueType==="ProtoValue"}class $r{constructor(e,t,s,a,l=Oe.min(),c=Oe.min(),h=bn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class P6{constructor(e){this.yt=e}}function O6(n){const e=R6({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Dy(e,e.limit,"L"):e}class V6{constructor(){this.Sn=new L6}addToCollectionParentIndex(e,t){return this.Sn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(Wr.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(Wr.min())}updateCollectionGroup(e,t,s){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class L6{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new rn(wt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new rn(wt.comparator)).toArray()}}const ZE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},AR=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(AR,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);class xl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new xl(0)}static ar(){return new xl(-1)}}const e1="LruGarbageCollector",CR=1048576;function t1([n,e],[t,s]){const a=Qe(n,t);return a===0?Qe(e,s):a}class z6{constructor(e){this.Pr=e,this.buffer=new rn(t1),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();t1(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class j6{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){be(e1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){zl(t)?be(e1,"Ignoring IndexedDB error during garbage collection: ",t):await Ll(t)}await this.Ar(3e5)}))}}class U6{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return ue.resolve(Df.ce);const s=new z6(t);return this.Vr.forEachTarget(e,(a=>s.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>s.Er(a))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(be("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(ZE)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(be("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let s,a,l,c,h,p,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((v=>(v>this.params.maximumSequenceNumbersToCollect?(be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,c=Date.now(),this.nthSequenceNumber(e,a)))).next((v=>(s=v,h=Date.now(),this.removeTargets(e,s,t)))).next((v=>(l=v,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((v=>(m=Date.now(),el()<=Ye.DEBUG&&be("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${v} documents in `+(m-p)+`ms
Total Duration: ${m-y}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v}))))}}function B6(n,e){return new U6(n,e)}class F6{constructor(){this.changes=new so((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ue.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class q6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class H6{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(s=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(s!==null&&cu(s.mutation,a,ti.empty(),ze.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Xe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Xe()){const a=Ha();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,s).next((l=>{let c=Qc();return l.forEach(((h,p)=>{c=c.insert(h,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Ha();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Xe())))}populateOverlays(e,t,s){const a=[];return s.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,s,a){let l=ir();const c=lu(),h=(function(){return lu()})();return t.forEach(((p,m)=>{const y=s.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof oa)?l=l.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),cu(y.mutation,m,y.mutation.getFieldMask(),ze.now())):c.set(m.key,ti.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((m,y)=>c.set(m,y))),t.forEach(((m,y)=>h.set(m,new q6(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(e,t){const s=lu();let a=new It(((c,h)=>c-h)),l=Xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((p=>{const m=t.get(p);if(m===null)return;let y=s.get(p)||ti.empty();y=h.applyToLocalView(m,y),s.set(p,y);const v=(a.get(h.batchId)||Xe()).add(p);a=a.insert(h.batchId,v)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),m=p.key,y=p.value,v=aR();y.forEach((w=>{if(!l.has(w)){const S=fR(t.get(w),s.get(w));S!==null&&v.set(w,S),l=l.add(w)}})),c.push(this.documentOverlayCache.saveOverlays(e,m,v))}return ue.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,a){return Yj(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ue.resolve(Ha());let h=vu,p=l;return c.next((m=>ue.forEach(m,((y,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(y)?ue.resolve():this.remoteDocumentCache.getEntry(e,y).next((w=>{p=p.insert(y,w)}))))).next((()=>this.populateOverlays(e,m,l))).next((()=>this.computeViews(e,p,m,Xe()))).next((y=>({batchId:h,changes:rR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next((s=>{let a=Qc();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=Qc();return this.indexManager.getCollectionParents(e,l).next((h=>ue.forEach(h,(p=>{const m=(function(v,w){return new Pu(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,a).next((y=>{y.forEach(((v,w)=>{c=c.insert(v,w)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a)))).next((c=>{l.forEach(((p,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,Tn.newInvalidDocument(y)))}));let h=Qc();return c.forEach(((p,m)=>{const y=l.get(p);y!==void 0&&cu(y.mutation,m,ti.empty(),ze.now()),Lf(t,m)&&(h=h.insert(p,m))})),h}))}}class $6{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return ue.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:vs(a.createTime)}})(t)),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:O6(a.bundledQuery),readTime:vs(a.readTime)}})(t)),ue.resolve()}}class G6{constructor(){this.overlays=new It(Ce.comparator),this.Lr=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ha();return ue.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&s.set(a,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((a,l)=>{this.bt(e,t,l)})),ue.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Lr.get(s);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(s)),ue.resolve()}getOverlaysForCollection(e,t,s){const a=Ha(),l=t.length+1,c=new Ce(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ue.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new It(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>s){let y=l.get(m.largestBatchId);y===null&&(y=Ha(),l=l.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Ha(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return ue.resolve(h)}bt(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(s.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new h6(t,s));let l=this.Lr.get(t);l===void 0&&(l=Xe(),this.Lr.set(t,l)),this.Lr.set(t,l.add(s.key))}}class K6{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ue.resolve()}}class Y0{constructor(){this.kr=new rn(un.Kr),this.qr=new rn(un.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const s=new un(e,t);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new un(e,t))}Qr(e,t){e.forEach((s=>this.removeReference(s,t)))}Gr(e){const t=new Ce(new wt([])),s=new un(t,e),a=new un(t,e+1),l=[];return this.qr.forEachInRange([s,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Ce(new wt([])),s=new un(t,e),a=new un(t,e+1);let l=Xe();return this.qr.forEachInRange([s,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new un(e,0),s=this.kr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class un{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Ce.comparator(e.key,t.key)||Qe(e.Hr,t.Hr)}static Ur(e,t){return Qe(e.Hr,t.Hr)||Ce.comparator(e.key,t.key)}}class Y6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new rn(un.Kr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new u6(l,t,s,a);this.mutationQueue.push(c);for(const h of a)this.Jr=this.Jr.add(new un(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Xr(s),l=a<0?0:a;return ue.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?L0:this.Yn-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new un(t,0),a=new un(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([s,a],(c=>{const h=this.Zr(c.Hr);l.push(h)})),ue.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new rn(Qe);return t.forEach((a=>{const l=new un(a,0),c=new un(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(h=>{s=s.add(h.Hr)}))})),ue.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Ce.isDocumentKey(l)||(l=l.child(""));const c=new un(new Ce(l),0);let h=new rn(Qe);return this.Jr.forEachWhile((p=>{const m=p.key.path;return!!s.isPrefixOf(m)&&(m.length===a&&(h=h.add(p.Hr)),!0)}),c),ue.resolve(this.Yr(h))}Yr(e){const t=[];return e.forEach((s=>{const a=this.Zr(s);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){ct(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return ue.forEach(t.mutations,(a=>{const l=new un(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,t){const s=new un(t,0),a=this.Jr.firstAfterOrEqual(s);return ue.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Q6{constructor(e){this.ti=e,this.docs=(function(){return new It(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ue.resolve(s?s.document.mutableCopy():Tn.newInvalidDocument(t))}getEntries(e,t){let s=ir();return t.forEach((a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():Tn.newInvalidDocument(a))})),ue.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=ir();const c=t.path,h=new Ce(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:m,value:{document:y}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||Ej(xj(y),s)<=0||(a.has(y.key)||Lf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ue.resolve(l)}getAllFromCollectionGroup(e,t,s,a){Ne(9500)}ni(e,t){return ue.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new X6(this)}getSize(e){return ue.resolve(this.size)}}class X6 extends F6{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(s)})),ue.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class W6{constructor(e){this.persistence=e,this.ri=new so((t=>U0(t)),B0),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.ii=0,this.si=new Y0,this.targetCount=0,this.oi=xl._r()}forEachTarget(e,t){return this.ri.forEach(((s,a)=>t(a))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.ii&&(this.ii=t),ue.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new xl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.lr(t),ue.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.ri.forEach(((c,h)=>{h.sequenceNumber<=t&&s.get(h.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)})),ue.waitFor(l).next((()=>a))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const s=this.ri.get(t)||null;return ue.resolve(s)}addMatchingKeys(e,t,s){return this.si.$r(t,s),ue.resolve()}removeMatchingKeys(e,t,s){this.si.Qr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),ue.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const s=this.si.jr(t);return ue.resolve(s)}containsKey(e,t){return ue.resolve(this.si.containsKey(t))}}class RR{constructor(e,t){this._i={},this.overlays={},this.ai=new Df(0),this.ui=!1,this.ui=!0,this.ci=new K6,this.referenceDelegate=e(this),this.li=new W6(this),this.indexManager=new V6,this.remoteDocumentCache=(function(a){return new Q6(a)})((s=>this.referenceDelegate.hi(s))),this.serializer=new P6(t),this.Pi=new $6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new G6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this._i[e.toKey()];return s||(s=new Y6(t,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,s){be("MemoryPersistence","Starting transaction:",e);const a=new J6(this.ai.next());return this.referenceDelegate.Ti(),s(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return ue.or(Object.values(this._i).map((s=>()=>s.containsKey(e,t))))}}class J6 extends Aj{constructor(e){super(),this.currentSequenceNumber=e}}class Q0{constructor(e){this.persistence=e,this.Ri=new Y0,this.Ai=null}static Vi(e){return new Q0(e)}get di(){if(this.Ai)return this.Ai;throw Ne(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.di.delete(s.toString()),ue.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.di.add(s.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.di,(s=>{const a=Ce.fromPath(s);return this.mi(e,a).next((l=>{l||t.removeEntry(a,Oe.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((s=>{s?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return ue.or([()=>ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class df{constructor(e,t){this.persistence=e,this.fi=new so((s=>kj(s.path)),((s,a)=>s.isEqual(a))),this.garbageCollector=B6(this,t)}static Vi(e,t){return new df(e,t)}Ti(){}Ii(e){return ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((a=>s+a))))}pr(e){let t=0;return this.mr(e,(s=>{t++})).next((()=>t))}mr(e,t){return ue.forEach(this.fi,((s,a)=>this.wr(e,s,a).next((l=>l?ue.resolve():t(a)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((h=>{h||(s++,l.removeEntry(c,Oe.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),ue.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),ue.resolve()}removeReference(e,t,s){return this.fi.set(s,e.currentSequenceNumber),ue.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),ue.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Vd(e.data.value)),t}wr(e,t,s){return ue.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return ue.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class X0{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Ts=s,this.Is=a}static Es(e,t){let s=Xe(),a=Xe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new X0(e,t.fromCache,s,a)}}class Z6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class e3{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Y4()?8:Cj(An())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new Z6;return this.ys(e,t,c).next((h=>{if(l.result=h,this.As)return this.ws(e,t,c,h.size)}))})).next((()=>l.result))}ws(e,t,s,a){return s.documentReadCount<this.Vs?(el()<=Ye.DEBUG&&be("QueryEngine","SDK will not create cache indexes for query:",tl(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),ue.resolve()):(el()<=Ye.DEBUG&&be("QueryEngine","Query:",tl(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ds*a?(el()<=Ye.DEBUG&&be("QueryEngine","The SDK decides to create cache indexes for query:",tl(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ys(t))):ue.resolve())}gs(e,t){if(qE(t))return ue.resolve(null);let s=ys(t);return this.indexManager.getIndexType(e,s).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Dy(t,null,"F"),s=ys(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=Xe(...l);return this.fs.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,s).next((p=>{const m=this.bs(t,h);return this.Ss(t,m,c,p.readTime)?this.gs(e,Dy(t,null,"F")):this.Ds(e,m,t,p)}))))})))))}ps(e,t,s,a){return qE(t)||a.isEqual(Oe.min())?ue.resolve(null):this.fs.getDocuments(e,s).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,s,a)?ue.resolve(null):(el()<=Ye.DEBUG&&be("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),tl(t)),this.Ds(e,c,t,Tj(a,vu)).next((h=>h)))}))}bs(e,t){let s=new rn(iR(e));return t.forEach(((a,l)=>{Lf(e,l)&&(s=s.add(l))})),s}Ss(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,s){return el()<=Ye.DEBUG&&be("QueryEngine","Using full collection scan to execute query:",tl(t)),this.fs.getDocumentsMatchingQuery(e,t,Wr.min(),s)}Ds(e,t,s,a){return this.fs.getDocumentsMatchingQuery(e,s,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const W0="LocalStore",t3=3e8;class n3{constructor(e,t,s,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new It(Qe),this.Fs=new so((l=>U0(l)),B0),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H6(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function i3(n,e,t,s){return new n3(n,e,t,s)}async function kR(n,e){const t=je(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],h=[];let p=Xe();for(const m of a){c.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}for(const m of l){h.push(m.batchId);for(const y of m.mutations)p=p.add(y.key)}return t.localDocuments.getDocuments(s,p).next((m=>({Ns:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function s3(n,e){const t=je(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(h,p,m,y){const v=m.batch,w=v.keys();let S=ue.resolve();return w.forEach((N=>{S=S.next((()=>y.getEntry(p,N))).next((j=>{const L=m.docVersions.get(N);ct(L!==null,48541),j.version.compareTo(L)<0&&(v.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),y.addEntry(j)))}))})),S.next((()=>h.mutationQueue.removeMutationBatch(p,v)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(h){let p=Xe();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(p=p.add(h.batch.mutations[m].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,a)))}))}function IR(n){const e=je(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function r3(n,e){const t=je(n),s=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const h=[];e.targetChanges.forEach(((y,v)=>{const w=a.get(v);if(!w)return;h.push(t.li.removeMatchingKeys(l,y.removedDocuments,v).next((()=>t.li.addMatchingKeys(l,y.addedDocuments,v))));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?S=S.withResumeToken(bn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,s)),a=a.insert(v,S),(function(j,L,F){return j.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=t3?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(w,S,y)&&h.push(t.li.updateTargetData(l,S))}));let p=ir(),m=Xe();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))})),h.push(a3(l,c,e.documentUpdates).next((y=>{p=y.Bs,m=y.Ls}))),!s.isEqual(Oe.min())){const y=t.li.getLastRemoteSnapshotVersion(l).next((v=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,s)));h.push(y)}return ue.waitFor(h).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,m))).next((()=>p))})).then((l=>(t.vs=a,l)))}function a3(n,e,t){let s=Xe(),a=Xe();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let c=ir();return t.forEach(((h,p)=>{const m=l.get(h);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):be(W0,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",p.version)})),{Bs:c,Ls:a}}))}function o3(n,e){const t=je(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=L0),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function l3(n,e){const t=je(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let a;return t.li.getTargetData(s,e).next((l=>l?(a=l,ue.resolve(a)):t.li.allocateTargetId(s).next((c=>(a=new $r(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.li.addTargetData(s,a).next((()=>a)))))))})).then((s=>{const a=t.vs.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(s.targetId,s),t.Fs.set(e,s.targetId)),s}))}async function Ly(n,e,t){const s=je(n),a=s.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!zl(c))throw c;be(W0,`Failed to update sequence numbers for target ${e}: ${c}`)}s.vs=s.vs.remove(e),s.Fs.delete(a.target)}function n1(n,e,t){const s=je(n);let a=Oe.min(),l=Xe();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,m,y){const v=je(p),w=v.Fs.get(y);return w!==void 0?ue.resolve(v.vs.get(w)):v.li.getTargetData(m,y)})(s,c,ys(e)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(c,h.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(c,e,t?a:Oe.min(),t?l:Xe()))).next((h=>(c3(s,Xj(e),h),{documents:h,ks:l})))))}function c3(n,e,t){let s=n.Ms.get(e)||Oe.min();t.forEach(((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Ms.set(e,s)}class i1{constructor(){this.activeTargetIds=n6()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class u3{constructor(){this.vo=new i1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,s){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new i1,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class h3{Mo(e){}shutdown(){}}const s1="ConnectivityMonitor";class r1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){be(s1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){be(s1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Td=null;function zy(){return Td===null?Td=(function(){return 268435456+Math.round(2147483648*Math.random())})():Td++,"0x"+Td.toString(16)}const Mg="RestConnection",d3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class f3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${s}/databases/${a}`,this.$o=this.databaseId.database===af?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Wo(e,t,s,a,l){const c=zy(),h=this.Qo(e,t.toUriEncodedString());be(Mg,`Sending RPC '${e}' ${c}:`,h,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(p,a,l);const{host:m}=new URL(h),y=Nl(m);return this.zo(e,h,p,s,y).then((v=>(be(Mg,`Received RPC '${e}' ${c}: `,v),v)),(v=>{throw yl(Mg,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",s),v}))}jo(e,t,s,a,l,c){return this.Wo(e,t,s,a,l)}Go(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),s&&s.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const s=d3[e];let a=`${this.qo}/v1/${t}:${s}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class m3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const wn="WebChannelConnection",Hc=(n,e,t)=>{n.listen(e,(s=>{try{t(s)}catch(a){setTimeout((()=>{throw a}),0)}}))};class fl extends f3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!fl.c_){const e=PC();Hc(e,MC.STAT_EVENT,(t=>{t.stat===Sy.PROXY?be(wn,"STAT_EVENT: detected buffering proxy"):t.stat===Sy.NOPROXY&&be(wn,"STAT_EVENT: detected no buffering proxy")})),fl.c_=!0}}zo(e,t,s,a,l){const c=zy();return new Promise(((h,p)=>{const m=new NC;m.setWithCredentials(!0),m.listenOnce(DC.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Od.NO_ERROR:const v=m.getResponseJson();be(wn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(v)),h(v);break;case Od.TIMEOUT:be(wn,`RPC '${e}' ${c} timed out`),p(new ve(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const w=m.getStatus();if(be(wn,`RPC '${e}' ${c} failed with status:`,w,"response text:",m.getResponseText()),w>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const N=S?.error;if(N&&N.status&&N.message){const j=(function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(W)>=0?W:ae.UNKNOWN})(N.status);p(new ve(j,N.message))}else p(new ve(ae.UNKNOWN,"Server responded with status "+m.getStatus()))}else p(new ve(ae.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{l_:e,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{be(wn,`RPC '${e}' ${c} completed.`)}}));const y=JSON.stringify(a);be(wn,`RPC '${e}' ${c} sending request:`,a),m.send(t,"POST",y,s,15)}))}T_(e,t,s){const a=zy(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Go(h.initMessageHeaders,t,s),h.encodeInitMessageHeaders=!0;const m=l.join("");be(wn,`Creating RPC '${e}' stream ${a}: ${m}`,h);const y=c.createWebChannel(m,h);this.I_(y);let v=!1,w=!1;const S=new m3({Ho:N=>{w?be(wn,`Not sending because RPC '${e}' stream ${a} is closed:`,N):(v||(be(wn,`Opening RPC '${e}' stream ${a} transport.`),y.open(),v=!0),be(wn,`RPC '${e}' stream ${a} sending:`,N),y.send(N))},Jo:()=>y.close()});return Hc(y,Yc.EventType.OPEN,(()=>{w||(be(wn,`RPC '${e}' stream ${a} transport opened.`),S.i_())})),Hc(y,Yc.EventType.CLOSE,(()=>{w||(w=!0,be(wn,`RPC '${e}' stream ${a} transport closed`),S.o_(),this.E_(y))})),Hc(y,Yc.EventType.ERROR,(N=>{w||(w=!0,yl(wn,`RPC '${e}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),S.o_(new ve(ae.UNAVAILABLE,"The operation could not be completed")))})),Hc(y,Yc.EventType.MESSAGE,(N=>{if(!w){const j=N.data[0];ct(!!j,16349);const L=j,F=L?.error||L[0]?.error;if(F){be(wn,`RPC '${e}' stream ${a} received error:`,F);const W=F.status;let J=(function(me){const R=Wt[me];if(R!==void 0)return pR(R)})(W),re=F.message;W==="NOT_FOUND"&&re.includes("database")&&re.includes("does not exist")&&re.includes(this.databaseId.database)&&yl(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),J===void 0&&(J=ae.INTERNAL,re="Unknown error status: "+W+" with message "+F.message),w=!0,S.o_(new ve(J,re)),y.close()}else be(wn,`RPC '${e}' stream ${a} received:`,j),S.__(j)}})),fl.u_(),setTimeout((()=>{S.s_()}),0),S}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,s){super.Go(e,t,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return OC()}}function p3(n){return new fl(n)}function Pg(){return typeof document<"u"?document:null}function Bf(n){return new _6(n,!0)}fl.c_=!1;class NR{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=s,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-s);a>0&&be("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const a1="PersistentStream";class DR{constructor(e,t,s,a,l,c,h,p){this.Ci=e,this.b_=s,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===ae.RESOURCE_EXHAUSTED?(nr(t.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,a])=>{this.D_===t&&this.G_(s,a)}),(s=>{e((()=>{const a=new ve(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(a)}))}))}G_(e,t){const s=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{s((()=>this.z_(a)))})),this.stream.onMessage((a=>{s((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return be(a1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(be(a1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class g3 extends DR{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=x6(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?vs(c.readTime):Oe.min()})(e);return this.listener.J_(t,s)}Z_(e){const t={};t.database=Vy(this.serializer),t.addTarget=(function(l,c){let h;const p=c.target;if(h=Iy(p)?{documents:A6(l,p)}:{query:C6(l,p).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=vR(l,c.resumeToken);const m=My(l,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Oe.min())>0){h.readTime=hf(l,c.snapshotVersion.toTimestamp());const m=My(l,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,e);const s=k6(this.serializer,e);s&&(t.labels=s),this.K_(t)}X_(e){const t={};t.database=Vy(this.serializer),t.removeTarget=e,this.K_(t)}}class y3 extends DR{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=S6(e.writeResults,e.commitTime),s=vs(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=Vy(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>E6(this.serializer,s)))};this.K_(t)}}class v3{}class b3 extends v3{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Py(t,s),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(ae.UNKNOWN,l.toString())}))}jo(e,t,s,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.jo(e,Py(t,s),a,c,h,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ve(ae.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function _3(n,e,t,s){return new b3(n,e,t,s)}class w3{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(t),this.aa=!1):be("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Za="RemoteStore";class T3{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{s.enqueueAndForget((async()=>{ro(this)&&(be(Za,"Restarting streams for network reachability change."),await(async function(p){const m=je(p);m.Ea.add(4),await Lu(m),m.Va.set("Unknown"),m.Ea.delete(4),await Ff(m)})(this))}))})),this.Va=new w3(s,a)}}async function Ff(n){if(ro(n))for(const e of n.Ra)await e(!0)}async function Lu(n){for(const e of n.Ra)await e(!1)}function MR(n,e){const t=je(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),tv(t)?ev(t):jl(t).O_()&&Z0(t,e))}function J0(n,e){const t=je(n),s=jl(t);t.Ia.delete(e),s.O_()&&PR(t,e),t.Ia.size===0&&(s.O_()?s.L_():ro(t)&&t.Va.set("Unknown"))}function Z0(n,e){if(n.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}jl(n).Z_(e)}function PR(n,e){n.da.$e(e),jl(n).X_(e)}function ev(n){n.da=new g6({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),jl(n).start(),n.Va.ua()}function tv(n){return ro(n)&&!jl(n).x_()&&n.Ia.size>0}function ro(n){return je(n).Ea.size===0}function OR(n){n.da=void 0}async function x3(n){n.Va.set("Online")}async function E3(n){n.Ia.forEach(((e,t)=>{Z0(n,e)}))}async function S3(n,e){OR(n),tv(n)?(n.Va.ha(e),ev(n)):n.Va.set("Unknown")}async function A3(n,e,t){if(n.Va.set("Online"),e instanceof yR&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const h of l.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.da.removeTarget(h))})(n,e)}catch(s){be(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ff(n,s)}else if(e instanceof jd?n.da.Xe(e):e instanceof gR?n.da.st(e):n.da.tt(e),!t.isEqual(Oe.min()))try{const s=await IR(n.localStore);t.compareTo(s)>=0&&await(function(l,c){const h=l.da.Tt(c);return h.targetChanges.forEach(((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.Ia.get(m);y&&l.Ia.set(m,y.withResumeToken(p.resumeToken,c))}})),h.targetMismatches.forEach(((p,m)=>{const y=l.Ia.get(p);if(!y)return;l.Ia.set(p,y.withResumeToken(bn.EMPTY_BYTE_STRING,y.snapshotVersion)),PR(l,p);const v=new $r(y.target,p,m,y.sequenceNumber);Z0(l,v)})),l.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(s){be(Za,"Failed to raise snapshot:",s),await ff(n,s)}}async function ff(n,e,t){if(!zl(e))throw e;n.Ea.add(1),await Lu(n),n.Va.set("Offline"),t||(t=()=>IR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{be(Za,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Ff(n)}))}function VR(n,e){return e().catch((t=>ff(n,t,e)))}async function qf(n){const e=je(n),t=ta(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:L0;for(;C3(e);)try{const a=await o3(e.localStore,s);if(a===null){e.Ta.length===0&&t.L_();break}s=a.batchId,R3(e,a)}catch(a){await ff(e,a)}LR(e)&&zR(e)}function C3(n){return ro(n)&&n.Ta.length<10}function R3(n,e){n.Ta.push(e);const t=ta(n);t.O_()&&t.Y_&&t.ea(e.mutations)}function LR(n){return ro(n)&&!ta(n).x_()&&n.Ta.length>0}function zR(n){ta(n).start()}async function k3(n){ta(n).ra()}async function I3(n){const e=ta(n);for(const t of n.Ta)e.ea(t.mutations)}async function N3(n,e,t){const s=n.Ta.shift(),a=$0.from(s,e,t);await VR(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await qf(n)}async function D3(n,e){e&&ta(n).Y_&&await(async function(s,a){if((function(c){return f6(c)&&c!==ae.ABORTED})(a.code)){const l=s.Ta.shift();ta(s).B_(),await VR(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a))),await qf(s)}})(n,e),LR(n)&&zR(n)}async function o1(n,e){const t=je(n);t.asyncQueue.verifyOperationInProgress(),be(Za,"RemoteStore received new credentials");const s=ro(t);t.Ea.add(3),await Lu(t),s&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ff(t)}async function M3(n,e){const t=je(n);e?(t.Ea.delete(2),await Ff(t)):e||(t.Ea.add(2),await Lu(t),t.Va.set("Unknown"))}function jl(n){return n.ma||(n.ma=(function(t,s,a){const l=je(t);return l.sa(),new g3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:x3.bind(null,n),Yo:E3.bind(null,n),t_:S3.bind(null,n),J_:A3.bind(null,n)}),n.Ra.push((async e=>{e?(n.ma.B_(),tv(n)?ev(n):n.Va.set("Unknown")):(await n.ma.stop(),OR(n))}))),n.ma}function ta(n){return n.fa||(n.fa=(function(t,s,a){const l=je(t);return l.sa(),new y3(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),Yo:k3.bind(null,n),t_:D3.bind(null,n),ta:I3.bind(null,n),na:N3.bind(null,n)}),n.Ra.push((async e=>{e?(n.fa.B_(),await qf(n)):(await n.fa.stop(),n.Ta.length>0&&(be(Za,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class nv{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new Ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,h=new nv(e,t,c,a,l);return h.start(s),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iv(n,e){if(nr("AsyncQueue",`${e}: ${n}`),zl(n))return new ve(ae.UNAVAILABLE,`${e}: ${n}`);throw n}class ml{static emptySet(e){return new ml(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ce.comparator(t.key,s.key):(t,s)=>Ce.comparator(t.key,s.key),this.keyedMap=Qc(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ml)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ml;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class l1{constructor(){this.ga=new It(Ce.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ne(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class El{constructor(e,t,s,a,l,c,h,p,m){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new El(e,t,ml.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Vf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}class P3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class O3{constructor(){this.queries=c1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const a=je(t),l=a.queries;a.queries=c1(),l.forEach(((c,h)=>{for(const p of h.ba)p.onError(s)}))})(this,new ve(ae.ABORTED,"Firestore shutting down"))}}function c1(){return new so((n=>nR(n)),Vf)}async function sv(n,e){const t=je(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(s=2):(l=new P3,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const h=iv(c,`Initialization of query '${tl(e.query)}' failed`);return void e.onError(h)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&av(t)}async function rv(n,e){const t=je(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function V3(n,e){const t=je(n);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const h of c.ba)h.Fa(a)&&(s=!0);c.wa=a}}s&&av(t)}function L3(n,e,t){const s=je(n),a=s.queries.get(e);if(a)for(const l of a.ba)l.onError(t);s.queries.delete(e)}function av(n){n.Ca.forEach((e=>{e.next()}))}var jy,u1;(u1=jy||(jy={})).Ma="default",u1.Cache="cache";class ov{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new El(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==jy.Cache}}class jR{constructor(e){this.key=e}}class UR{constructor(e){this.key=e}}class z3{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Xe(),this.mutatedKeys=Xe(),this.eu=iR(e),this.tu=new ml(this.eu)}get nu(){return this.Za}ru(e,t){const s=t?t.iu:new l1,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,h=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((y,v)=>{const w=a.get(y),S=Lf(this.query,v)?v:null,N=!!w&&this.mutatedKeys.has(w.key),j=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let L=!1;w&&S?w.data.isEqual(S.data)?N!==j&&(s.track({type:3,doc:S}),L=!0):this.su(w,S)||(s.track({type:2,doc:S}),L=!0,(p&&this.eu(S,p)>0||m&&this.eu(S,m)<0)&&(h=!0)):!w&&S?(s.track({type:0,doc:S}),L=!0):w&&!S&&(s.track({type:1,doc:w}),L=!0,(p||m)&&(h=!0)),L&&(S?(c=c.add(S),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),s.track({type:1,doc:y})}return{tu:c,iu:s,Ss:h,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((y,v)=>(function(S,N){const j=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:L})}};return j(S)-j(N)})(y.type,v.type)||this.eu(y.doc,v.doc))),this.ou(s),a=a??!1;const h=t&&!a?this._u():[],p=this.Ya.size===0&&this.current&&!a?1:0,m=p!==this.Xa;return this.Xa=p,c.length!==0||m?{snapshot:new El(this.query,e.tu,l,c,e.mutatedKeys,p===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new l1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Xe(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const t=[];return e.forEach((s=>{this.Ya.has(s)||t.push(new UR(s))})),this.Ya.forEach((s=>{e.has(s)||t.push(new jR(s))})),t}cu(e){this.Za=e.ks,this.Ya=Xe();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const lv="SyncEngine";class j3{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class U3{constructor(e){this.key=e,this.hu=!1}}class B3{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new so((h=>nR(h)),Vf),this.Iu=new Map,this.Eu=new Set,this.Ru=new It(Ce.comparator),this.Au=new Map,this.Vu=new Y0,this.du={},this.mu=new Map,this.fu=xl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function F3(n,e,t=!0){const s=GR(n);let a;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await BR(s,e,t,!0),a}async function q3(n,e){const t=GR(n);await BR(t,e,!0,!1)}async function BR(n,e,t,s){const a=await l3(n.localStore,ys(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return s&&(h=await H3(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&MR(n.remoteStore,a),h}async function H3(n,e,t,s,a){n.pu=(v,w,S)=>(async function(j,L,F,W){let J=L.view.ru(F);J.Ss&&(J=await n1(j.localStore,L.query,!1).then((({documents:R})=>L.view.ru(R,J))));const re=W&&W.targetChanges.get(L.targetId),he=W&&W.targetMismatches.get(L.targetId)!=null,me=L.view.applyChanges(J,j.isPrimaryClient,re,he);return d1(j,L.targetId,me.au),me.snapshot})(n,v,w,S);const l=await n1(n.localStore,e,!0),c=new z3(e,l.ks),h=c.ru(l.documents),p=Vu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,p);d1(n,t,m.au);const y=new j3(e,t,c);return n.Tu.set(e,y),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),m.snapshot}async function $3(n,e,t){const s=je(n),a=s.Tu.get(e),l=s.Iu.get(a.targetId);if(l.length>1)return s.Iu.set(a.targetId,l.filter((c=>!Vf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ly(s.localStore,a.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(a.targetId),t&&J0(s.remoteStore,a.targetId),Uy(s,a.targetId)})).catch(Ll)):(Uy(s,a.targetId),await Ly(s.localStore,a.targetId,!0))}async function G3(n,e){const t=je(n),s=t.Tu.get(e),a=t.Iu.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),J0(t.remoteStore,s.targetId))}async function K3(n,e,t){const s=e9(n);try{const a=await(function(c,h){const p=je(c),m=ze.now(),y=h.reduce(((S,N)=>S.add(N.key)),Xe());let v,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let N=ir(),j=Xe();return p.xs.getEntries(S,y).next((L=>{N=L,N.forEach(((F,W)=>{W.isValidDocument()||(j=j.add(F))}))})).next((()=>p.localDocuments.getOverlayedDocuments(S,N))).next((L=>{v=L;const F=[];for(const W of h){const J=l6(W,v.get(W.key).overlayedDocument);J!=null&&F.push(new oa(W.key,J,YC(J.value.mapValue),wi.exists(!0)))}return p.mutationQueue.addMutationBatch(S,m,F,h)})).next((L=>{w=L;const F=L.applyToLocalDocumentSet(v,j);return p.documentOverlayCache.saveOverlays(S,L.batchId,F)}))})).then((()=>({batchId:w.batchId,changes:rR(v)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),(function(c,h,p){let m=c.du[c.currentUser.toKey()];m||(m=new It(Qe)),m=m.insert(h,p),c.du[c.currentUser.toKey()]=m})(s,a.batchId,t),await zu(s,a.changes),await qf(s.remoteStore)}catch(a){const l=iv(a,"Failed to persist write");t.reject(l)}}async function FR(n,e){const t=je(n);try{const s=await r3(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(ct(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ct(c.hu,14607):a.removedDocuments.size>0&&(ct(c.hu,42227),c.hu=!1))})),await zu(t,s,e)}catch(s){await Ll(s)}}function h1(n,e,t){const s=je(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.Tu.forEach(((l,c)=>{const h=c.view.va(e);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const p=je(c);p.onlineState=h;let m=!1;p.queries.forEach(((y,v)=>{for(const w of v.ba)w.va(h)&&(m=!0)})),m&&av(p)})(s.eventManager,e),a.length&&s.Pu.J_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Y3(n,e,t){const s=je(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Au.get(e),l=a&&a.key;if(l){let c=new It(Ce.comparator);c=c.insert(l,Tn.newNoDocument(l,Oe.min()));const h=Xe().add(l),p=new Uf(Oe.min(),new Map,new It(Qe),c,h);await FR(s,p),s.Ru=s.Ru.remove(l),s.Au.delete(e),cv(s)}else await Ly(s.localStore,e,!1).then((()=>Uy(s,e,t))).catch(Ll)}async function Q3(n,e){const t=je(n),s=e.batch.batchId;try{const a=await s3(t.localStore,e);HR(t,s,null),qR(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await zu(t,a)}catch(a){await Ll(a)}}async function X3(n,e,t){const s=je(n);try{const a=await(function(c,h){const p=je(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return p.mutationQueue.lookupMutationBatch(m,h).next((v=>(ct(v!==null,37113),y=v.keys(),p.mutationQueue.removeMutationBatch(m,v)))).next((()=>p.mutationQueue.performConsistencyCheck(m))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>p.localDocuments.getDocuments(m,y)))}))})(s.localStore,e);HR(s,e,t),qR(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await zu(s,a)}catch(a){await Ll(a)}}function qR(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function HR(n,e,t){const s=je(n);let a=s.du[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.du[s.currentUser.toKey()]=a}}function Uy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Vu.Gr(e).forEach((s=>{n.Vu.containsKey(s)||$R(n,s)}))}function $R(n,e){n.Eu.delete(e.path.canonicalString());const t=n.Ru.get(e);t!==null&&(J0(n.remoteStore,t),n.Ru=n.Ru.remove(e),n.Au.delete(t),cv(n))}function d1(n,e,t){for(const s of t)s instanceof jR?(n.Vu.addReference(s.key,e),W3(n,s)):s instanceof UR?(be(lv,"Document no longer in limbo: "+s.key),n.Vu.removeReference(s.key,e),n.Vu.containsKey(s.key)||$R(n,s.key)):Ne(19791,{wu:s})}function W3(n,e){const t=e.key,s=t.path.canonicalString();n.Ru.get(t)||n.Eu.has(s)||(be(lv,"New document in limbo: "+t),n.Eu.add(s),cv(n))}function cv(n){for(;n.Eu.size>0&&n.Ru.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ce(wt.fromString(e)),s=n.fu.next();n.Au.set(s,new U3(t)),n.Ru=n.Ru.insert(t,s),MR(n.remoteStore,new $r(ys(Of(t.path)),s,"TargetPurposeLimboResolution",Df.ce))}}async function zu(n,e,t){const s=je(n),a=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((h,p)=>{c.push(s.pu(p,e,t).then((m=>{if((m||t)&&s.isPrimaryClient){const y=m?!m.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,y?"current":"not-current")}if(m){a.push(m);const y=X0.Es(p.targetId,m);l.push(y)}})))})),await Promise.all(c),s.Pu.J_(a),await(async function(p,m){const y=je(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ue.forEach(m,(w=>ue.forEach(w.Ts,(S=>y.persistence.referenceDelegate.addReference(v,w.targetId,S))).next((()=>ue.forEach(w.Is,(S=>y.persistence.referenceDelegate.removeReference(v,w.targetId,S)))))))))}catch(v){if(!zl(v))throw v;be(W0,"Failed to update sequence numbers: "+v)}for(const v of m){const w=v.targetId;if(!v.fromCache){const S=y.vs.get(w),N=S.snapshotVersion,j=S.withLastLimboFreeSnapshotVersion(N);y.vs=y.vs.insert(w,j)}}})(s.localStore,l))}async function J3(n,e){const t=je(n);if(!t.currentUser.isEqual(e)){be(lv,"User change. New user:",e.toKey());const s=await kR(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((h=>{h.forEach((p=>{p.reject(new ve(ae.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await zu(t,s.Ns)}}function Z3(n,e){const t=je(n),s=t.Au.get(e);if(s&&s.hu)return Xe().add(s.key);{let a=Xe();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const h=t.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function GR(n){const e=je(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=FR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y3.bind(null,e),e.Pu.J_=V3.bind(null,e.eventManager),e.Pu.yu=L3.bind(null,e.eventManager),e}function e9(n){const e=je(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X3.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Bf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return i3(this.persistence,new e3,e.initialUser,this.serializer)}Cu(e){return new RR(Q0.Vi,this.serializer)}Du(e){return new u3}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class t9 extends mf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ct(this.persistence.referenceDelegate instanceof df,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new j6(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new RR((s=>df.Vi(s,t)),this.serializer)}}class By{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>h1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=J3.bind(null,this.syncEngine),await M3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new O3})()}createDatastore(e){const t=Bf(e.databaseInfo.databaseId),s=p3(e.databaseInfo);return _3(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,a,l,c,h){return new T3(s,a,l,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>h1(this.syncEngine,t,0)),(function(){return r1.v()?new r1:new h3})())}createSyncEngine(e,t){return(function(a,l,c,h,p,m,y){const v=new B3(a,l,c,h,p,m);return y&&(v.gu=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const s=je(t);be(Za,"RemoteStore shutting down."),s.Ea.add(5),await Lu(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}By.provider={build:()=>new By};class uv{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const na="FirestoreClient";class n9{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this._databaseInfo=a,this.user=Un.UNAUTHENTICATED,this.clientId=V0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{be(na,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(be(na,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=iv(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Og(n,e){n.asyncQueue.verifyOperationInProgress(),be(na,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async a=>{s.isEqual(a)||(await kR(e.localStore,a),s=a)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function f1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await i9(n);be(na,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>o1(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,a)=>o1(e.remoteStore,a))),n._onlineComponents=e}async function i9(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){be(na,"Using user provided OfflineComponentProvider");try{await Og(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===ae.FAILED_PRECONDITION||a.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;yl("Error using user provided cache. Falling back to memory cache: "+t),await Og(n,new mf)}}else be(na,"Using default OfflineComponentProvider"),await Og(n,new t9(void 0));return n._offlineComponents}async function KR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(be(na,"Using user provided OnlineComponentProvider"),await f1(n,n._uninitializedComponentsProvider._online)):(be(na,"Using default OnlineComponentProvider"),await f1(n,new By))),n._onlineComponents}function s9(n){return KR(n).then((e=>e.syncEngine))}async function pf(n){const e=await KR(n),t=e.eventManager;return t.onListen=F3.bind(null,e.syncEngine),t.onUnlisten=$3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=q3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=G3.bind(null,e.syncEngine),t}function r9(n,e,t,s){const a=new uv(s),l=new ov(e,a,t);return n.asyncQueue.enqueueAndForget((async()=>sv(await pf(n),l))),()=>{a.Nu(),n.asyncQueue.enqueueAndForget((async()=>rv(await pf(n),l)))}}function a9(n,e,t={}){const s=new Ws;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,p,m){const y=new uv({next:w=>{y.Nu(),c.enqueueAndForget((()=>rv(l,v)));const S=w.docs.has(h);!S&&w.fromCache?m.reject(new ve(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&p&&p.source==="server"?m.reject(new ve(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new ov(Of(h.path),y,{includeMetadataChanges:!0,Ka:!0});return sv(l,v)})(await pf(n),n.asyncQueue,e,t,s))),s.promise}function o9(n,e,t={}){const s=new Ws;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,h,p,m){const y=new uv({next:w=>{y.Nu(),c.enqueueAndForget((()=>rv(l,v))),w.fromCache&&p.source==="server"?m.reject(new ve(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new ov(h,y,{includeMetadataChanges:!0,Ka:!0});return sv(l,v)})(await pf(n),n.asyncQueue,e,t,s))),s.promise}function l9(n,e){const t=new Ws;return n.asyncQueue.enqueueAndForget((async()=>K3(await s9(n),e,t))),t.promise}function YR(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}const c9="ComponentProvider",m1=new Map;function u9(n,e,t,s,a){return new Dj(n,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,YR(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,s)}const h9="firestore.googleapis.com",p1=!0;class g1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ve(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=h9,this.ssl=p1}else this.host=e.host,this.ssl=e.ssl??p1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=AR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CR)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=YR(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ve(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,a){return s.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hv{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new g1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new g1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new dj;switch(s.type){case"firstParty":return new pj(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ve(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=m1.get(t);s&&(be(c9,"Removing Datastore"),m1.delete(t),s.terminate())})(this),Promise.resolve()}}class ao{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ao(this.firestore,e,this._query)}}class Vt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Mu(t,Vt._jsonSchema))return new Vt(e,s||null,new Ce(wt.fromString(t.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:en("string",Vt._jsonSchemaVersion),referencePath:en("string")};class Yr extends ao{constructor(e,t,s){super(e,t,Of(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new Ce(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function qi(n,e,...t){if(n=tn(n),LC("collection","path",e),n instanceof hv){const s=wt.fromString(e,...t);return kE(s),new Yr(n,null,s)}{if(!(n instanceof Vt||n instanceof Yr))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(wt.fromString(e,...t));return kE(s),new Yr(n.firestore,null,s)}}function kt(n,e,...t){if(n=tn(n),arguments.length===1&&(e=V0.newId()),LC("doc","path",e),n instanceof hv){const s=wt.fromString(e,...t);return RE(s),new Vt(n,null,new Ce(s))}{if(!(n instanceof Vt||n instanceof Yr))throw new ve(ae.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(wt.fromString(e,...t));return RE(s),new Vt(n.firestore,n instanceof Yr?n.converter:null,new Ce(s))}}const y1="AsyncQueue";class v1{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NR(this,"async_queue_retry"),this._c=()=>{const s=Pg();s&&be(y1,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Pg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Pg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ws;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!zl(e))throw e;be(y1,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",b1(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=nv.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&Ne(47125,{Pc:b1(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function b1(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class sr extends hv{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new v1,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new v1(e),this._firestoreClient=void 0,await e}}}function d9(n,e,t){t||(t=af);const s=Dl(n,"firestore");if(s.isInitialized(t)){const a=s.getImmediate({identifier:t}),l=s.getOptions(t);if(Zs(l,e))return a;throw new ve(ae.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ve(ae.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CR)throw new ve(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Nl(e.host)&&qA(e.host),s.initialize({options:e,instanceIdentifier:t})}function Hf(n){if(n._terminated)throw new ve(ae.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f9(n),n._firestoreClient}function f9(n){const e=n._freezeSettings(),t=u9(n._databaseId,n._app?.options.appId||"",n._persistenceKey,n._app?.options.apiKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new n9(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(n._componentsProvider))}class yi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yi(bn.fromBase64String(e))}catch(t){throw new ve(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new yi(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:yi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Mu(e,yi._jsonSchema))return yi.fromBase64String(e.bytes)}}yi._jsonSchemaVersion="firestore/bytes/1.0",yi._jsonSchema={type:en("string",yi._jsonSchemaVersion),bytes:en("string")};class dv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ul{constructor(e){this._methodName=e}}class bs{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bs._jsonSchemaVersion}}static fromJSON(e){if(Mu(e,bs._jsonSchema))return new bs(e.latitude,e.longitude)}}bs._jsonSchemaVersion="firestore/geoPoint/1.0",bs._jsonSchema={type:en("string",bs._jsonSchemaVersion),latitude:en("number"),longitude:en("number")};class Ui{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Mu(e,Ui._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Ui(e.vectorValues);throw new ve(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:en("string",Ui._jsonSchemaVersion),vectorValues:en("object")};const m9=/^__.*__$/;class p9{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ou(e,this.data,t,this.fieldTransforms)}}class QR{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new oa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function XR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{dataSource:n})}}class $f{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new $f({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const t=this.path?.child(e),s=this.contextWith({path:t,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return gf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(XR(this.dataSource)&&m9.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class g9{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Bf(e)}createContext(e,t,s,a=!1){return new $f({dataSource:e,methodName:t,targetDoc:s,path:vn.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gf(n){const e=n._freezeSettings(),t=Bf(n._databaseId);return new g9(n._databaseId,!!e.ignoreUndefinedProperties,t)}function WR(n,e,t,s,a,l={}){const c=n.createContext(l.merge||l.mergeFields?2:0,e,t,a);gv("Data must be an object, but it was:",c,s);const h=ZR(s,c);let p,m;if(l.merge)p=new ti(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const v of l.mergeFields){const w=Sl(e,v,t);if(!c.contains(w))throw new ve(ae.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);n2(y,w)||y.push(w)}p=new ti(y),m=c.fieldTransforms.filter((v=>p.covers(v.field)))}else p=null,m=c.fieldTransforms;return new p9(new Fn(h),p,m)}class Kf extends Ul{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kf}}function JR(n,e,t){return new $f({dataSource:3,targetDoc:e.settings.targetDoc,methodName:n._methodName,arrayElement:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fv extends Ul{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=JR(this,e,!0),s=this.Ac.map((l=>oo(l,t))),a=new wl(s);return new q0(e.path,a)}isEqual(e){return e instanceof fv&&Zs(this.Ac,e.Ac)}}class mv extends Ul{constructor(e,t){super(e),this.Ac=t}_toFieldTransform(e){const t=JR(this,e,!0),s=this.Ac.map((l=>oo(l,t))),a=new Tl(s);return new q0(e.path,a)}isEqual(e){return e instanceof mv&&Zs(this.Ac,e.Ac)}}class pv extends Ul{constructor(e,t){super(e),this.Vc=t}_toFieldTransform(e){const t=new Tu(e.serializer,lR(e.serializer,this.Vc));return new q0(e.path,t)}isEqual(e){return e instanceof pv&&this.Vc===e.Vc}}function y9(n,e,t,s){const a=n.createContext(1,e,t);gv("Data must be an object, but it was:",a,s);const l=[],c=Fn.empty();aa(s,((p,m)=>{const y=t2(e,p,t);m=tn(m);const v=a.childContextForFieldPath(y);if(m instanceof Kf)l.push(y);else{const w=oo(m,v);w!=null&&(l.push(y),c.set(y,w))}}));const h=new ti(l);return new QR(c,h,a.fieldTransforms)}function v9(n,e,t,s,a,l){const c=n.createContext(1,e,t),h=[Sl(e,s,t)],p=[a];if(l.length%2!=0)throw new ve(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(Sl(e,l[w])),p.push(l[w+1]);const m=[],y=Fn.empty();for(let w=h.length-1;w>=0;--w)if(!n2(m,h[w])){const S=h[w];let N=p[w];N=tn(N);const j=c.childContextForFieldPath(S);if(N instanceof Kf)m.push(S);else{const L=oo(N,j);L!=null&&(m.push(S),y.set(S,L))}}const v=new ti(m);return new QR(y,v,c.fieldTransforms)}function b9(n,e,t,s=!1){return oo(t,n.createContext(s?4:3,e))}function oo(n,e){if(e2(n=tn(n)))return gv("Unsupported field value:",e,n),ZR(n,e);if(n instanceof Ul)return(function(s,a){if(!XR(a.dataSource))throw a.createError(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,a){const l=[];let c=0;for(const h of s){let p=oo(h,a.childContextForArray(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(s,a){if((s=tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lR(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ze.fromDate(s);return{timestampValue:hf(a.serializer,l)}}if(s instanceof ze){const l=new ze(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:hf(a.serializer,l)}}if(s instanceof bs)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof yi)return{bytesValue:vR(a.serializer,s._byteString)};if(s instanceof Vt){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:K0(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Ui)return(function(c,h){const p=c instanceof Ui?c.toArray():c;return{mapValue:{fields:{[GC]:{stringValue:KC},[of]:{arrayValue:{values:p.map((y=>{if(typeof y!="number")throw h.createError("VectorValues must only contain numeric values.");return F0(h.serializer,y)}))}}}}}})(s,a);if(SR(s))return s._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Nf(s)}`)})(n,e)}function ZR(n,e){const t={};return UC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):aa(n,((s,a)=>{const l=oo(a,e.childContextForField(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function e2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ze||n instanceof bs||n instanceof yi||n instanceof Vt||n instanceof Ul||n instanceof Ui||SR(n))}function gv(n,e,t){if(!e2(t)||!zC(t)){const s=Nf(t);throw s==="an object"?e.createError(n+" a custom object"):e.createError(n+" "+s)}}function Sl(n,e,t){if((e=tn(e))instanceof dv)return e._internalPath;if(typeof e=="string")return t2(n,e);throw gf("Field path arguments must be of type string or ",n,!1,void 0,t)}const _9=new RegExp("[~\\*/\\[\\]]");function t2(n,e,t){if(e.search(_9)>=0)throw gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dv(...e.split("."))._internalPath}catch{throw gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function gf(n,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new ve(ae.INVALID_ARGUMENT,h+n+p)}function n2(n,e){return n.some((t=>t.isEqual(e)))}class w9{convertValue(e,t="none"){switch(ea(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return aa(e,((a,l)=>{s[a]=this.convertValue(l,t)})),s}convertVectorValue(e){const t=e.fields?.[of].arrayValue?.values?.map((s=>Bt(s.doubleValue)));return new Ui(t)}convertGeoPoint(e){return new bs(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Pf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(bu(e));default:return null}}convertTimestamp(e){const t=Jr(e);return new ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=wt.fromString(e);ct(ER(s),9688,{name:e});const a=new _u(s.get(1),s.get(3)),l=new Ce(s.popFirst(5));return a.isEqual(t)||nr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class yv extends w9{constructor(e){super(),this.firestore=e}convertBytes(e){return new yi(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}}function yf(...n){return new fv("arrayUnion",n)}function _1(...n){return new mv("arrayRemove",n)}function T9(n){return new pv("increment",n)}const w1="@firebase/firestore",T1="4.11.0";function x1(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1})(n,["next","error","complete"])}class i2{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new x9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Sl("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class x9 extends i2{data(){return super.data()}}function s2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vv{}class E9 extends vv{}function ia(n,e,...t){let s=[];e instanceof vv&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((p=>p instanceof bv)).length,h=l.filter((p=>p instanceof Yf)).length;if(c>1||c>0&&h>0)throw new ve(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const a of s)n=a._apply(n);return n}class Yf extends E9{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Yf(e,t,s)}_apply(e){const t=this._parse(e);return r2(e._query,t),new ao(e.firestore,e.converter,Ny(e._query,t))}_parse(e){const t=Gf(e.firestore);return(function(l,c,h,p,m,y,v){let w;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ve(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){S1(v,y);const N=[];for(const j of v)N.push(E1(p,l,j));w={arrayValue:{values:N}}}else w=E1(p,l,v)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||S1(v,y),w=b9(h,c,v,y==="in"||y==="not-in");return Zt.create(m,y,w)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function qn(n,e,t){const s=e,a=Sl("where",n);return Yf._create(a,s,t)}class bv extends vv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new bv(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:Fi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(a,l){let c=a;const h=l.getFlattenedFilters();for(const p of h)r2(c,p),c=Ny(c,p)})(e._query,t),new ao(e.firestore,e.converter,Ny(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function E1(n,e,t){if(typeof(t=tn(t))=="string"){if(t==="")throw new ve(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tR(e)&&t.indexOf("/")!==-1)throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(wt.fromString(t));if(!Ce.isDocumentKey(s))throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return LE(n,new Ce(s))}if(t instanceof Vt)return LE(n,t._key);throw new ve(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nf(t)}.`)}function S1(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function r2(n,e){const t=(function(a,l){for(const c of a)for(const h of c.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ve(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function a2(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class Wc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ya extends i2{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Sl("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ya._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ya._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ya._jsonSchema={type:en("string",Ya._jsonSchemaVersion),bundleSource:en("string","DocumentSnapshot"),bundleName:en("string"),bundle:en("string")};class Ud extends Ya{data(e={}){return super.data(e)}}class Qa{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Wc(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Ud(this._firestore,this._userDataWriter,s.key,s,new Wc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const p=new Ud(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Wc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>l||h.type!==3)).map((h=>{const p=new Ud(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Wc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:S9(h.type),doc:p,oldIndex:m,newIndex:y}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ve(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=V0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:n})}}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:en("string",Qa._jsonSchemaVersion),bundleSource:en("string","QuerySnapshot"),bundleName:en("string"),bundle:en("string")};function Ss(n){n=ni(n,Vt);const e=ni(n.firestore,sr),t=Hf(e);return a9(t,n._key).then((s=>c2(e,n,s)))}function _v(n){n=ni(n,ao);const e=ni(n.firestore,sr),t=Hf(e),s=new yv(e);return s2(n._query),o9(t,n._query).then((a=>new Qa(e,s,n,a)))}function o2(n,e,t){n=ni(n,Vt);const s=ni(n.firestore,sr),a=a2(n.converter,e),l=Gf(s);return Qf(s,[WR(l,"setDoc",n._key,a,n.converter!==null,t).toMutation(n._key,wi.none())])}function En(n,e,t,...s){n=ni(n,Vt);const a=ni(n.firestore,sr),l=Gf(a);let c;return c=typeof(e=tn(e))=="string"||e instanceof dv?v9(l,"updateDoc",n._key,e,t,s):y9(l,"updateDoc",n._key,e),Qf(a,[c.toMutation(n._key,wi.exists(!0))])}function l2(n){return Qf(ni(n.firestore,sr),[new H0(n._key,wi.none())])}function wv(n,e){const t=ni(n.firestore,sr),s=kt(n),a=a2(n.converter,e),l=Gf(n.firestore);return Qf(t,[WR(l,"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,wi.exists(!1))]).then((()=>s))}function eo(n,...e){n=tn(n);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||x1(e[s])||(t=e[s++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(x1(e[s])){const m=e[s];e[s]=m.next?.bind(m),e[s+1]=m.error?.bind(m),e[s+2]=m.complete?.bind(m)}let l,c,h;if(n instanceof Vt)c=ni(n.firestore,sr),h=Of(n._key.path),l={next:m=>{e[s]&&e[s](c2(c,n,m))},error:e[s+1],complete:e[s+2]};else{const m=ni(n,ao);c=ni(m.firestore,sr),h=m._query;const y=new yv(c);l={next:v=>{e[s]&&e[s](new Qa(c,y,m,v))},error:e[s+1],complete:e[s+2]},s2(n._query)}const p=Hf(c);return r9(p,h,a,l)}function Qf(n,e){const t=Hf(n);return l9(t,e)}function c2(n,e,t){const s=t.docs.get(e._key),a=new yv(n);return new Ya(n,a,e._key,s,new Wc(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){uj(Ml),ws(new Bi("firestore",((s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),h=new sr(new fj(s.getProvider("auth-internal")),new gj(c,s.getProvider("app-check-internal")),Mj(c,a),c);return l={useFetchStreams:t,...l},h._setSettings(l),h}),"PUBLIC").setMultipleInstances(!0)),_i(w1,T1,e),_i(w1,T1,"esm2020")})();var A9="firebase",C9="12.9.0";_i(A9,C9,"app");const u2="@firebase/installations",Tv="0.6.19";const h2=1e4,d2=`w:${Tv}`,f2="FIS_v2",R9="https://firebaseinstallations.googleapis.com/v1",k9=3600*1e3,I9="installations",N9="Installations";const D9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},to=new io(I9,N9,D9);function m2(n){return n instanceof Es&&n.code.includes("request-failed")}function p2({projectId:n}){return`${R9}/projects/${n}/installations`}function g2(n){return{token:n.token,requestStatus:2,expiresIn:P9(n.expiresIn),creationTime:Date.now()}}async function y2(n,e){const s=(await e.json()).error;return to.create("request-failed",{requestName:n,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function v2({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function M9(n,{refreshToken:e}){const t=v2(n);return t.append("Authorization",O9(e)),t}async function b2(n){const e=await n();return e.status>=500&&e.status<600?n():e}function P9(n){return Number(n.replace("s","000"))}function O9(n){return`${f2} ${n}`}async function V9({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const s=p2(n),a=v2(n),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={fid:t,authVersion:f2,appId:n.appId,sdkVersion:d2},h={method:"POST",headers:a,body:JSON.stringify(c)},p=await b2(()=>fetch(s,h));if(p.ok){const m=await p.json();return{fid:m.fid||t,registrationStatus:2,refreshToken:m.refreshToken,authToken:g2(m.authToken)}}else throw await y2("Create Installation",p)}function _2(n){return new Promise(e=>{setTimeout(e,n)})}function L9(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}const z9=/^[cdef][\w-]{21}$/,Fy="";function j9(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=U9(n);return z9.test(t)?t:Fy}catch{return Fy}}function U9(n){return L9(n).substr(0,22)}function Xf(n){return`${n.appName}!${n.appId}`}const w2=new Map;function T2(n,e){const t=Xf(n);x2(t,e),B9(t,e)}function x2(n,e){const t=w2.get(n);if(t)for(const s of t)s(e)}function B9(n,e){const t=F9();t&&t.postMessage({key:n,fid:e}),q9()}let $a=null;function F9(){return!$a&&"BroadcastChannel"in self&&($a=new BroadcastChannel("[Firebase] FID Change"),$a.onmessage=n=>{x2(n.data.key,n.data.fid)}),$a}function q9(){w2.size===0&&$a&&($a.close(),$a=null)}const H9="firebase-installations-database",$9=1,no="firebase-installations-store";let Vg=null;function xv(){return Vg||(Vg=Rf(H9,$9,{upgrade:(n,e)=>{e===0&&n.createObjectStore(no)}})),Vg}async function vf(n,e){const t=Xf(n),a=(await xv()).transaction(no,"readwrite"),l=a.objectStore(no),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&T2(n,e.fid),e}async function E2(n){const e=Xf(n),s=(await xv()).transaction(no,"readwrite");await s.objectStore(no).delete(e),await s.done}async function Wf(n,e){const t=Xf(n),a=(await xv()).transaction(no,"readwrite"),l=a.objectStore(no),c=await l.get(t),h=e(c);return h===void 0?await l.delete(t):await l.put(h,t),await a.done,h&&(!c||c.fid!==h.fid)&&T2(n,h.fid),h}async function Ev(n){let e;const t=await Wf(n.appConfig,s=>{const a=G9(s),l=K9(n,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Fy?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function G9(n){const e=n||{fid:j9(),registrationStatus:0};return S2(e)}function K9(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(to.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Y9(n,t);return{installationEntry:t,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Q9(n)}:{installationEntry:e}}async function Y9(n,e){try{const t=await V9(n,e);return vf(n.appConfig,t)}catch(t){throw m2(t)&&t.customData.serverCode===409?await E2(n.appConfig):await vf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function Q9(n){let e=await A1(n.appConfig);for(;e.registrationStatus===1;)await _2(100),e=await A1(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:s}=await Ev(n);return s||t}return e}function A1(n){return Wf(n,e=>{if(!e)throw to.create("installation-not-found");return S2(e)})}function S2(n){return X9(n)?{fid:n.fid,registrationStatus:0}:n}function X9(n){return n.registrationStatus===1&&n.registrationTime+h2<Date.now()}async function W9({appConfig:n,heartbeatServiceProvider:e},t){const s=J9(n,t),a=M9(n,t),l=e.getImmediate({optional:!0});if(l){const m=await l.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}const c={installation:{sdkVersion:d2,appId:n.appId}},h={method:"POST",headers:a,body:JSON.stringify(c)},p=await b2(()=>fetch(s,h));if(p.ok){const m=await p.json();return g2(m)}else throw await y2("Generate Auth Token",p)}function J9(n,{fid:e}){return`${p2(n)}/${e}/authTokens:generate`}async function Sv(n,e=!1){let t;const s=await Wf(n.appConfig,l=>{if(!A2(l))throw to.create("not-registered");const c=l.authToken;if(!e&&tU(c))return l;if(c.requestStatus===1)return t=Z9(n,e),l;{if(!navigator.onLine)throw to.create("app-offline");const h=iU(l);return t=eU(n,h),h}});return t?await t:s.authToken}async function Z9(n,e){let t=await C1(n.appConfig);for(;t.authToken.requestStatus===1;)await _2(100),t=await C1(n.appConfig);const s=t.authToken;return s.requestStatus===0?Sv(n,e):s}function C1(n){return Wf(n,e=>{if(!A2(e))throw to.create("not-registered");const t=e.authToken;return sU(t)?{...e,authToken:{requestStatus:0}}:e})}async function eU(n,e){try{const t=await W9(n,e),s={...e,authToken:t};return await vf(n.appConfig,s),t}catch(t){if(m2(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await E2(n.appConfig);else{const s={...e,authToken:{requestStatus:0}};await vf(n.appConfig,s)}throw t}}function A2(n){return n!==void 0&&n.registrationStatus===2}function tU(n){return n.requestStatus===2&&!nU(n)}function nU(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+k9}function iU(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function sU(n){return n.requestStatus===1&&n.requestTime+h2<Date.now()}async function rU(n){const e=n,{installationEntry:t,registrationPromise:s}=await Ev(e);return s?s.catch(console.error):Sv(e).catch(console.error),t.fid}async function aU(n,e=!1){const t=n;return await oU(t),(await Sv(t,e)).token}async function oU(n){const{registrationPromise:e}=await Ev(n);e&&await e}function lU(n){if(!n||!n.options)throw Lg("App Configuration");if(!n.name)throw Lg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Lg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Lg(n){return to.create("missing-app-config-values",{valueName:n})}const C2="installations",cU="installations-internal",uU=n=>{const e=n.getProvider("app").getImmediate(),t=lU(e),s=Dl(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},hU=n=>{const e=n.getProvider("app").getImmediate(),t=Dl(e,C2).getImmediate();return{getId:()=>rU(t),getToken:a=>aU(t,a)}};function dU(){ws(new Bi(C2,uU,"PUBLIC")),ws(new Bi(cU,hU,"PRIVATE"))}dU();_i(u2,Tv);_i(u2,Tv,"esm2020");const fU="/firebase-messaging-sw.js",mU="/firebase-cloud-messaging-push-scope",R2="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",pU="https://fcmregistrations.googleapis.com/v1",k2="google.c.a.c_id",gU="google.c.a.c_l",yU="google.c.a.ts",vU="google.c.a.e",R1=1e4;var k1;(function(n){n[n.DATA_MESSAGE=1]="DATA_MESSAGE",n[n.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION"})(k1||(k1={}));var xu;(function(n){n.PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked"})(xu||(xu={}));function Ks(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bU(n){const e="=".repeat((4-n.length%4)%4),t=(n+e).replace(/\-/g,"+").replace(/_/g,"/"),s=atob(t),a=new Uint8Array(s.length);for(let l=0;l<s.length;++l)a[l]=s.charCodeAt(l);return a}const zg="fcm_token_details_db",_U=5,I1="fcm_token_object_Store";async function wU(n){if("databases"in indexedDB&&!(await indexedDB.databases()).map(l=>l.name).includes(zg))return null;let e=null;return(await Rf(zg,_U,{upgrade:async(s,a,l,c)=>{if(a<2||!s.objectStoreNames.contains(I1))return;const h=c.objectStore(I1),p=await h.index("fcmSenderId").get(n);if(await h.clear(),!!p){if(a===2){const m=p;if(!m.auth||!m.p256dh||!m.endpoint)return;e={token:m.fcmToken,createTime:m.createTime??Date.now(),subscriptionOptions:{auth:m.auth,p256dh:m.p256dh,endpoint:m.endpoint,swScope:m.swScope,vapidKey:typeof m.vapidKey=="string"?m.vapidKey:Ks(m.vapidKey)}}}else if(a===3){const m=p;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:Ks(m.auth),p256dh:Ks(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:Ks(m.vapidKey)}}}else if(a===4){const m=p;e={token:m.fcmToken,createTime:m.createTime,subscriptionOptions:{auth:Ks(m.auth),p256dh:Ks(m.p256dh),endpoint:m.endpoint,swScope:m.swScope,vapidKey:Ks(m.vapidKey)}}}}}})).close(),await Ag(zg),await Ag("fcm_vapid_details_db"),await Ag("undefined"),TU(e)?e:null}function TU(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return typeof n.createTime=="number"&&n.createTime>0&&typeof n.token=="string"&&n.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}const xU="firebase-messaging-database",EU=1,Eu="firebase-messaging-store";let jg=null;function I2(){return jg||(jg=Rf(xU,EU,{upgrade:(n,e)=>{e===0&&n.createObjectStore(Eu)}})),jg}async function SU(n){const e=N2(n),s=await(await I2()).transaction(Eu).objectStore(Eu).get(e);if(s)return s;{const a=await wU(n.appConfig.senderId);if(a)return await Av(n,a),a}}async function Av(n,e){const t=N2(n),a=(await I2()).transaction(Eu,"readwrite");return await a.objectStore(Eu).put(e,t),await a.done,e}function N2({appConfig:n}){return n.appId}const AU={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Sn=new io("messaging","Messaging",AU);async function CU(n,e){const t=await Rv(n),s=D2(e),a={method:"POST",headers:t,body:JSON.stringify(s)};let l;try{l=await(await fetch(Cv(n.appConfig),a)).json()}catch(c){throw Sn.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(l.error){const c=l.error.message;throw Sn.create("token-subscribe-failed",{errorInfo:c})}if(!l.token)throw Sn.create("token-subscribe-no-token");return l.token}async function RU(n,e){const t=await Rv(n),s=D2(e.subscriptionOptions),a={method:"PATCH",headers:t,body:JSON.stringify(s)};let l;try{l=await(await fetch(`${Cv(n.appConfig)}/${e.token}`,a)).json()}catch(c){throw Sn.create("token-update-failed",{errorInfo:c?.toString()})}if(l.error){const c=l.error.message;throw Sn.create("token-update-failed",{errorInfo:c})}if(!l.token)throw Sn.create("token-update-no-token");return l.token}async function kU(n,e){const s={method:"DELETE",headers:await Rv(n)};try{const l=await(await fetch(`${Cv(n.appConfig)}/${e}`,s)).json();if(l.error){const c=l.error.message;throw Sn.create("token-unsubscribe-failed",{errorInfo:c})}}catch(a){throw Sn.create("token-unsubscribe-failed",{errorInfo:a?.toString()})}}function Cv({projectId:n}){return`${pU}/projects/${n}/registrations`}async function Rv({appConfig:n,installations:e}){const t=await e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})}function D2({p256dh:n,auth:e,endpoint:t,vapidKey:s}){const a={web:{endpoint:t,auth:e,p256dh:n}};return s!==R2&&(a.web.applicationPubKey=s),a}const IU=10080*60*1e3;async function NU(n){const e=await MU(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ks(e.getKey("auth")),p256dh:Ks(e.getKey("p256dh"))},s=await SU(n.firebaseDependencies);if(s){if(PU(s.subscriptionOptions,t))return Date.now()>=s.createTime+IU?DU(n,{token:s.token,createTime:Date.now(),subscriptionOptions:t}):s.token;try{await kU(n.firebaseDependencies,s.token)}catch(a){console.warn(a)}return N1(n.firebaseDependencies,t)}else return N1(n.firebaseDependencies,t)}async function DU(n,e){try{const t=await RU(n.firebaseDependencies,e),s={...e,token:t,createTime:Date.now()};return await Av(n.firebaseDependencies,s),t}catch(t){throw t}}async function N1(n,e){const s={token:await CU(n,e),createTime:Date.now(),subscriptionOptions:e};return await Av(n,s),s.token}async function MU(n,e){const t=await n.pushManager.getSubscription();return t||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bU(e)})}function PU(n,e){const t=e.vapidKey===n.vapidKey,s=e.endpoint===n.endpoint,a=e.auth===n.auth,l=e.p256dh===n.p256dh;return t&&s&&a&&l}function D1(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return OU(e,n),VU(e,n),LU(e,n),e}function OU(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const s=e.notification.body;s&&(n.notification.body=s);const a=e.notification.image;a&&(n.notification.image=a);const l=e.notification.icon;l&&(n.notification.icon=l)}function VU(n,e){e.data&&(n.data=e.data)}function LU(n,e){if(!e.fcmOptions&&!e.notification?.click_action)return;n.fcmOptions={};const t=e.fcmOptions?.link??e.notification?.click_action;t&&(n.fcmOptions.link=t);const s=e.fcmOptions?.analytics_label;s&&(n.fcmOptions.analyticsLabel=s)}function zU(n){return typeof n=="object"&&!!n&&k2 in n}function jU(n){if(!n||!n.options)throw Ug("App Configuration Object");if(!n.name)throw Ug("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const s of e)if(!t[s])throw Ug(s);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}function Ug(n){return Sn.create("missing-app-config-values",{valueName:n})}class UU{constructor(e,t,s){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const a=jU(e);this.firebaseDependencies={app:e,appConfig:a,installations:t,analyticsProvider:s}}_delete(){return Promise.resolve()}}async function BU(n){try{n.swRegistration=await navigator.serviceWorker.register(fU,{scope:mU}),n.swRegistration.update().catch(()=>{}),await FU(n.swRegistration)}catch(e){throw Sn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}}async function FU(n){return new Promise((e,t)=>{const s=setTimeout(()=>t(new Error(`Service worker not registered after ${R1} ms`)),R1),a=n.installing||n.waiting;n.active?(clearTimeout(s),e()):a?a.onstatechange=l=>{l.target?.state==="activated"&&(a.onstatechange=null,clearTimeout(s),e())}:(clearTimeout(s),t(new Error("No incoming service worker found.")))})}async function qU(n,e){if(!e&&!n.swRegistration&&await BU(n),!(!e&&n.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Sn.create("invalid-sw-registration");n.swRegistration=e}}async function HU(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=R2)}async function M2(n,e){if(!navigator)throw Sn.create("only-available-in-window");if(Notification.permission==="default"&&await Notification.requestPermission(),Notification.permission!=="granted")throw Sn.create("permission-blocked");return await HU(n,e?.vapidKey),await qU(n,e?.serviceWorkerRegistration),NU(n)}async function $U(n,e,t){const s=GU(e);(await n.firebaseDependencies.analyticsProvider.get()).logEvent(s,{message_id:t[k2],message_name:t[gU],message_time:t[yU],message_device_time:Math.floor(Date.now()/1e3)})}function GU(n){switch(n){case xu.NOTIFICATION_CLICKED:return"notification_open";case xu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}async function KU(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===xu.PUSH_RECEIVED&&(typeof n.onMessageHandler=="function"?n.onMessageHandler(D1(t)):n.onMessageHandler.next(D1(t)));const s=t.data;zU(s)&&s[vU]==="1"&&await $U(n,t.messageType,s)}const M1="@firebase/messaging",P1="0.12.23";const YU=n=>{const e=new UU(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>KU(e,t)),e},QU=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:s=>M2(e,s)}};function XU(){ws(new Bi("messaging",YU,"PUBLIC")),ws(new Bi("messaging-internal",QU,"PRIVATE")),_i(M1,P1),_i(M1,P1,"esm2020")}async function WU(){try{await $A()}catch{return!1}return typeof window<"u"&&HA()&&Q4()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function JU(n,e){if(!navigator)throw Sn.create("only-available-in-window");return n.onMessageHandler=e,()=>{n.onMessageHandler=null}}function ZU(n=QA()){return WU().then(e=>{if(!e)throw Sn.create("unsupported-browser")},e=>{throw Sn.create("indexed-db-unsupported")}),Dl(tn(n),"messaging").getImmediate()}async function e8(n,e){return n=tn(n),M2(n,e)}function t8(n,e){return n=tn(n),JU(n,e)}XU();const n8=n=>{const e=new Map;e.set("web",{name:"web"});const t=n.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},s=(l,c)=>{t.platforms.set(l,c)},a=l=>{t.platforms.has(l)&&(t.currentPlatform=t.platforms.get(l))};return t.addPlatform=s,t.setPlatform=a,t},i8=n=>n.CapacitorPlatforms=n8(n),P2=i8(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});P2.addPlatform;P2.setPlatform;var Al;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(Al||(Al={}));let Bg=class extends Error{constructor(e,t,s){super(e),this.message=e,this.code=t,this.data=s}};const s8=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},r8=n=>{var e,t,s,a,l;const c=n.CapacitorCustomPlatform||null,h=n.Capacitor||{},p=h.Plugins=h.Plugins||{},m=n.CapacitorPlatforms,y=()=>c!==null?c.name:s8(n),v=((e=m?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||y,w=()=>v()!=="web",S=((t=m?.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||w,N=R=>{const A=re.get(R);return!!(A?.platforms.has(v())||F(R))},j=((s=m?.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||N,L=R=>{var A;return(A=h.PluginHeaders)===null||A===void 0?void 0:A.find(I=>I.name===R)},F=((a=m?.currentPlatform)===null||a===void 0?void 0:a.getPluginHeader)||L,W=R=>n.console.error(R),J=(R,A,I)=>Promise.reject(`${I} does not have an implementation of "${A}".`),re=new Map,he=(R,A={})=>{const I=re.get(R);if(I)return console.warn(`Capacitor plugin "${R}" already registered. Cannot register plugins twice.`),I.proxy;const M=v(),P=F(R);let V;const D=async()=>(!V&&M in A?V=typeof A[M]=="function"?V=await A[M]():V=A[M]:c!==null&&!V&&"web"in A&&(V=typeof A.web=="function"?V=await A.web():V=A.web),V),Re=(z,E)=>{var B,Y;if(P){const ne=P?.methods.find(ce=>E===ce.name);if(ne)return ne.rtype==="promise"?ce=>h.nativePromise(R,E.toString(),ce):(ce,fe)=>h.nativeCallback(R,E.toString(),ce,fe);if(z)return(B=z[E])===null||B===void 0?void 0:B.bind(z)}else{if(z)return(Y=z[E])===null||Y===void 0?void 0:Y.bind(z);throw new Bg(`"${R}" plugin is not implemented on ${M}`,Al.Unimplemented)}},Ve=z=>{let E;const B=(...Y)=>{const ne=D().then(ce=>{const fe=Re(ce,z);if(fe){const de=fe(...Y);return E=de?.remove,de}else throw new Bg(`"${R}.${z}()" is not implemented on ${M}`,Al.Unimplemented)});return z==="addListener"&&(ne.remove=async()=>E()),ne};return B.toString=()=>`${z.toString()}() { [capacitor code] }`,Object.defineProperty(B,"name",{value:z,writable:!1,configurable:!1}),B},X=Ve("addListener"),oe=Ve("removeListener"),ye=(z,E)=>{const B=X({eventName:z},E),Y=async()=>{const ce=await B;oe({eventName:z,callbackId:ce},E)},ne=new Promise(ce=>B.then(()=>ce({remove:Y})));return ne.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Y()},ne},Ee=new Proxy({},{get(z,E){switch(E){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?ye:X;case"removeListener":return oe;default:return Ve(E)}}});return p[R]=Ee,re.set(R,{name:R,proxy:Ee,platforms:new Set([...Object.keys(A),...P?[M]:[]])}),Ee},me=((l=m?.currentPlatform)===null||l===void 0?void 0:l.registerPlugin)||he;return h.convertFileSrc||(h.convertFileSrc=R=>R),h.getPlatform=v,h.handleError=W,h.isNativePlatform=S,h.isPluginAvailable=j,h.pluginMethodNoop=J,h.registerPlugin=me,h.Exception=Bg,h.DEBUG=!!h.DEBUG,h.isLoggingEnabled=!!h.isLoggingEnabled,h.platform=h.getPlatform(),h.isNative=h.isNativePlatform(),h},a8=n=>n.Capacitor=r8(n),sa=a8(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),O2=sa.registerPlugin;sa.Plugins;let V2=class{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(t);const l=this.windowListeners[e];l&&!l.registered&&this.addWindowListener(l),s&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,t);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,s){const a=this.listeners[e];if(!a){if(s){let l=this.retainedEventArguments[e];l||(l=[]),l.push(t),this.retainedEventArguments[e]=l}return}a.forEach(l=>l(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:s=>{this.notifyListeners(t,s)}}}unimplemented(e="not implemented"){return new sa.Exception(e,Al.Unimplemented)}unavailable(e="not available"){return new sa.Exception(e,Al.Unavailable)}async removeListener(e,t){const s=this.listeners[e];if(!s)return;const a=s.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(s=>{this.notifyListeners(e,s)}))}};const O1=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),V1=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);let o8=class extends V2{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[a,l]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=V1(a).trim(),l=V1(l).trim(),t[a]=l}),t}async setCookie(e){try{const t=O1(e.key),s=O1(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,l=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${s||""}${a}; path=${l}; ${c};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}};O2("CapacitorCookies",{web:()=>new o8});const l8=async n=>new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{const a=s.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>t(a),s.readAsDataURL(n)}),c8=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(a=>a.toLocaleLowerCase()).reduce((a,l,c)=>(a[l]=n[e[c]],a),{})},u8=(n,e=!0)=>n?Object.entries(n).reduce((s,a)=>{const[l,c]=a;let h,p;return Array.isArray(c)?(p="",c.forEach(m=>{h=e?encodeURIComponent(m):m,p+=`${l}=${h}&`}),p.slice(0,-1)):(h=e?encodeURIComponent(c):c,p=`${l}=${h}`),`${s}&${p}`},"").substr(1):null,h8=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),a=c8(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(a.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[c,h]of Object.entries(n.data||{}))l.set(c,h);t.body=l.toString()}else if(a.includes("multipart/form-data")||n.data instanceof FormData){const l=new FormData;if(n.data instanceof FormData)n.data.forEach((h,p)=>{l.append(p,h)});else for(const h of Object.keys(n.data))l.append(h,n.data[h]);t.body=l;const c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(a.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};let d8=class extends V2{async request(e){const t=h8(e,e.webFetchExtra),s=u8(e.params,e.shouldEncodeUrlParams),a=s?`${e.url}?${s}`:e.url,l=await fetch(a,t),c=l.headers.get("content-type")||"";let{responseType:h="text"}=l.ok?e:{};c.includes("application/json")&&(h="json");let p,m;switch(h){case"arraybuffer":case"blob":m=await l.blob(),p=await l8(m);break;case"json":p=await l.json();break;default:p=await l.text()}const y={};return l.headers.forEach((v,w)=>{y[w]=v}),{data:p,headers:y,status:l.status,url:l.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}};O2("CapacitorHttp",{web:()=>new d8});const f8={apiKey:"AIzaSyDsGmC9FOrwuJQMqFKhmCuxiJIP0vxoTBU",authDomain:"donetogether-v1.firebaseapp.com",projectId:"donetogether-v1",storageBucket:"donetogether-v1.firebasestorage.app",messagingSenderId:"677287957451",appId:"1:677287957451:web:812a897c8f906a63b8dc4e",measurementId:"G-XXXXXXXXXX"},kv=YA(f8),$c=lj(kv),tt=d9(kv,{ignoreUndefinedProperties:!0});let L2=null;try{sa.isNativePlatform()||(L2=ZU(kv))}catch(n){console.error("Firebase Messaging initialization failed:",n)}const Gc=L2,m8=new Li;m8.setCustomParameters({prompt:"select_account"});const p8="modulepreload",g8=function(n,e){return new URL(n,e).href},L1={},y8=function(e,t,s){let a=Promise.resolve();if(t&&t.length>0){let m=function(y){return Promise.all(y.map(v=>Promise.resolve(v).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};const c=document.getElementsByTagName("link"),h=document.querySelector("meta[property=csp-nonce]"),p=h?.nonce||h?.getAttribute("nonce");a=m(t.map(y=>{if(y=g8(y,s),y in L1)return;L1[y]=!0;const v=y.endsWith(".css"),w=v?'[rel="stylesheet"]':"";if(s)for(let N=c.length-1;N>=0;N--){const j=c[N];if(j.href===y&&(!v||j.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${y}"]${w}`))return;const S=document.createElement("link");if(S.rel=v?"stylesheet":p8,v||(S.as="script"),S.crossOrigin="",S.href=y,p&&S.setAttribute("nonce",p),document.head.appendChild(S),v)return new Promise((N,j)=>{S.addEventListener("load",N),S.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${y}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};const v8=n=>{const e=new Map;e.set("web",{name:"web"});const t=n.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},s=(l,c)=>{t.platforms.set(l,c)},a=l=>{t.platforms.has(l)&&(t.currentPlatform=t.platforms.get(l))};return t.addPlatform=s,t.setPlatform=a,t},b8=n=>n.CapacitorPlatforms=v8(n),z2=b8(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});z2.addPlatform;z2.setPlatform;var Cl;(function(n){n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE"})(Cl||(Cl={}));class Fg extends Error{constructor(e,t,s){super(e),this.message=e,this.code=t,this.data=s}}const _8=n=>{var e,t;return n?.androidBridge?"android":!((t=(e=n?.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||t===void 0)&&t.bridge?"ios":"web"},w8=n=>{var e,t,s,a,l;const c=n.CapacitorCustomPlatform||null,h=n.Capacitor||{},p=h.Plugins=h.Plugins||{},m=n.CapacitorPlatforms,y=()=>c!==null?c.name:_8(n),v=((e=m?.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||y,w=()=>v()!=="web",S=((t=m?.currentPlatform)===null||t===void 0?void 0:t.isNativePlatform)||w,N=R=>{const A=re.get(R);return!!(A?.platforms.has(v())||F(R))},j=((s=m?.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||N,L=R=>{var A;return(A=h.PluginHeaders)===null||A===void 0?void 0:A.find(I=>I.name===R)},F=((a=m?.currentPlatform)===null||a===void 0?void 0:a.getPluginHeader)||L,W=R=>n.console.error(R),J=(R,A,I)=>Promise.reject(`${I} does not have an implementation of "${A}".`),re=new Map,he=(R,A={})=>{const I=re.get(R);if(I)return console.warn(`Capacitor plugin "${R}" already registered. Cannot register plugins twice.`),I.proxy;const M=v(),P=F(R);let V;const D=async()=>(!V&&M in A?V=typeof A[M]=="function"?V=await A[M]():V=A[M]:c!==null&&!V&&"web"in A&&(V=typeof A.web=="function"?V=await A.web():V=A.web),V),Re=(z,E)=>{var B,Y;if(P){const ne=P?.methods.find(ce=>E===ce.name);if(ne)return ne.rtype==="promise"?ce=>h.nativePromise(R,E.toString(),ce):(ce,fe)=>h.nativeCallback(R,E.toString(),ce,fe);if(z)return(B=z[E])===null||B===void 0?void 0:B.bind(z)}else{if(z)return(Y=z[E])===null||Y===void 0?void 0:Y.bind(z);throw new Fg(`"${R}" plugin is not implemented on ${M}`,Cl.Unimplemented)}},Ve=z=>{let E;const B=(...Y)=>{const ne=D().then(ce=>{const fe=Re(ce,z);if(fe){const de=fe(...Y);return E=de?.remove,de}else throw new Fg(`"${R}.${z}()" is not implemented on ${M}`,Cl.Unimplemented)});return z==="addListener"&&(ne.remove=async()=>E()),ne};return B.toString=()=>`${z.toString()}() { [capacitor code] }`,Object.defineProperty(B,"name",{value:z,writable:!1,configurable:!1}),B},X=Ve("addListener"),oe=Ve("removeListener"),ye=(z,E)=>{const B=X({eventName:z},E),Y=async()=>{const ce=await B;oe({eventName:z,callbackId:ce},E)},ne=new Promise(ce=>B.then(()=>ce({remove:Y})));return ne.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await Y()},ne},Ee=new Proxy({},{get(z,E){switch(E){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return P?ye:X;case"removeListener":return oe;default:return Ve(E)}}});return p[R]=Ee,re.set(R,{name:R,proxy:Ee,platforms:new Set([...Object.keys(A),...P?[M]:[]])}),Ee},me=((l=m?.currentPlatform)===null||l===void 0?void 0:l.registerPlugin)||he;return h.convertFileSrc||(h.convertFileSrc=R=>R),h.getPlatform=v,h.handleError=W,h.isNativePlatform=S,h.isPluginAvailable=j,h.pluginMethodNoop=J,h.registerPlugin=me,h.Exception=Fg,h.DEBUG=!!h.DEBUG,h.isLoggingEnabled=!!h.isLoggingEnabled,h.platform=h.getPlatform(),h.isNative=h.isNativePlatform(),h},T8=n=>n.Capacitor=w8(n),bf=T8(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Iv=bf.registerPlugin;bf.Plugins;class j2{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){let s=!1;this.listeners[e]||(this.listeners[e]=[],s=!0),this.listeners[e].push(t);const l=this.windowListeners[e];l&&!l.registered&&this.addWindowListener(l),s&&this.sendRetainedArgumentsForEvent(e);const c=async()=>this.removeListener(e,t);return Promise.resolve({remove:c})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,t,s){const a=this.listeners[e];if(!a){if(s){let l=this.retainedEventArguments[e];l||(l=[]),l.push(t),this.retainedEventArguments[e]=l}return}a.forEach(l=>l(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:s=>{this.notifyListeners(t,s)}}}unimplemented(e="not implemented"){return new bf.Exception(e,Cl.Unimplemented)}unavailable(e="not available"){return new bf.Exception(e,Cl.Unavailable)}async removeListener(e,t){const s=this.listeners[e];if(!s)return;const a=s.indexOf(t);this.listeners[e].splice(a,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const t=this.retainedEventArguments[e];t&&(delete this.retainedEventArguments[e],t.forEach(s=>{this.notifyListeners(e,s)}))}}const z1=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),j1=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class x8 extends j2{async getCookies(){const e=document.cookie,t={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[a,l]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=j1(a).trim(),l=j1(l).trim(),t[a]=l}),t}async setCookie(e){try{const t=z1(e.key),s=z1(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,l=(e.path||"/").replace("path=",""),c=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${s||""}${a}; path=${l}; ${c};`}catch(t){return Promise.reject(t)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Iv("CapacitorCookies",{web:()=>new x8});const E8=async n=>new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{const a=s.result;e(a.indexOf(",")>=0?a.split(",")[1]:a)},s.onerror=a=>t(a),s.readAsDataURL(n)}),S8=(n={})=>{const e=Object.keys(n);return Object.keys(n).map(a=>a.toLocaleLowerCase()).reduce((a,l,c)=>(a[l]=n[e[c]],a),{})},A8=(n,e=!0)=>n?Object.entries(n).reduce((s,a)=>{const[l,c]=a;let h,p;return Array.isArray(c)?(p="",c.forEach(m=>{h=e?encodeURIComponent(m):m,p+=`${l}=${h}&`}),p.slice(0,-1)):(h=e?encodeURIComponent(c):c,p=`${l}=${h}`),`${s}&${p}`},"").substr(1):null,C8=(n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),a=S8(n.headers)["content-type"]||"";if(typeof n.data=="string")t.body=n.data;else if(a.includes("application/x-www-form-urlencoded")){const l=new URLSearchParams;for(const[c,h]of Object.entries(n.data||{}))l.set(c,h);t.body=l.toString()}else if(a.includes("multipart/form-data")||n.data instanceof FormData){const l=new FormData;if(n.data instanceof FormData)n.data.forEach((h,p)=>{l.append(p,h)});else for(const h of Object.keys(n.data))l.append(h,n.data[h]);t.body=l;const c=new Headers(t.headers);c.delete("content-type"),t.headers=c}else(a.includes("application/json")||typeof n.data=="object")&&(t.body=JSON.stringify(n.data));return t};class R8 extends j2{async request(e){const t=C8(e,e.webFetchExtra),s=A8(e.params,e.shouldEncodeUrlParams),a=s?`${e.url}?${s}`:e.url,l=await fetch(a,t),c=l.headers.get("content-type")||"";let{responseType:h="text"}=l.ok?e:{};c.includes("application/json")&&(h="json");let p,m;switch(h){case"arraybuffer":case"blob":m=await l.blob(),p=await E8(m);break;case"json":p=await l.json();break;default:p=await l.text()}const y={};return l.headers.forEach((v,w)=>{y[w]=v}),{data:p,headers:y,status:l.status,url:l.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Iv("CapacitorHttp",{web:()=>new R8});const U1=Iv("GoogleAuth",{web:()=>y8(()=>import("./web-EpGRtyW4.js"),[],import.meta.url).then(n=>new n.GoogleAuthWeb)});function k8(){const[n,e]=Q.useState(null),[t,s]=Q.useState(null),[a,l]=Q.useState(!0),[c,h]=Q.useState(null),{i18n:p}=Tf();return Q.useEffect(()=>{sa.isNativePlatform()&&U1.initialize({clientId:"677287957451-6vja60qu97qvobgr61li4b3dlrj1pslq.apps.googleusercontent.com",scopes:["profile","email"],grantOfflineAccess:!0});const v=$c.onAuthStateChanged(async S=>{try{if(e(S),S){const N=kt(tt,"users",S.uid),j=await Ss(N);if(j.exists()){const L=j.data();s(L)}else{const L={uid:S.uid,email:S.email||"",displayName:S.displayName||"User",photoURL:S.photoURL||void 0,friends:[],createdAt:ze.now(),language:p.language||"en"};await o2(N,L),s(L)}}else s(null)}catch(N){console.error("Auth state change error:",N)}finally{l(!1)}});return setTimeout(async()=>{try{console.log(" Checking for redirect result...");const S=await Ez($c);S?.user?(console.log(" Redirect login success:",S.user.email),console.log(" User ID:",S.user.uid),console.log(" Provider:",S.providerId)):(console.log(" No redirect result found (this is normal on first page load)"),console.log(" Current URL:",window.location.href),console.log(" URL params:",window.location.search))}catch(S){console.error(" Redirect result error:",S),console.error(" Error code:",S.code),console.error(" Error message:",S.message),console.error(" Full error:",JSON.stringify(S,null,2)),S.code==="auth/unauthorized-domain"?console.error(" FIX: Add localhost to Firebase Authorized Domains"):S.code==="auth/popup-blocked"&&console.error(" FIX: Enable popups or use redirect (already using redirect)")}},500),()=>v()},[p]),{user:n,userProfile:t,loading:a,error:c,signInWithGoogle:async()=>{try{if(l(!0),h(null),sa.isNativePlatform()){console.log(" Starting native sign in with explicit clientId...");const v=await U1.signIn();console.log(" Native sign in success, getting credential...");const w=v.authentication.idToken;if(!w)throw new Error("No idToken received from Google Auth");const S=Li.credential(w),N=await Y5($c,S);console.log(" Firebase sign in with credential success:",N.user.email)}else{console.log(" Starting Firebase POPUP sign in (changed from redirect)..."),console.log(" Current URL:",window.location.href);const v=new Li;v.setCustomParameters({prompt:"select_account"});const w=await yz($c,v);console.log(" Popup sign in success:",w.user.email)}}catch(v){console.error(" Detailed sign in error:",v),console.error(" Error code:",v.code),console.error(" Error message:",v.message);const w=v.message||"Something went wrong";h(`Inloggning misslyckades: ${w}`)}finally{l(!1)}},signOut:async()=>{try{h(null),await W5($c)}catch(v){h(v.message),console.error("Sign out error:",v)}},isAuthenticated:!!n}}async function rr(n,e,t,s,a){try{const l=qi(tt,"notifications");await wv(l,{to:n,title:e,body:t,type:s,relatedId:a,status:"pending",createdAt:ze.now()}),console.log(`Notification queued for ${n}: ${e}`)}catch(l){console.error("Error queuing notification:",l)}}function I8(n){const[e,t]=Q.useState([]),[s,a]=Q.useState(!0),[l,c]=Q.useState(null);return Q.useEffect(()=>{if(!n){t([]),a(!1);return}const h=qi(tt,"plans"),p=ia(h,qn(`members.${n}`,"!=",null)),m=eo(p,y=>{const v=[];y.forEach(w=>{const S=w.data();v.push({id:w.id,...S,items:S.items||[],members:S.members||{}})}),t(v.sort((w,S)=>{const N=w.created?.toMillis?.()||0;return(S.created?.toMillis?.()||0)-N})),a(!1),c(null)},y=>{console.error("Error fetching plans:",y),c(y.message),a(!1)});return()=>m()},[n]),{plans:e,loading:s,error:l}}function N8(n){const[e,t]=Q.useState(null),[s,a]=Q.useState(!0),[l,c]=Q.useState(null);return Q.useEffect(()=>{if(!n){t(null),a(!1);return}const h=kt(tt,"plans",n),p=eo(h,m=>{if(m.exists()){const y=m.data();t({id:m.id,...y,items:y.items||[],members:y.members||{}})}else t(null);a(!1),c(null)},m=>{console.error("Error fetching plan:",m),c(m.message),a(!1)});return()=>p()},[n]),{plan:e,loading:s,error:l}}async function D8(n,e,t,s,a,l){const c=qi(tt,"plans"),h={name:n,ownerId:e,members:{[e]:{uid:e,email:t,displayName:s,photoURL:a,role:"owner",joinedAt:ze.now()}},items:[],created:ze.now(),completed:!1,lastModified:ze.now(),imageUrl:l};return(await wv(c,h)).id}async function M8(n,e){const t=kt(tt,"plans",n),s={...e};e.completed===!1&&(s.completedAt=null),await En(t,{...s,lastModified:ze.now()})}async function B1(n){const e=kt(tt,"plans",n);await l2(e)}async function P8(n,e,t,s,a){const l=kt(tt,"plans",n),c={id:Math.random().toString(36).substring(2,11),text:e,checked:!1,imageUrl:a};await En(l,{items:yf(c),lastModified:ze.now(),completed:!1,completedAt:null});const h=await Ss(l);if(h.exists()){const p=h.data();Object.keys(p.members).forEach(m=>{m!==t&&rr(m,"Ny punkt! ",`${s} la till "${e}" i ${p.name}`,"plan_update",n)})}}async function O8(n,e,t){const s=kt(tt,"plans",n),a=await Ss(s);if(!a.exists())return;const l=a.data(),c=l.items.map(p=>p.id===e?{...p,...t}:p),h=c.length>0&&c.every(p=>p.checked);await En(s,{items:c,completed:h,completedAt:h?ze.now():null,lastModified:ze.now()}),h&&Object.keys(l.members).forEach(p=>{rr(p,"Plan slutfrd! ",`Planen "${l.name}" r nu helt klar!`,"plan_complete",n)})}async function V8(n,e){const t=kt(tt,"plans",n),s=await Ss(t);if(!s.exists())return;const a=s.data(),l=a.items.filter(h=>h.id!==e),c=l.length>0&&l.every(h=>h.checked);await En(t,{items:l,completed:c,completedAt:c?ze.now():null,lastModified:ze.now()}),c&&Object.keys(a.members).forEach(h=>{rr(h,"Plan slutfrd! ",`Planen "${a.name}" r nu helt klar!`,"plan_complete",n)})}async function L8(n,e,t,s){const a=kt(tt,"plans",n),l=await Ss(a);if(!l.exists())return;const c=l.data(),h=c.items.find(v=>v.id===e);if(!h)return;const p=c.items.map(v=>{if(v.id===e){const w=!v.checked;return{...v,checked:w,checkedBy:w?s:void 0,checkedByUid:w?t:void 0}}return v}),m=p.length>0&&p.every(v=>v.checked),y=!h.checked;await En(a,{items:p,completed:m,completedAt:m?ze.now():null,lastModified:ze.now()}),Object.keys(c.members).forEach(v=>{v!==t&&(m&&y?rr(v,"Plan slutfrd! ",`Planen "${c.name}" r nu helt klar!`,"plan_complete",n):y&&rr(v,"Punkt avklarad! ",`${s} fixade "${h.text}" i ${c.name}`,"plan_update",n))})}async function Nv(n,e,t,s,a,l="editor"){const c=kt(tt,"plans",n),h={uid:e,email:t,displayName:s,photoURL:a,role:l,joinedAt:ze.now()};await En(c,{[`members.${e}`]:h,lastModified:ze.now()}),await rr(e,"Du har lagts till i en plan! ",`Du r nu medlem i planen "${(await Ss(c)).data()?.name}".`,"plan_update",n)}async function z8(n,e,t,s,a){const l=kt(tt,"plans",n),c=await Ss(l);if(!c.exists())return;const h=c.data(),p=h.items.find(S=>S.id===e);if(!p)return;const m=p.reactions||[],y=m.findIndex(S=>S.userId===t&&S.emoji===a);let v;if(y>-1)v=m.filter((S,N)=>N!==y);else{v=[...m,{userId:t,userName:s,emoji:a}];const S=p.checkedByUid||h.ownerId;S!==t&&rr(S,`${s} reagerade! ${a}`,`${s} gav en reaktion p "${p.text}" i ${h.name}`,"plan_update",n)}const w=h.items.map(S=>S.id===e?{...S,reactions:v}:S);await En(l,{items:w,lastModified:ze.now()})}async function j8(n){const e=qi(tt,"plans"),t=ia(e,qn(`members.${n}`,"!=",null),qn("completed","==",!0));eo(t,async s=>{const a=Date.now(),l=720*60*60*1e3;for(const c of s.docs){const h=c.data();if(h.completedAt){const p=h.completedAt.toMillis();a-p>l&&(await l2(c.ref),console.log(`Deleted expired plan: ${h.name}`))}}})}function U2(n){const[e,t]=Q.useState([]),[s,a]=Q.useState(!0);return Q.useEffect(()=>{if(!n){t([]),a(!1);return}const l=kt(tt,"users",n),c=eo(l,async h=>{if(!h.exists()){t([]),a(!1);return}const m=h.data().friends||[];if(m.length===0){t([]),a(!1);return}const y=await Promise.all(m.map(async v=>{const w=await Ss(kt(tt,"users",v));return w.exists()?w.data():null}));t(y.filter(v=>v!==null)),a(!1)});return()=>c()},[n]),{friends:e,loading:s}}function B2(n){const[e,t]=Q.useState([]),[s,a]=Q.useState([]),[l,c]=Q.useState(!0);return Q.useEffect(()=>{if(!n){t([]),a([]),c(!1);return}const h=ia(qi(tt,"friendRequests"),qn("to","==",n),qn("status","==","pending")),p=eo(h,v=>{const w=[];v.forEach(S=>{w.push({id:S.id,...S.data()})}),t(w),c(!1)}),m=ia(qi(tt,"friendRequests"),qn("from","==",n),qn("status","==","pending")),y=eo(m,v=>{const w=[];v.forEach(S=>{w.push({id:S.id,...S.data()})}),a(w)});return()=>{p(),y()}},[n]),{incomingRequests:e,outgoingRequests:s,loading:l}}async function U8(n){const e=qi(tt,"users"),t=ia(e,qn("email","==",n.toLowerCase())),s=await _v(t);return s.empty?null:s.docs[0].data()}async function B8(n,e){const t=ia(qi(tt,"friendRequests"),qn("from","==",n.uid),qn("to","==",e.uid),qn("status","==","pending"));if(!(await _v(t)).empty)throw new Error("Friend request already sent");if(n.friends.includes(e.uid))throw new Error("Already friends");await wv(qi(tt,"friendRequests"),{from:n.uid,fromEmail:n.email,fromName:n.displayName,fromPhoto:n.photoURL||"",to:e.uid,toEmail:e.email,status:"pending",createdAt:ze.now()}),await rr(e.uid,"Ny vnfrfrgan! ",`${n.displayName} vill lgga till dig som vn.`,"friend_request")}async function F8(n){const e=kt(tt,"friendRequests",n),t=await Ss(e);if(!t.exists())return;const s=t.data(),a=kt(tt,"users",s.from),l=kt(tt,"users",s.to);await En(a,{friends:yf(s.to)}),await En(l,{friends:yf(s.from)}),await En(e,{status:"accepted"}),await rr(s.from,"Vnfrfrgan accepterad! ",`${s.toEmail} har accepterat din frfrgan.`,"friend_request")}async function q8(n){const e=kt(tt,"friendRequests",n);await En(e,{status:"declined"})}async function H8(n,e){const t=kt(tt,"users",n),s=kt(tt,"users",e);await En(t,{friends:_1(e)}),await En(s,{friends:_1(n)})}function $8(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let e="";for(let t=0;t<6;t++)e+=n.charAt(Math.floor(Math.random()*n.length));return e}async function G8(n,e,t,s){const a=ia(qi(tt,"planInvites"),qn("planId","==",n)),c=(await _v(a)).docs.find(h=>{const p=h.data();return p.expiresAt?p.expiresAt.toMillis()>Date.now():!0});return c?c.id:K8(n,e,t,s,7)}async function K8(n,e,t,s,a,l){const c=$8(),h={planId:n,planName:e,createdBy:t,createdByName:s,createdAt:ze.now(),expiresAt:ze.fromDate(new Date(Date.now()+a*24*60*60*1e3)),maxUses:null,useCount:0};return await o2(kt(tt,"planInvites",c),h),c}async function F2(n){const e=kt(tt,"planInvites",n),t=await Ss(e);if(!t.exists())return null;const s={id:t.id,...t.data()};return s.expiresAt&&s.expiresAt.toMillis()<Date.now()||s.maxUses&&s.useCount>=s.maxUses?null:s}async function q2(n){const e=kt(tt,"planInvites",n);await En(e,{useCount:T9(1)})}function Y8(n){return`${window.location.origin}/join/${n}`}function Q8(n){const[e,t]=Q.useState(null);return Q.useEffect(()=>{if(!n||sa.isNativePlatform()||!Gc)return;"Notification"in window&&(async()=>{try{if(await Notification.requestPermission()==="granted"&&Gc){const h=await e8(Gc,{vapidKey:"BN4q6ahLqD56ssLIqw8C0CYOb70yDq_7ePfJ8xLO1wL8Uxz9nds2RzRB8gPsJ6_JSq37AxVI-z3ssg11Hz7KU3A"});if(h){t(h);const p=kt(tt,"users",n);await En(p,{fcmTokens:yf(h)})}}}catch(c){console.error("Error getting notification token:",c)}})();const s=ia(qi(tt,"notifications"),qn("to","==",n),qn("status","==","pending")),a=eo(s,l=>{l.docChanges().forEach(c=>{if(c.type==="added"){const h=c.doc.data();"Notification"in window&&Notification.permission==="granted"&&new Notification(h.title||"DoneTogether",{body:h.body,icon:"/DoneTogether/pwa-icon.png"}),En(c.doc.ref,{status:"sent"})}})});if(Gc){const l=t8(Gc,c=>{c.notification&&new Notification(c.notification.title||"DoneTogether",{body:c.notification.body,icon:"/pwa-icon.png"})});return()=>{a(),l()}}return()=>{a()}},[n]),{token:e}}function X8({onClose:n,onJoin:e,user:t,userProfile:s}){const[a,l]=Q.useState(""),[c,h]=Q.useState(!1),[p,m]=Q.useState(""),y=async()=>{if(a.trim()){h(!0),m("");try{let v=a.trim();v.includes("/join/")&&(v=v.split("/join/")[1]);const w=await F2(v);if(!w){m("Ogiltig eller utgngen inbjudningskod"),h(!1);return}await Nv(w.planId,t.uid,s.email,s.displayName,s.photoURL),await q2(v),e(w.planId),n()}catch(v){console.error("Error joining plan:",v),m("Kunde inte g med i planen. Frsk igen.")}finally{h(!1)}}};return x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 dark:bg-black/80 backdrop-blur-sm px-6",children:x.jsxs(_t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-zinc-900 rounded-[32px] border border-zinc-200 dark:border-zinc-800 max-w-md w-full p-10 relative shadow-2xl",children:[x.jsx("button",{onClick:n,className:"absolute top-8 right-8 text-zinc-400 hover:text-zinc-900 dark:hover:text-white transition",children:x.jsx(Hr,{className:"w-6 h-6"})}),x.jsxs("div",{className:"mb-8",children:[x.jsx("div",{className:"w-14 h-14 rounded-2xl bg-purple-500/10 flex items-center justify-center mb-6 border border-purple-500/20 rotate-3",children:x.jsx(OA,{className:"w-7 h-7 text-purple-600 dark:text-purple-400"})}),x.jsx("h2",{className:"text-3xl font-black italic uppercase tracking-tighter mb-2 text-zinc-900 dark:text-white",children:"DoneTogether"}),x.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 font-medium italic",children:"Klistra in en inbjudningslnk eller kod fr att g med i en plan."})]}),x.jsxs("div",{className:"space-y-6",children:[x.jsx("div",{children:x.jsx("input",{type:"text",value:a,onChange:v=>l(v.target.value),placeholder:"T.ex. https://.../join/ABC123",className:"w-full h-16 px-6 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-2xl focus:border-purple-500 focus:ring-2 focus:ring-purple-500/20 transition-all outline-none font-bold italic text-lg text-zinc-900 dark:text-white placeholder:text-zinc-300 dark:placeholder:text-zinc-700 shadow-inner",autoFocus:!0})}),p&&x.jsx("div",{className:"p-4 rounded-2xl bg-red-500/5 border border-red-500/20 text-red-500 text-sm font-bold text-center italic",children:p}),x.jsx("button",{onClick:y,disabled:c||!a.trim(),className:"w-full h-16 bg-purple-600 dark:bg-purple-600 text-white rounded-2xl font-black italic uppercase tracking-widest hover:bg-purple-500 disabled:opacity-30 transition-all flex items-center justify-center gap-3 shadow-xl shadow-purple-500/20 active:scale-95",children:c?x.jsxs(x.Fragment,{children:[x.jsx(VA,{className:"w-5 h-5 animate-spin"}),"Gr med..."]}):x.jsxs(x.Fragment,{children:["G med nu",x.jsx(ZV,{className:"w-5 h-5 stroke-[3px]"})]})})]})]})})}function H2(){const{i18n:n}=Tf(),e=[{code:"en",label:"English",flag:""},{code:"sv",label:"Svenska",flag:""},{code:"tr",label:"Trke",flag:""}],t=n.language||"en";return x.jsx("div",{className:"flex items-center gap-2",children:x.jsx("div",{className:"flex gap-1 bg-zinc-100 dark:bg-zinc-800/50 p-1 rounded-xl border border-zinc-200 dark:border-zinc-800",children:e.map(s=>x.jsxs("button",{onClick:()=>n.changeLanguage(s.code),className:`flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold transition-all ${t.startsWith(s.code)?"bg-white dark:bg-zinc-700 text-zinc-900 dark:text-white shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"}`,children:[x.jsx("span",{children:s.flag}),x.jsx("span",{className:"hidden sm:inline",children:s.label})]},s.code))})})}function W8({onSignIn:n,onClose:e,error:t}){const{t:s}=Tf();return x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 dark:bg-black/80 backdrop-blur-sm px-6",children:x.jsxs(_t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-zinc-900 rounded-[32px] border border-zinc-200 dark:border-zinc-800 max-w-md w-full p-10 relative shadow-2xl",children:[x.jsx("button",{onClick:e,className:"absolute top-8 right-8 text-zinc-400 hover:text-zinc-900 dark:hover:text-white transition",children:x.jsx(Hr,{className:"w-6 h-6"})}),x.jsxs("div",{className:"text-center mb-10",children:[x.jsx("div",{className:"w-20 h-20 rounded-3xl bg-emerald-500 flex items-center justify-center mx-auto mb-6 shadow-xl shadow-emerald-500/20 rotate-3",children:x.jsx(d4,{className:"w-10 h-10 text-black stroke-[2.5px]"})}),x.jsx("h2",{className:"text-3xl font-black italic uppercase tracking-tighter mb-2 text-zinc-900 dark:text-white",children:s("auth.login")}),x.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 font-medium italic mb-6",children:s("auth.login_subtitle")}),x.jsx("div",{className:"flex justify-center",children:x.jsx(H2,{})})]}),t&&x.jsx("div",{className:"mb-6 p-4 rounded-2xl bg-red-500/5 border border-red-500/20 text-red-500 text-sm font-bold text-center italic",children:t}),x.jsxs("button",{onClick:async()=>{try{await n()}catch(a){console.error("Error in onSignIn:",a)}},className:"w-full h-16 rounded-2xl bg-zinc-950 dark:bg-white text-white dark:text-black font-black italic uppercase tracking-widest flex items-center justify-center gap-4 hover:scale-[1.02] active:scale-[0.98] transition-all shadow-xl shadow-black/10",children:[x.jsxs("svg",{className:"w-6 h-6",viewBox:"0 0 24 24",children:[x.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),x.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),x.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),x.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),s("auth.continue_google")]})]})})}function J8({onClose:n,currentUser:e}){const[t,s]=Q.useState(""),[a,l]=Q.useState(null),[c,h]=Q.useState(!1),[p,m]=Q.useState(""),[y,v]=Q.useState(""),{friends:w,loading:S}=U2(e.uid),{incomingRequests:N,outgoingRequests:j}=B2(e.uid),L=async()=>{if(t.trim()){h(!0),m(""),l(null);try{const R=await U8(t.trim());R?R.uid===e.uid?m("Du kan inte lgga till dig sjlv som vn"):l(R):m("Ingen anvndare hittades med den e-postadressen")}catch{m("Ett fel uppstod vid skningen")}finally{h(!1)}}},F=async R=>{try{await B8(e,R),v("Vnfrfrgan skickad!"),l(null),s(""),setTimeout(()=>v(""),2e3)}catch(A){m(A.message)}},W=async R=>{try{await F8(R),v("Vnfrfrgan accepterad!"),setTimeout(()=>v(""),2e3)}catch(A){console.error("Error accepting request:",A)}},J=async R=>{try{await q8(R),v("Vnfrfrgan avvisad"),setTimeout(()=>v(""),2e3)}catch(A){console.error("Error declining request:",A)}},re=async R=>{if(confirm("r du sker p att du vill ta bort denna vn?"))try{await H8(e.uid,R),v("Vn borttagen"),setTimeout(()=>v(""),2e3)}catch(A){console.error("Error removing friend:",A)}},he=R=>w.some(A=>A.uid===R),me=R=>j.some(A=>A.to===R)||N.some(A=>A.from===R);return x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 dark:bg-black/80 backdrop-blur-sm px-6",children:x.jsxs(_t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-zinc-900 rounded-[40px] border border-zinc-200 dark:border-zinc-800 max-w-2xl w-full max-h-[85vh] overflow-hidden flex flex-col shadow-2xl",children:[x.jsxs("div",{className:"p-8 border-b border-zinc-100 dark:border-zinc-800 flex items-center justify-between bg-zinc-50/50 dark:bg-zinc-800/20",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 flex items-center justify-center border border-emerald-500/20 rotate-3",children:x.jsx(Xd,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-black italic uppercase tracking-tighter text-zinc-900 dark:text-white",children:"Vnner"}),x.jsx("p",{className:"text-xs font-bold text-zinc-400 dark:text-zinc-500 uppercase tracking-widest italic",children:"Hitta dina utfrare"})]})]}),x.jsx("button",{onClick:n,className:"p-2 rounded-xl text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all",children:x.jsx(Hr,{className:"w-6 h-6"})})]}),x.jsx(Id,{children:y&&x.jsx(_t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"mx-8 mt-6 p-4 rounded-2xl bg-emerald-500/10 border border-emerald-500/20 text-emerald-600 dark:text-emerald-400 text-sm font-bold text-center italic",children:y})}),x.jsxs("div",{className:"flex-1 overflow-auto p-8 space-y-8",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest ml-1",children:"Lgg till ny vn"}),x.jsxs("div",{className:"flex gap-3",children:[x.jsxs("div",{className:"flex-1 relative group",children:[x.jsx(Yx,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-zinc-300 dark:text-zinc-600 group-focus-within:text-emerald-500 transition-colors"}),x.jsx("input",{type:"email",value:t,onChange:R=>s(R.target.value),onKeyDown:R=>R.key==="Enter"&&L(),placeholder:"Sk efter Gmail-adress...",className:"w-full h-14 pl-14 pr-6 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-2xl outline-none focus:border-emerald-500 focus:ring-2 focus:ring-emerald-500/10 transition-all font-bold italic text-zinc-900 dark:text-white placeholder:text-zinc-300 dark:placeholder:text-zinc-700 shadow-inner"})]}),x.jsxs("button",{onClick:L,disabled:c||!t.trim(),className:"px-8 h-14 rounded-2xl bg-zinc-900 dark:bg-white text-white dark:text-black font-black italic uppercase tracking-widest hover:scale-[1.02] active:scale-[0.98] disabled:opacity-30 transition-all flex items-center gap-3 shadow-xl shadow-black/10",children:[c?x.jsx(VA,{className:"w-5 h-5 animate-spin"}):x.jsx(Yx,{className:"w-5 h-5 stroke-[3px]"}),"Sk"]})]}),p&&x.jsx("div",{className:"p-4 rounded-2xl bg-red-500/5 border border-red-500/20 text-red-500 text-sm font-bold text-center italic",children:p}),a&&x.jsxs(_t.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-6 rounded-3xl bg-zinc-50 dark:bg-zinc-800/30 border border-zinc-100 dark:border-zinc-700/50 flex items-center justify-between hover:border-emerald-500/30 transition-all",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[a.photoURL?x.jsx("img",{src:a.photoURL,alt:"",className:"w-12 h-12 rounded-2xl object-cover border border-white dark:border-zinc-700 shadow-sm"}):x.jsx("div",{className:"w-12 h-12 rounded-2xl bg-zinc-200 dark:bg-zinc-700 flex items-center justify-center text-xl font-black text-zinc-500 dark:text-zinc-400",children:a.displayName[0].toUpperCase()}),x.jsxs("div",{children:[x.jsx("div",{className:"font-black italic text-zinc-900 dark:text-white",children:a.displayName}),x.jsx("div",{className:"text-[10px] font-bold text-zinc-400 dark:text-zinc-500 uppercase",children:a.email})]})]}),he(a.uid)?x.jsx("div",{className:"text-[10px] font-black uppercase text-zinc-300 dark:text-zinc-600 tracking-widest bg-zinc-100 dark:bg-zinc-800 px-3 py-1.5 rounded-lg",children:"Vnner"}):me(a.uid)?x.jsx("div",{className:"text-[10px] font-black uppercase text-amber-600 dark:text-amber-500 tracking-widest bg-amber-500/10 px-3 py-1.5 rounded-lg",children:"Vntar..."}):x.jsx("button",{onClick:()=>F(a),className:"px-6 py-3 rounded-xl bg-emerald-500 text-black text-[10px] font-black uppercase tracking-widest hover:scale-105 active:scale-95 transition-all shadow-lg shadow-emerald-500/20",children:"Lgg till"})]})]}),N.length>0&&x.jsxs("div",{className:"space-y-4",children:[x.jsxs("h3",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest ml-1",children:["Nya frfrgningar (",N.length,")"]}),x.jsx("div",{className:"grid grid-cols-1 gap-2",children:N.map(R=>x.jsxs(_t.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"p-5 rounded-3xl bg-emerald-500/5 border border-emerald-500/20 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[R.fromPhoto?x.jsx("img",{src:R.fromPhoto,alt:"",className:"w-12 h-12 rounded-2xl object-cover border border-white dark:border-zinc-800 shadow-sm"}):x.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 flex items-center justify-center text-xl font-black text-emerald-600",children:R.fromName[0].toUpperCase()}),x.jsxs("div",{children:[x.jsx("div",{className:"font-black italic text-zinc-900 dark:text-white uppercase tracking-tight",children:R.fromName}),x.jsx("div",{className:"text-[10px] font-bold text-zinc-400 dark:text-zinc-500 uppercase",children:R.fromEmail})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>W(R.id),className:"p-3 rounded-xl bg-emerald-500 text-black hover:scale-110 active:scale-90 transition-all shadow-lg shadow-emerald-500/20",title:"Acceptera",children:x.jsx(Ua,{className:"w-5 h-5 stroke-[3px]"})}),x.jsx("button",{onClick:()=>J(R.id),className:"p-3 rounded-xl bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:text-red-500 hover:border-red-500/30 transition-all shadow-sm",title:"Avvisa",children:x.jsx(i4,{className:"w-5 h-5 stroke-[2.5px]"})})]})]},R.id))})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("h3",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest ml-1",children:["Mina vnner (",w.length,")"]}),S?x.jsx("div",{className:"text-center py-12 bg-zinc-50 dark:bg-zinc-950 rounded-[32px] border-2 border-dashed border-zinc-100 dark:border-zinc-900 italic font-bold text-zinc-300 dark:text-zinc-700 uppercase tracking-widest text-[10px]",children:"Laddar..."}):w.length===0?x.jsx("div",{className:"text-center py-12 bg-zinc-50 dark:bg-zinc-950 rounded-[32px] border-2 border-dashed border-zinc-100 dark:border-zinc-900 font-black italic text-zinc-400 dark:text-zinc-600 uppercase tracking-widest text-[10px] px-8",children:"Inga vnner n. Sk efter dina betrodda medhjlpare!"}):x.jsx("div",{className:"grid grid-cols-1 gap-2",children:w.map(R=>x.jsxs("div",{className:"p-5 rounded-3xl bg-zinc-50 dark:bg-zinc-950 border border-zinc-100 dark:border-zinc-800 flex items-center justify-between group hover:border-zinc-300 dark:hover:border-zinc-700 transition-all",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[R.photoURL?x.jsx("img",{src:R.photoURL,alt:"",className:"w-12 h-12 rounded-2xl object-cover border border-white dark:border-zinc-800 shadow-sm transition-transform group-hover:scale-110"}):x.jsx("div",{className:"w-12 h-12 rounded-2xl bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center text-xl font-black text-zinc-500 dark:text-zinc-500",children:R.displayName[0].toUpperCase()}),x.jsxs("div",{children:[x.jsx("div",{className:"font-black italic text-zinc-900 dark:text-white uppercase tracking-tight",children:R.displayName}),x.jsx("div",{className:"text-[10px] font-bold text-zinc-400 dark:text-zinc-500 uppercase",children:R.email})]})]}),x.jsx("button",{onClick:()=>re(R.uid),className:"opacity-0 group-hover:opacity-100 px-4 py-2 rounded-xl text-[10px] font-black uppercase tracking-widest text-zinc-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-500/5 transition-all",children:"Ta bort"})]},R.uid))})]})]})]})})}function Z8({plan:n,currentUserId:e,currentUserName:t,onClose:s}){const[a,l]=Q.useState(""),[c,h]=Q.useState(!1),[p,m]=Q.useState(!1),[y,v]=Q.useState(""),{friends:w}=U2(e),S=async()=>{m(!0);try{const F=await G8(n.id,n.name,e,t),W=Y8(F);l(W)}catch(F){console.error("Error generating invite:",F)}finally{m(!1)}},N=()=>{navigator.clipboard.writeText(a),h(!0),setTimeout(()=>h(!1),2e3)},j=async(F,W,J,re)=>{try{await Nv(n.id,F,W,J,re),v(`${J} har lagts till i planen!`),setTimeout(()=>v(""),2e3)}catch(he){console.error("Error sharing with friend:",he)}},L=F=>!!n.members[F];return x.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 dark:bg-black/80 backdrop-blur-sm px-6",children:x.jsxs(_t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-zinc-900 rounded-[32px] border border-zinc-200 dark:border-zinc-800 max-w-lg w-full shadow-2xl overflow-hidden",children:[x.jsxs("div",{className:"p-8 border-b border-zinc-100 dark:border-zinc-800 flex items-center justify-between bg-zinc-50/50 dark:bg-zinc-800/20",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-black italic uppercase tracking-tighter text-zinc-900 dark:text-white",children:"Dela planen"}),x.jsx("p",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-500 uppercase mt-1 italic",children:n.name})]}),x.jsx("button",{onClick:s,className:"p-2 rounded-xl text-zinc-400 hover:text-zinc-900 dark:hover:text-white hover:bg-zinc-100 dark:hover:bg-zinc-800 transition-all",children:x.jsx(Hr,{className:"w-6 h-6"})})]}),x.jsxs("div",{className:"p-8 space-y-8 max-h-[70vh] overflow-auto",children:[y&&x.jsx(_t.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-2xl bg-emerald-500/10 border border-emerald-500/20 text-emerald-600 dark:text-emerald-400 text-sm font-bold text-center italic",children:y}),x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest ml-1",children:"Bjud in med lnk"}),a?x.jsx("div",{className:"space-y-3",children:x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:a,readOnly:!0,className:"flex-1 h-14 px-5 bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-2xl text-sm font-bold text-zinc-600 dark:text-zinc-400 focus:outline-none"}),x.jsxs("button",{onClick:N,className:"px-6 h-14 rounded-2xl bg-emerald-500 text-black font-black italic uppercase tracking-widest hover:bg-emerald-400 transition-all flex items-center gap-2 shadow-lg shadow-emerald-500/20",children:[c?x.jsx(Ua,{className:"w-5 h-5 stroke-[3px]"}):x.jsx(r4,{className:"w-5 h-5 stroke-[2.5px]"}),c?"Klar!":"Kopiera"]})]})}):x.jsxs("button",{onClick:S,disabled:p,className:"w-full h-14 rounded-2xl bg-zinc-950 dark:bg-white text-white dark:text-black font-black italic uppercase tracking-widest hover:scale-[1.02] active:scale-[0.98] disabled:opacity-50 transition-all flex items-center justify-center gap-3 shadow-xl shadow-black/10",children:[x.jsx(OA,{className:"w-5 h-5 stroke-[2.5px]"}),p?"Genererar...":"Generera inbjudan"]})]}),w.length>0&&x.jsxs("div",{className:"space-y-4",children:[x.jsx("h3",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest ml-1",children:"Dela med dina vnner"}),x.jsx("div",{className:"space-y-2",children:w.map(F=>x.jsxs("div",{className:"p-4 rounded-2xl bg-zinc-50 dark:bg-zinc-800/30 border border-zinc-100 dark:border-zinc-700/50 flex items-center justify-between hover:border-emerald-500/30 transition-all",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[F.photoURL?x.jsx("img",{src:F.photoURL,alt:"",className:"w-10 h-10 rounded-xl object-cover border border-white dark:border-zinc-700"}):x.jsx("div",{className:"w-10 h-10 rounded-xl bg-zinc-200 dark:bg-zinc-700 flex items-center justify-center text-sm font-black text-zinc-500 dark:text-zinc-400",children:F.displayName[0].toUpperCase()}),x.jsxs("div",{children:[x.jsx("div",{className:"font-bold text-sm text-zinc-900 dark:text-white",children:F.displayName}),x.jsx("div",{className:"text-[10px] font-bold text-zinc-400 dark:text-zinc-500 uppercase",children:F.email})]})]}),L(F.uid)?x.jsx("div",{className:"text-[10px] font-black uppercase text-zinc-300 dark:text-zinc-600 tracking-widest",children:"Medlem"}):x.jsx("button",{onClick:()=>j(F.uid,F.email,F.displayName,F.photoURL),className:"px-4 py-2 rounded-xl bg-zinc-900 dark:bg-white text-white dark:text-black text-[10px] font-black uppercase tracking-widest hover:scale-105 active:scale-95 transition-all",children:"Bjud in"})]},F.uid))})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("h3",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest ml-1 flex items-center gap-2",children:[x.jsx(Xd,{className:"w-4 h-4"}),"Medlemmar (",Object.keys(n.members).length,")"]}),x.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.values(n.members).map(F=>x.jsxs("div",{className:"p-4 rounded-2xl bg-zinc-50 dark:bg-zinc-950 border border-zinc-100 dark:border-zinc-800 flex items-center justify-between transition-all",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[F.photoURL?x.jsx("img",{src:F.photoURL,alt:"",className:"w-10 h-10 rounded-xl object-cover border border-white dark:border-zinc-800"}):x.jsx("div",{className:"w-10 h-10 rounded-xl bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center text-sm font-black text-zinc-500 dark:text-zinc-500",children:F.displayName[0].toUpperCase()}),x.jsxs("div",{children:[x.jsx("div",{className:"font-bold text-sm text-zinc-900 dark:text-white",children:F.displayName}),x.jsx("div",{className:"text-[10px] font-bold text-zinc-400 dark:text-zinc-500 uppercase",children:F.email})]})]}),x.jsx("div",{className:`text-[9px] font-black uppercase px-2.5 py-1 rounded-lg tracking-widest ${F.role==="owner"?"bg-amber-500/10 text-amber-600 dark:text-amber-500":"bg-emerald-500/10 text-emerald-600 dark:text-emerald-500"}`,children:F.role==="owner"?"gare":"Medhjlpare"})]},F.uid))})]})]})]})})}let eB=class extends Q.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("Error caught by boundary:",e),console.error("Error info:",t)}render(){return this.state.hasError?x.jsx("div",{className:"min-h-screen bg-gradient-to-br from-emerald-500 via-emerald-600 to-emerald-700 flex items-center justify-center p-6",children:x.jsxs("div",{className:"bg-white/10 backdrop-blur-xl rounded-3xl p-8 max-w-md w-full text-center border border-white/20",children:[x.jsx("h1",{className:"text-2xl font-black text-white mb-4",children:"Oops! Ngot gick fel"}),x.jsx("p",{className:"text-white/80 mb-6",children:this.state.error?.message||"Ett ovntat fel uppstod"}),x.jsx("button",{onClick:()=>window.location.reload(),className:"bg-white text-emerald-600 px-6 py-3 rounded-xl font-bold hover:bg-white/90 transition-colors",children:"Ladda om appen"})]})}):this.props.children}};const tB=["","","","","",""];function nB(){const{t:n}=Tf(),[e,t]=Q.useState(()=>localStorage.getItem("theme")||"dark");Q.useEffect(()=>{localStorage.setItem("theme",e),e==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const{user:s,userProfile:a,loading:l,error:c,signInWithGoogle:h,signOut:p,isAuthenticated:m}=k8(),{plans:y}=I8(s?.uid),[v,w]=Q.useState(null),{plan:S}=N8(v),{incomingRequests:N}=B2(s?.uid);Q8(s?.uid);const[j,L]=Q.useState("home"),[F,W]=Q.useState(!1),[J,re]=Q.useState(!1),[he,me]=Q.useState(!1),[R,A]=Q.useState(!1),[I,M]=Q.useState(!1),[P,V]=Q.useState(!1),[D,Re]=Q.useState(null),[Ve,X]=Q.useState(""),[oe,ye]=Q.useState(""),[Ee,z]=Q.useState(""),[E,B]=Q.useState(!1),[Y,ne]=Q.useState(null),[ce,fe]=Q.useState(null),[de,Se]=Q.useState(null),[ke,We]=Q.useState(null),[$e,nt]=Q.useState(null),[ut,De]=Q.useState(null),[Nt,Dt]=Q.useState(!1);Q.useEffect(()=>{const te=window.location.pathname;if(te.includes("/join/")){const pe=te.split("/join/"),Te=pe[pe.length-1];Te&&De(Te)}},[]),Q.useEffect(()=>{m&&s?.uid&&j8(s.uid).catch(console.error)},[m,s?.uid]),Q.useEffect(()=>{(async()=>{if(!(!ut||!s||!a||Nt)){Dt(!0);try{const pe=await F2(ut);if(!pe){Ze(n("plans.join_invalid")),De(null),window.history.replaceState({},"","/");return}await Nv(pe.planId,s.uid,a.email,a.displayName,a.photoURL),await q2(ut),Ze(`Gick med i ${pe.planName}!`),w(pe.planId),L("plans"),De(null),window.history.replaceState({},"","/")}catch(pe){console.error("Error joining plan:",pe),Ze(n("plans.join_error"))}finally{Dt(!1)}}})()},[ut,s,a]),Q.useEffect(()=>{l||W(!m)},[l,m]),Q.useEffect(()=>{S?.completed&&lt()},[S?.completed]),Q.useEffect(()=>{if(y.length>0&&m){const te=Date.now(),pe=720*60*60*1e3,Te=y.filter(vt=>{if(!vt.completed||!vt.completedAt)return!1;const xt=vt.completedAt.toMillis();return te-xt>pe});Te.length>0&&(console.log(`Auto-cleaning ${Te.length} old plans...`),Te.forEach(vt=>{B1(vt.id)}))}},[y,m]);const Ze=te=>{ye(te),setTimeout(()=>ye(""),2200)},an=async(te,pe,Te)=>{if(!(!s||!a))try{await z8(te,pe,s.uid,a.displayName,Te)}catch{Ze(n("plans.update_error"))}},lt=()=>{const pe={origin:{y:.7}};function Te(vt,xt){$V({...pe,...xt,particleCount:Math.floor(200*vt)})}Te(.25,{spread:26,startVelocity:55}),Te(.2,{spread:60}),Te(.35,{spread:100,decay:.91,scalar:.8}),Te(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2}),Te(.1,{spread:120,startVelocity:45})},it=async()=>{if(!(!Ve.trim()||!s||!a||E)){B(!0);try{let te;Y&&(te=await Xx(Y));const pe=await D8(Ve.trim(),s.uid,a.email,a.displayName,a.photoURL,te);X(""),ne(null),fe(null),me(!1),w(pe),L("plans"),Ze(n("plans.plan_created"))}catch(te){console.error("Error creating plan:",te),Ze(n("plans.create_error"))}finally{B(!1)}}},ii=async(te,pe)=>{if(!(!s||!a))try{await L8(te,pe,s.uid,a.displayName)}catch(Te){console.error("Error toggling item:",Te),Ze(n("plans.update_error"))}},la=async(te,pe)=>{if(pe.trim())try{let Te;if(de&&(Te=await Xx(de)),!s||!a)return;await P8(te,pe.trim(),s.uid,a.displayName,Te),z(""),Se(null),Ze(n("plans.item_added"))}catch(Te){console.error("Error adding item:",Te),Ze(n("plans.create_error"))}},ar=async(te,pe)=>{try{await V8(te,pe),Ze(n("plans.item_removed"))}catch(Te){console.error("Error deleting item:",Te)}},Ft=async(te,pe,Te)=>{if(Te.trim())try{await O8(te,pe,{text:Te.trim()}),V(!1),Re(null),Ze(n("plans.item_updated"))}catch(vt){console.error("Error editing item:",vt)}},Hn=async te=>{const pe=y.find(Te=>Te.id===te);if(pe){if(pe.ownerId!==s?.uid&&!pe.completed){Ze(n("plans.only_owner_can_delete"));return}if(window.confirm(pe.completed?n("plans.delete_completed_plan_confirm"):n("plans.delete_plan_confirm")))try{await B1(te),v===te&&w(null),Ze(n("plans.plan_deleted"))}catch(Te){console.error("Error deleting plan:",Te),Ze(n("plans.plan_deleted_error"))}}},Ti=async te=>{try{await M8(te,{completed:!1}),Ze(n("plans.plan_reopened"))}catch(pe){console.error("Error reopening plan:",pe)}},As=(te,pe)=>{Re({planId:te,item:pe}),V(!0)},Rn=te=>{if(!te.items||te.items.length===0)return 0;const pe=te.items.filter(Te=>Te.checked).length;return Math.round(pe/te.items.length*100)},Cs=[...y].sort((te,pe)=>{const Te=te.created?.toMillis?.()||0;return(pe.created?.toMillis?.()||0)-Te}),$n=Cs.filter(te=>!te.completed),si=Cs.filter(te=>te.completed);return l?x.jsx("div",{className:`min-h-screen ${e==="dark"?"dark bg-zinc-950 text-white":"bg-zinc-50 text-zinc-900"} flex items-center justify-center`,children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"w-20 h-20 mx-auto mb-4 overflow-hidden rounded-3xl",children:x.jsx("img",{src:"pwa-icon.png",className:"w-full h-full object-cover scale-[1.6]",alt:"DoneTogether"})}),x.jsx("p",{className:"text-zinc-500 font-bold italic uppercase tracking-widest text-xs",children:n("common.loading")})]})}):x.jsxs("div",{className:"min-h-screen bg-zinc-50 dark:bg-zinc-950 text-zinc-900 dark:text-white font-sans selection:bg-emerald-500/30 transition-colors duration-300",children:[x.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-white/80 dark:bg-zinc-950/80 border-b border-zinc-200 dark:border-zinc-800/50 backdrop-blur-xl",children:x.jsxs("div",{className:"max-w-3xl mx-auto px-6 h-20 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-10 h-10 overflow-hidden rounded-xl rotate-3 hover:rotate-6 transition-transform shadow-lg shadow-black/5 dark:shadow-none",children:x.jsx("img",{src:"pwa-icon.png",className:"w-full h-full object-cover scale-[1.5]",alt:"Logo"})}),x.jsxs("h1",{className:"text-xl font-black italic tracking-tighter",children:["Done",x.jsx("span",{className:"text-emerald-500",children:"Together"})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[N&&N.length>0&&x.jsxs("button",{onClick:()=>A(!0),className:"relative p-2 rounded-xl bg-red-500/10 text-red-400 hover:bg-red-500/20 transition-colors",title:n("common.friends_requests")||"Friends Requests",children:[x.jsx(Xd,{className:"w-5 h-5"}),x.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[10px] font-bold rounded-full flex items-center justify-center border-2 border-white dark:border-zinc-950",children:N.length})]}),m&&a?x.jsxs("button",{onClick:()=>L("profile"),className:"flex items-center gap-3 p-1 pr-3 rounded-2xl bg-zinc-100 dark:bg-transparent hover:bg-zinc-200 dark:hover:bg-zinc-900 transition-colors border border-zinc-200 dark:border-transparent dark:hover:border-zinc-800",children:[a.photoURL?x.jsx("img",{src:a.photoURL,className:"w-8 h-8 rounded-xl object-cover border border-zinc-200 dark:border-zinc-800",alt:""}):x.jsx("div",{className:"w-8 h-8 rounded-xl bg-zinc-200 dark:bg-zinc-800 flex items-center justify-center text-zinc-500 dark:text-zinc-400 border border-zinc-300 dark:border-zinc-700",children:x.jsx(Qx,{className:"w-4 h-4"})}),x.jsx("span",{className:"text-sm font-semibold text-zinc-700 dark:text-zinc-300 hidden sm:block",children:a.displayName})]}):x.jsx("button",{onClick:()=>W(!0),className:"px-4 py-2 rounded-xl bg-emerald-500 text-black font-bold text-sm hover:scale-105 active:scale-95 transition-all shadow-lg shadow-emerald-500/20",children:n("auth.login")})]})]})}),x.jsx("main",{className:"pt-24 pb-32 max-w-3xl mx-auto px-6 h-screen overflow-y-auto overflow-x-hidden scroll-smooth scrollbar-hide",children:x.jsxs(Id,{mode:"wait",children:[j==="home"&&x.jsxs(_t.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"space-y-8 pb-12",children:[x.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-transparent p-8 rounded-[32px] border border-emerald-500/10 dark:border-emerald-500/10",children:[x.jsx("h2",{className:"text-3xl font-bold mb-3 tracking-tight leading-tight italic font-black",children:n("home.hero_title")}),x.jsx("p",{className:"text-zinc-600 dark:text-zinc-400 leading-relaxed mb-6 max-w-md italic",children:n("home.hero_subtitle")}),x.jsxs("div",{className:"flex flex-wrap gap-3",children:[x.jsxs("button",{onClick:()=>{m?me(!0):W(!0)},className:"px-6 py-3.5 rounded-2xl bg-emerald-500 text-black font-bold flex items-center gap-2 hover:scale-105 active:scale-95 transition-all shadow-xl shadow-emerald-500/20",children:[x.jsx(pd,{className:"w-5 h-5 stroke-[3px]"}),n("home.create_plan")]}),x.jsx("button",{onClick:()=>{m?re(!0):W(!0)},className:"px-6 py-3.5 rounded-2xl bg-white dark:bg-zinc-800 text-zinc-900 dark:text-white font-bold flex items-center gap-2 hover:scale-105 active:scale-95 transition-all border border-zinc-200 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600 shadow-sm",children:n("home.join_plan")})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between px-2",children:[x.jsx("h3",{className:"text-zinc-400 dark:text-zinc-500 text-xs font-bold uppercase tracking-[0.2em]",children:n("home.active_plans")}),x.jsx("span",{className:"text-zinc-400 dark:text-zinc-600 text-xs font-medium",children:n("home.plans_count",{count:$n.length})})]}),$n.length>0?x.jsx("div",{className:"grid grid-cols-1 gap-4",children:$n.map(te=>x.jsxs(_t.div,{layoutId:te.id,onClick:()=>{w(te.id),L("plans")},className:"group bg-white dark:bg-zinc-900/40 p-5 rounded-3xl border border-zinc-200 dark:border-zinc-800/50 hover:border-emerald-500/30 hover:bg-zinc-50 dark:hover:bg-zinc-900/60 transition-all cursor-pointer overflow-hidden relative shadow-sm hover:shadow-md",children:[te.imageUrl&&x.jsxs("div",{className:"absolute top-0 right-0 w-32 h-full opacity-5 dark:opacity-10 group-hover:opacity-10 dark:group-hover:opacity-20 transition-opacity",children:[x.jsx("img",{src:te.imageUrl,className:"w-full h-full object-cover grayscale",alt:te.name}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-white dark:from-zinc-950 via-white/40 dark:via-zinc-950/40 to-transparent"})]}),x.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[x.jsx("h4",{className:"font-bold text-lg text-zinc-900 dark:text-white group-hover:text-emerald-500 dark:group-hover:text-emerald-400 transition-colors uppercase italic tracking-tight",children:te.name}),x.jsxs("span",{className:"px-3 py-1 rounded-full bg-emerald-500/10 text-emerald-600 dark:text-emerald-500 text-[10px] font-bold tracking-widest uppercase",children:[Rn(te),"% ",n("plans.completed")]})]}),x.jsx("div",{className:"w-full h-1.5 bg-zinc-100 dark:bg-zinc-800 rounded-full overflow-hidden mb-4 relative z-10",children:x.jsx(_t.div,{initial:{width:0},animate:{width:`${Rn(te)}%`},className:"h-full bg-emerald-500 rounded-full"})}),x.jsxs("div",{className:"flex items-center justify-between text-xs text-zinc-500 dark:text-zinc-500 italic relative z-10",children:[x.jsx("span",{children:n("plans.step_of",{current:te.items?.filter(pe=>pe.checked).length||0,total:te.items?.length||0})}),x.jsxs("div",{className:"flex -space-x-2",children:[te.members&&Object.values(te.members).slice(0,3).map((pe,Te)=>x.jsx("img",{src:pe.photoURL||`https://ui-avatars.com/api/?name=${pe.displayName}&background=333&color=fff`,className:"w-6 h-6 rounded-lg border-2 border-white dark:border-zinc-900 object-cover",alt:""},Te)),te.members&&Object.keys(te.members).length>3&&x.jsxs("div",{className:"w-6 h-6 rounded-lg border-2 border-white dark:border-zinc-900 bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center text-[8px] font-bold text-zinc-500 dark:text-zinc-400",children:["+",Object.keys(te.members).length-3]})]})]})]},te.id))}):x.jsx("div",{className:"text-center py-12 bg-white dark:bg-zinc-900/20 rounded-3xl border border-dashed border-zinc-200 dark:border-zinc-800",children:x.jsx("p",{className:"text-zinc-400 dark:text-zinc-500 italic text-sm",children:n("home.no_active_plans")})})]})]},"home"),j==="plans"&&x.jsx(_t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6 pb-12",children:v?S?x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-4",children:[x.jsxs("button",{onClick:()=>w(null),className:"flex items-center gap-2 text-zinc-400 dark:text-zinc-500 text-xs font-black uppercase tracking-widest hover:text-zinc-700 dark:hover:text-zinc-300 transition-colors",children:[x.jsx(Tg,{className:"w-4 h-4"}),n("common.back")]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{onClick:()=>S.imageUrl&&We(S.imageUrl),className:`w-14 h-14 rounded-2xl bg-emerald-500 flex items-center justify-center shadow-lg shadow-emerald-500/20 overflow-hidden rotate-2 border-2 border-white dark:border-zinc-950 ${S.imageUrl?"cursor-pointer hover:scale-110 active:scale-95 transition-transform":""}`,children:S.imageUrl?x.jsx("img",{src:S.imageUrl,className:"w-full h-full object-cover",alt:S.name}):x.jsx(Ua,{className:"w-8 h-8 text-black stroke-[3px]"})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-3xl font-black italic tracking-tighter uppercase leading-none mb-1 text-zinc-900 dark:text-white",children:S.name}),x.jsx("div",{className:"flex items-center gap-2",children:x.jsxs("span",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 px-2 py-1 rounded-lg",children:[n("common.by")||"BY"," ",S.members?.[S.ownerId]?.displayName||n("common.unknown")]})})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>M(!0),className:"p-3.5 rounded-2xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-all shadow-sm",children:x.jsx(_4,{className:"w-5 h-5 text-zinc-700 dark:text-zinc-300"})}),(S.ownerId===s?.uid||S.completed)&&x.jsx("button",{onClick:()=>Hn(S.id),className:"p-3.5 rounded-2xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 hover:bg-red-50 dark:hover:bg-red-500/10 text-zinc-400 hover:text-red-500 transition-all shadow-sm",children:x.jsx(gd,{className:"w-5 h-5"})})]})]}),x.jsxs("div",{className:"p-5 bg-white dark:bg-zinc-900/40 rounded-[24px] border border-zinc-200 dark:border-zinc-800/50 shadow-sm",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 dark:text-zinc-500",children:n("plans.progress")}),x.jsxs("span",{className:"text-xs font-black text-emerald-600 dark:text-emerald-400 italic",children:[Rn(S),"% ",n("plans.completed")]})]}),x.jsx("div",{className:"h-3 bg-zinc-100 dark:bg-zinc-950 rounded-full overflow-hidden border border-zinc-100 dark:border-zinc-800",children:x.jsx(_t.div,{initial:{width:0},animate:{width:`${Rn(S)}%`},className:"h-full bg-emerald-500 shadow-[0_0_15px_rgba(16,185,129,0.3)]"})})]})]}),!S.completed&&x.jsxs("form",{onSubmit:te=>{te.preventDefault(),la(S.id,Ee)},className:"relative group",children:[x.jsxs("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[x.jsxs("label",{className:"cursor-pointer text-zinc-500 dark:text-zinc-600 hover:text-emerald-500 transition-colors bg-zinc-50 dark:bg-zinc-950 p-1.5 rounded-lg border border-zinc-200 dark:border-zinc-800",children:[x.jsx(Gx,{className:"w-5 h-5"}),x.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:te=>{const pe=te.target.files?.[0];pe&&Se(pe)}})]}),de&&x.jsxs("div",{className:"relative",children:[x.jsx("img",{src:URL.createObjectURL(de),className:"w-7 h-7 rounded-lg border border-emerald-500 object-cover",alt:""}),x.jsx("button",{type:"button",onClick:()=>Se(null),className:"absolute -top-1 -right-1 bg-white dark:bg-zinc-950 text-zinc-900 dark:text-white rounded-full border border-zinc-200 dark:border-zinc-800",children:x.jsx(Hr,{className:"w-2.5 h-2.5"})})]})]}),x.jsx("input",{type:"text",value:Ee,onChange:te=>z(te.target.value),placeholder:n("plans.what_else"),className:"w-full bg-white dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-3xl py-5 pl-20 pr-14 focus:outline-none focus:ring-2 focus:ring-emerald-500/40 transition-all font-bold italic shadow-sm"}),x.jsx("button",{type:"submit",disabled:!Ee.trim(),className:"absolute right-4 top-1/2 -translate-y-1/2 p-2.5 bg-emerald-500 text-black rounded-xl disabled:opacity-20 shadow-lg shadow-emerald-500/20 transition-all hover:scale-110 active:scale-95",children:x.jsx(pd,{className:"w-5 h-5 stroke-[4px]"})})]}),x.jsx("div",{className:"space-y-3",children:S.items&&S.items.length>0?[...S.items].sort((te,pe)=>te.checked===pe.checked?0:te.checked?1:-1).map(te=>x.jsxs(_t.div,{layout:!0,className:`flex items-start gap-4 p-5 rounded-3xl border transition-all group ${te.checked?"bg-zinc-50 dark:bg-zinc-950 border-emerald-500/10 dark:border-emerald-500/10 opacity-70":"bg-white dark:bg-zinc-900 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-700 shadow-md dark:shadow-xl dark:shadow-black/20"}`,children:[x.jsx("button",{onClick:()=>ii(S.id,te.id),className:`mt-1 w-7 h-7 rounded-xl border-2 flex items-center justify-center transition-all ${te.checked?"bg-emerald-500 border-emerald-500 text-black shadow-lg shadow-emerald-500/20":"border-zinc-700 hover:border-emerald-500"}`,children:te.checked&&x.jsx(Ua,{className:"w-4 h-4 stroke-[4px]"})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-start justify-between",children:[x.jsxs("div",{className:"space-y-1",children:[x.jsx("p",{className:`text-lg font-black italic tracking-tighter transition-all leading-tight ${te.checked?"line-through text-zinc-400 dark:text-zinc-600":"text-zinc-900 dark:text-zinc-100"}`,children:te.text}),te.checked&&te.checkedBy&&x.jsx("div",{className:"text-[10px] font-black uppercase tracking-[0.1em] text-emerald-600 dark:text-emerald-500 bg-emerald-500/10 px-2 py-0.5 rounded inline-block",children:n("plans.fixed_by",{name:te.checkedBy})})]}),x.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[!te.checked&&x.jsx("button",{onClick:()=>As(S.id,te),className:"p-2 text-zinc-600 hover:text-white rounded-lg hover:bg-zinc-800",children:x.jsx(g4,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>ar(S.id,te.id),className:"p-2 text-zinc-600 hover:text-red-500 rounded-lg hover:bg-zinc-800",children:x.jsx(gd,{className:"w-4 h-4"})})]})]}),te.imageUrl&&x.jsx(_t.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>We(te.imageUrl),className:"mt-4 rounded-2xl overflow-hidden border border-zinc-200 dark:border-zinc-800 shadow-md dark:shadow-2xl cursor-pointer hover:border-emerald-500/30 transition-colors",children:x.jsx("img",{src:te.imageUrl,className:"w-full h-auto max-h-[400px] object-cover",alt:""})}),x.jsxs("div",{className:"mt-4 flex flex-wrap gap-2 items-center",children:[te.reactions&&te.reactions.length>0&&x.jsx("div",{className:"flex flex-wrap gap-1.5",children:Object.entries(te.reactions.reduce((pe,Te)=>(pe[Te.emoji]=(pe[Te.emoji]||0)+1,pe),{})).map(([pe,Te])=>x.jsxs("button",{onClick:()=>an(S.id,te.id,pe),className:`px-2 py-1 rounded-xl text-xs font-bold border transition-all flex items-center gap-1 ${te.reactions?.some(vt=>vt.userId===s?.uid&&vt.emoji===pe)?"bg-emerald-500/20 border-emerald-500/30 text-emerald-600 dark:text-emerald-400":"bg-zinc-50 dark:bg-zinc-800/40 border-zinc-200 dark:border-zinc-700/50 text-zinc-500 dark:text-zinc-400"}`,children:[x.jsx("span",{children:pe}),x.jsx("span",{children:Te})]},pe))}),x.jsxs("div",{className:"relative",children:[x.jsx("button",{onClick:()=>nt($e===te.id?null:te.id),className:`p-2 rounded-xl border transition-all ${$e===te.id?"bg-emerald-500 text-black border-emerald-500":"bg-zinc-50 dark:bg-zinc-800/40 border-zinc-200 dark:border-zinc-800 text-zinc-400 dark:text-zinc-500 hover:text-zinc-900 dark:hover:text-white hover:border-zinc-300 dark:hover:border-zinc-700 transition-colors"}`,children:x.jsx(T4,{className:"w-4 h-4"})}),x.jsx(Id,{children:$e===te.id&&x.jsx(_t.div,{initial:{opacity:0,y:10,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:10,scale:.9},className:"absolute bottom-full mb-3 left-0 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 p-2 rounded-2xl shadow-xl dark:shadow-2xl flex gap-1 z-20",children:tB.map(pe=>x.jsx("button",{onClick:()=>{an(S.id,te.id,pe),nt(null)},className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-xl transition-colors text-xl",children:pe},pe))})})]})]})]})]},te.id)):x.jsx("div",{className:"text-center py-20 bg-white dark:bg-zinc-950/40 rounded-3xl border-2 border-dashed border-zinc-100 dark:border-zinc-900",children:x.jsx("p",{className:"text-zinc-400 dark:text-zinc-600 font-bold italic",children:n("plans.empty_plan")})})}),S.completed&&x.jsx("div",{className:"pt-10 text-center",children:x.jsx("button",{onClick:()=>Ti(S.id),className:"px-8 py-4 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl font-black italic tracking-widest uppercase hover:bg-zinc-50 dark:hover:bg-zinc-800 text-zinc-900 dark:text-white transition shadow-lg",children:n("plans.reopen_plan")})})]}):x.jsx("div",{className:"text-center py-20",children:"Planen kunde inte hittas."}):x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[x.jsx("button",{onClick:()=>L("home"),className:"p-2 -ml-2 rounded-xl bg-white dark:bg-transparent border border-zinc-200 dark:border-transparent hover:bg-zinc-50 dark:hover:bg-zinc-900 text-zinc-400 transition-colors",children:x.jsx(Tg,{className:"w-5 h-5"})}),x.jsx("h2",{className:"text-2xl font-black italic tracking-tight uppercase text-zinc-900 dark:text-white",children:n("plans.all_plans")})]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("h3",{className:"text-zinc-400 dark:text-zinc-500 text-[10px] font-bold uppercase tracking-[0.2em] px-2",children:n("home.active_plans")}),$n.length>0?$n.map(te=>x.jsxs("div",{onClick:()=>w(te.id),className:"flex items-center justify-between p-4 rounded-2xl bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-800 hover:border-emerald-500/20 transition-all cursor-pointer group shadow-sm hover:shadow-md",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl bg-zinc-50 dark:bg-zinc-800 flex items-center justify-center text-zinc-400 dark:text-zinc-500 group-hover:bg-emerald-500 group-hover:text-black transition-all overflow-hidden border border-zinc-100 dark:border-zinc-700",children:te.imageUrl?x.jsx("img",{src:te.imageUrl,className:"w-full h-full object-cover",alt:te.name}):x.jsx(pd,{className:"w-5 h-5"})}),x.jsxs("div",{children:[x.jsx("div",{className:"font-bold text-zinc-800 dark:text-zinc-200 group-hover:text-zinc-950 dark:group-hover:text-white uppercase italic tracking-tight transition-colors",children:te.name}),x.jsxs("div",{className:"text-[10px] font-bold text-zinc-400 dark:text-zinc-500 uppercase",children:[te.items?.filter(pe=>pe.checked).length||0,"/",te.items?.length||0," TAGNA"]})]})]}),te.ownerId===s?.uid&&x.jsx("button",{onClick:pe=>{pe.stopPropagation(),Hn(te.id)},className:"opacity-0 group-hover:opacity-100 p-2 text-zinc-300 dark:text-zinc-600 hover:text-red-500 transition-all",children:x.jsx(gd,{className:"w-4 h-4"})})]},te.id)):x.jsx("p",{className:"text-zinc-400 dark:text-zinc-600 text-sm italic px-2",children:"Inga aktiva planer."})]})]})},"plan-detail"),j==="profile"&&a&&x.jsx(_t.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"space-y-8 pb-12",children:x.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-8 rounded-[40px] border border-zinc-200 dark:border-zinc-800 shadow-xl dark:shadow-none relative overflow-hidden group",children:[x.jsx("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-emerald-500/5 rounded-full blur-[80px]"}),x.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[x.jsx("div",{className:"relative mb-6",children:a.photoURL?x.jsx("img",{src:a.photoURL,alt:"",className:"w-32 h-32 rounded-[40px] border-4 border-emerald-500/20 p-1 group-hover:scale-105 transition-transform duration-500 shadow-xl"}):x.jsx("div",{className:"w-32 h-32 rounded-[40px] bg-zinc-100 dark:bg-zinc-800 border-4 border-zinc-200 dark:border-zinc-700 flex items-center justify-center text-5xl text-zinc-400 font-bold",children:a.displayName?.[0]?.toUpperCase()})}),x.jsx("h3",{className:"text-3xl font-black italic uppercase tracking-tighter mb-1 text-zinc-900 dark:text-white",children:a.displayName}),x.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 text-sm font-medium tracking-tight mb-10",children:a.email}),x.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full mb-8",children:[x.jsxs("button",{onClick:()=>L("completed"),className:"bg-zinc-50 dark:bg-zinc-800/40 p-6 rounded-[28px] text-center border border-zinc-200 dark:border-zinc-800 hover:border-emerald-500/20 dark:hover:border-emerald-500/30 transition-all hover:-translate-y-1",children:[x.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-400 mb-1",children:si.length}),x.jsxs("div",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest flex items-center justify-center gap-2",children:[x.jsx(Ua,{className:"w-3 h-3"})," ",n("plans.completed")]})]}),x.jsxs("button",{onClick:()=>A(!0),className:"bg-zinc-50 dark:bg-zinc-800/40 p-6 rounded-[28px] text-center border border-zinc-200 dark:border-zinc-800 hover:border-emerald-500/20 dark:hover:border-emerald-500/30 transition-all hover:-translate-y-1",children:[x.jsx("div",{className:"text-3xl font-black text-emerald-600 dark:text-emerald-400 mb-1",children:a.friends?.length||0}),x.jsxs("div",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest flex items-center justify-center gap-2",children:[x.jsx(Xd,{className:"w-3 h-3"})," ",n("common.friends")||"Friends"]})]})]}),x.jsx("div",{className:"w-full mb-4",children:x.jsxs("div",{className:"flex flex-col items-center justify-between p-6 rounded-[28px] bg-zinc-50 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-700/50",children:[x.jsx("p",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest leading-none mb-4",children:n("profile.language")}),x.jsx(H2,{})]})}),x.jsx("div",{className:"w-full mb-8",children:x.jsxs("div",{className:"flex items-center justify-between p-6 rounded-[28px] bg-zinc-50 dark:bg-zinc-800/50 border border-zinc-200 dark:border-zinc-700/50",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:`p-2 rounded-xl ${e==="light"?"bg-amber-100 text-amber-600":"bg-zinc-950 text-zinc-400"}`,children:e==="light"?x.jsx(E4,{className:"w-4 h-4"}):x.jsx(m4,{className:"w-4 h-4"})}),x.jsxs("div",{className:"text-left",children:[x.jsx("p",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest leading-none mb-1",children:n("profile.theme")}),x.jsx("p",{className:"text-xs font-bold text-zinc-900 dark:text-white uppercase italic",children:n(e==="light"?"profile.light":"profile.dark")})]})]}),x.jsx("button",{onClick:()=>t(e==="dark"?"light":"dark"),className:`w-12 h-6 rounded-full transition-all relative border-2 ${e==="light"?"bg-emerald-500 border-emerald-600":"bg-zinc-700 border-zinc-600"}`,children:x.jsx(_t.div,{animate:{x:e==="light"?24:0},className:"w-4 h-4 rounded-full bg-white shadow-sm flex items-center justify-center m-0.5"})})]})}),x.jsx("div",{className:"w-full mb-6",children:x.jsx("a",{href:"https://buymeacoffee.com/nrnworld",target:"_blank",rel:"noopener noreferrer",className:"block p-6 rounded-[28px] bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-950/20 dark:to-orange-950/20 border-2 border-amber-200 dark:border-amber-900/30 hover:border-amber-300 dark:hover:border-amber-800/50 transition-all hover:shadow-lg hover:-translate-y-1 group",children:x.jsxs("div",{className:"flex items-start gap-4",children:[x.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-2xl bg-amber-500 flex items-center justify-center text-2xl group-hover:scale-110 transition-transform",children:""}),x.jsxs("div",{className:"flex-1 text-left",children:[x.jsx("h4",{className:"text-sm font-black text-amber-900 dark:text-amber-100 uppercase tracking-tight mb-2",children:"The Wall of Fame"}),x.jsx("p",{className:"text-xs font-bold text-amber-800 dark:text-amber-200 mb-3 leading-relaxed",children:"Support the Development & Join the Credits"}),x.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-300 leading-relaxed mb-2",children:"I'm developing this project independently, and your support helps me improve the code and keep it free for everyone."}),x.jsx("p",{className:"text-[10px] text-amber-700 dark:text-amber-300 leading-relaxed mb-2",children:'As a token of my gratitude, everyone who supports me with a coffee will be featured in the "Special Thanks" section of my next project!'}),x.jsx("p",{className:"text-[9px] text-amber-600 dark:text-amber-400 italic",children:" Please include your name or a signature in your message so I can give you the credit you deserve. Your support is what makes future development possible."})]})]})})}),x.jsx("button",{onClick:p,className:"w-full flex items-center justify-center gap-3 p-6 rounded-[28px] bg-red-500/5 border border-red-500/10 text-red-500 font-black italic uppercase tracking-widest hover:bg-red-500/10 transition-all",children:n("auth.logout")})]})]})},"profile"),j==="completed"&&x.jsxs(_t.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6 pb-12",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("button",{onClick:()=>L("profile"),className:"p-2.5 rounded-xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-800 text-zinc-400 transition-colors",children:x.jsx(Tg,{className:"w-5 h-5"})}),x.jsx("h2",{className:"text-3xl font-black italic tracking-tighter uppercase",children:n("plans.completed")})]}),x.jsx("div",{className:"space-y-4",children:si.length>0?si.map(te=>{const pe=te.completedAt?Math.max(0,30-Math.floor((Date.now()-te.completedAt.toMillis())/864e5)):30;return x.jsxs("div",{className:"group flex flex-col p-6 rounded-[32px] bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-zinc-800 hover:border-emerald-500/20 transition-all relative overflow-hidden shadow-sm hover:shadow-md",children:[te.imageUrl&&x.jsxs("div",{className:"absolute top-0 right-0 w-48 h-full opacity-5 dark:opacity-5 group-hover:opacity-10 transition-opacity",children:[x.jsx("img",{src:te.imageUrl,className:"w-full h-full object-cover grayscale",alt:te.name}),x.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-white dark:from-zinc-950 via-white/60 dark:via-zinc-950/60 to-transparent"})]}),x.jsxs("div",{className:"flex items-start justify-between relative z-10 mb-6",children:[x.jsxs("div",{className:"flex items-center gap-5",children:[x.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-500/10 flex items-center justify-center text-emerald-600 dark:text-emerald-500 border border-emerald-500/20",children:x.jsx(Ua,{className:"w-6 h-6 stroke-[3px]"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-xl font-black text-zinc-900 dark:text-zinc-100 italic uppercase tracking-tight",children:te.name}),x.jsxs("div",{className:"flex flex-col gap-0.5 mt-1",children:[x.jsx("p",{className:"text-[10px] text-zinc-400 dark:text-zinc-500 font-black uppercase tracking-widest",children:te.completedAt?`KLAR ${te.completedAt.toDate().toLocaleDateString("sv-SE")}`:"AVKLARAD"}),x.jsxs("p",{className:"text-[9px] font-bold text-red-500/80 uppercase tracking-tight",children:["Raderas automatiskt om ",pe," ",pe===1?"dag":"dagar"]})]})]})]}),x.jsx("button",{onClick:()=>Hn(te.id),className:"p-3.5 rounded-2xl bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 text-zinc-400 hover:bg-red-500/10 hover:text-red-500 transition-all",children:x.jsx(gd,{className:"w-5 h-5"})})]}),x.jsxs("div",{className:"flex items-center justify-between text-[11px] font-black uppercase tracking-[0.1em] text-zinc-400 dark:text-zinc-500 relative z-10 border-t border-zinc-100 dark:border-zinc-800/50 pt-5",children:[x.jsxs("span",{children:[te.items?.length||0," PUNKTER AVKLARADE"]}),x.jsx("button",{onClick:()=>Ti(te.id),className:"text-emerald-600 dark:text-emerald-500 hover:text-emerald-500 dark:hover:text-emerald-400 transition-colors bg-emerald-500/10 px-4 py-2 rounded-xl border border-emerald-500/20",children:"TERUPPTA"})]})]},te.id)}):x.jsxs("div",{className:"text-center py-20 bg-white dark:bg-zinc-950/20 rounded-[40px] border-2 border-dashed border-zinc-200 dark:border-zinc-900",children:[x.jsx(Kx,{className:"w-16 h-16 text-zinc-200 dark:text-zinc-900 mx-auto mb-6"}),x.jsx("p",{className:"text-zinc-400 dark:text-zinc-600 font-black italic uppercase tracking-widest text-xs",children:"Inga slutfrda planer n."})]})})]},"completed")]})}),x.jsx("footer",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white/80 dark:bg-zinc-950/80 border-t border-zinc-200 dark:border-zinc-800/50 backdrop-blur-xl pb-safe shadow-[0_-4px_20px_rgba(0,0,0,0.03)] dark:shadow-none",children:x.jsxs("div",{className:"max-w-3xl mx-auto px-10 h-20 flex items-center justify-between",children:[x.jsxs("button",{onClick:()=>L("home"),className:`flex flex-col items-center gap-1.5 transition-all ${j==="home"?"text-emerald-500 scale-110":"text-zinc-400 dark:text-zinc-600 hover:text-emerald-500 dark:hover:text-zinc-400"}`,children:[x.jsx(l4,{className:"w-6 h-6 stroke-[2.5px]"}),x.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:n("common.home")||"Home"})]}),x.jsx("button",{onClick:()=>{m?me(!0):W(!0)},className:"w-16 h-16 bg-emerald-500 text-black rounded-3xl flex items-center justify-center -mt-12 shadow-[0_20px_40px_rgba(16,185,129,0.3)] hover:scale-110 active:scale-90 transition-all border-4 border-zinc-50 dark:border-zinc-950 rotate-3",children:x.jsx(pd,{className:"w-8 h-8 stroke-[4px]"})}),x.jsxs("button",{onClick:()=>{w(null),L("plans")},className:`flex flex-col items-center gap-1.5 transition-all ${j==="plans"?"text-emerald-500 scale-110":"text-zinc-400 dark:text-zinc-600 hover:text-emerald-500 dark:hover:text-zinc-400"}`,children:[x.jsx(Ua,{className:"w-6 h-6 stroke-[2.5px]"}),x.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:n("plans.all_plans")})]}),x.jsxs("button",{onClick:()=>L("completed"),className:`flex flex-col items-center gap-1.5 transition-all ${j==="completed"?"text-emerald-500 scale-110":"text-zinc-400 dark:text-zinc-600 hover:text-emerald-500 dark:hover:text-zinc-400"}`,children:[x.jsx(Kx,{className:"w-6 h-6 stroke-[2.5px]"}),x.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:n("plans.completed")})]}),x.jsxs("button",{onClick:()=>L("profile"),className:`flex flex-col items-center gap-1.5 transition-all ${j==="profile"?"text-emerald-500 scale-110":"text-zinc-400 dark:text-zinc-600 hover:text-emerald-500 dark:hover:text-zinc-400"}`,children:[x.jsx(Qx,{className:"w-6 h-6 stroke-[2.5px]"}),x.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest",children:n("profile.title")})]})]})}),x.jsxs(Id,{children:[F&&x.jsx(W8,{onClose:()=>W(!1),onSignIn:h,error:c||void 0}),he&&x.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 sm:p-0",children:[x.jsx(_t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>me(!1),className:"absolute inset-0 bg-white/60 dark:bg-zinc-950/95 backdrop-blur-md"}),x.jsxs(_t.div,{initial:{opacity:0,scale:.9,y:40},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:40},className:"relative w-full max-w-md bg-white dark:bg-zinc-900 rounded-[40px] border border-zinc-200 dark:border-zinc-800 p-10 shadow-2xl overflow-hidden",children:[x.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-emerald-500"}),x.jsx("button",{onClick:()=>me(!1),className:"absolute top-8 right-8 text-zinc-400 dark:text-zinc-500 hover:text-zinc-900 dark:hover:text-white transition-colors",children:x.jsx(Hr,{className:"w-6 h-6"})}),x.jsx("h2",{className:"text-3xl font-black italic uppercase tracking-tighter mb-8 text-zinc-900 dark:text-white",children:n("home.create_plan")}),x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest ml-1",children:"Vad ska planen heta?"}),x.jsx("input",{type:"text",value:Ve,onChange:te=>X(te.target.value),placeholder:"T.ex. Sommarstugan 2024",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-2xl py-5 px-6 focus:outline-none focus:ring-2 focus:ring-emerald-500/40 transition-all font-bold italic text-lg text-zinc-900 dark:text-white placeholder:text-zinc-300 dark:placeholder:text-zinc-700 shadow-inner",autoFocus:!0})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-500 uppercase tracking-widest ml-1",children:"Omslagsbild (Snyggt!)"}),x.jsxs("div",{className:"relative group overflow-hidden rounded-[24px] border-2 border-dashed border-zinc-200 dark:border-zinc-800 hover:border-emerald-500/40 transition-all aspect-video flex flex-col items-center justify-center bg-zinc-50 dark:bg-zinc-950 cursor-pointer",children:[ce?x.jsxs(x.Fragment,{children:[x.jsx("img",{src:ce,className:"w-full h-full object-cover",alt:""}),x.jsx("button",{type:"button",onClick:te=>{te.stopPropagation(),ne(null),fe(null)},className:"absolute top-3 right-3 p-2 bg-black/80 rounded-full text-white hover:bg-black border border-white/10 transition-colors",children:x.jsx(Hr,{className:"w-5 h-5"})})]}):x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx(Gx,{className:"w-10 h-10 text-zinc-200 dark:text-zinc-800 group-hover:text-emerald-500 transition-colors mb-4"}),x.jsx("span",{className:"text-[10px] font-black text-zinc-400 dark:text-zinc-600 group-hover:text-emerald-500 transition-colors tracking-widest uppercase",children:"Klicka fr att vlja bild"})]}),x.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:te=>{const pe=te.target.files?.[0];if(pe){ne(pe);const Te=new FileReader;Te.onloadend=()=>fe(Te.result),Te.readAsDataURL(pe)}}})]})]}),x.jsxs("div",{className:"pt-6 flex gap-3",children:[x.jsx("button",{onClick:()=>me(!1),className:"flex-1 py-5 bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 rounded-2xl text-xs font-black uppercase tracking-widest hover:bg-zinc-200 dark:hover:bg-zinc-700 transition",children:n("common.cancel")}),x.jsx("button",{onClick:it,disabled:!Ve.trim()||E,className:"flex-[1.5] py-5 bg-emerald-500 text-black rounded-2xl text-sm font-black uppercase tracking-widest disabled:opacity-30 transition hover:bg-emerald-400 shadow-xl shadow-emerald-500/20",children:n(E?"common.loading":"home.create_plan")})]})]})]})]}),R&&a&&x.jsx(J8,{onClose:()=>A(!1),currentUser:a}),J&&s&&a&&x.jsx(X8,{onClose:()=>re(!1),onJoin:te=>{w(te),L("plans"),Ze("Gick med i planen!")},user:s,userProfile:a}),I&&S&&a&&x.jsx(Z8,{onClose:()=>M(!1),plan:S,currentUserId:s?.uid||"",currentUserName:a.displayName}),P&&D&&x.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 sm:p-0",children:[x.jsx(_t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{V(!1),Re(null)},className:"absolute inset-0 bg-white/60 dark:bg-zinc-950/95 backdrop-blur-md"}),x.jsxs(_t.div,{initial:{opacity:0,scale:.9,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:30},className:"relative w-full max-w-md bg-white dark:bg-zinc-900 rounded-[32px] border border-zinc-200 dark:border-zinc-800 p-10 shadow-2xl overflow-hidden",children:[x.jsx("h2",{className:"text-3xl font-black italic uppercase tracking-tighter mb-8 text-zinc-900 dark:text-white",children:n("common.edit")}),x.jsx("input",{type:"text",defaultValue:D.item.text,id:"edit-item-input",className:"w-full bg-zinc-50 dark:bg-zinc-950 border border-zinc-200 dark:border-zinc-800 rounded-2xl py-5 px-6 focus:outline-none focus:ring-2 focus:ring-emerald-500/40 transition-all font-bold italic text-lg text-zinc-900 dark:text-white shadow-inner",autoFocus:!0}),x.jsxs("div",{className:"pt-8 flex gap-3",children:[x.jsx("button",{onClick:()=>{V(!1),Re(null)},className:"flex-1 py-5 bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-400 rounded-2xl text-[10px] font-black uppercase tracking-widest hover:bg-zinc-200 dark:hover:bg-zinc-700 transition",children:n("common.cancel")}),x.jsx("button",{onClick:()=>{const te=document.getElementById("edit-item-input");Ft(D.planId,D.item.id,te.value)},className:"flex-[1.5] py-5 bg-emerald-500 text-black rounded-2xl text-xs font-black uppercase tracking-widest shadow-lg shadow-emerald-500/20 active:scale-95 transition-all",children:n("common.save")})]})]})]}),ke&&x.jsxs("div",{className:"fixed inset-0 z-[300] flex items-center justify-center p-4",children:[x.jsx(_t.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>We(null),className:"absolute inset-0 bg-white/60 dark:bg-zinc-950/95 backdrop-blur-xl cursor-zoom-out"}),x.jsxs(_t.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"relative max-w-5xl w-full max-h-[90vh] flex items-center justify-center p-4",children:[x.jsx("img",{src:ke,className:"w-full h-full object-contain rounded-3xl shadow-2xl border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900",alt:"Fullskrmsvy"}),x.jsx("button",{onClick:()=>We(null),className:"absolute -top-2 -right-2 w-12 h-12 bg-zinc-950 dark:bg-white text-white dark:text-black rounded-full flex items-center justify-center border border-white/10 dark:border-zinc-800 hover:scale-110 active:scale-90 transition-all shadow-xl z-10",children:x.jsx(Hr,{className:"w-6 h-6 stroke-[3px]"})})]})]}),oe&&x.jsxs(_t.div,{initial:{opacity:0,y:60,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,scale:.9},className:"fixed bottom-28 left-1/2 -translate-x-1/2 z-[200] px-6 py-3.5 rounded-2xl bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 text-[10px] font-black uppercase tracking-widest shadow-2xl flex items-center gap-3 text-zinc-900 dark:text-white",children:[x.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse shadow-[0_0_10px_rgba(16,185,129,0.8)]"}),oe]})]})]})}function iB(){return x.jsx(eB,{children:x.jsx(nB,{})})}class sB extends Q.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("CRITICAL APP ERROR:",e),console.error("Component Stack:",t.componentStack)}render(){return this.state.hasError?x.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#09090b",color:"white",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"24px",fontFamily:"system-ui, -apple-system, sans-serif"},children:x.jsxs("div",{style:{maxWidth:"600px",width:"100%",backgroundColor:"#18181b",borderRadius:"16px",border:"1px solid #27272a",padding:"32px",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)"},children:[x.jsx("h1",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"16px",color:"#ef4444"},children:" Ngot gick fel"}),x.jsx("p",{style:{marginBottom:"24px",color:"#a1a1aa",lineHeight:"1.6"},children:"Applikationen kraschade. Detta beror oftast p ett kodfel eller problem med att ladda data."}),this.state.error&&x.jsx("div",{style:{backgroundColor:"#000",borderRadius:"8px",padding:"16px",marginBottom:"24px",border:"1px solid #ef4444",overflow:"auto",maxHeight:"200px"},children:x.jsx("code",{style:{fontFamily:"monospace",fontSize:"13px",color:"#f87171"},children:this.state.error.toString()})}),x.jsx("button",{onClick:()=>window.location.reload(),style:{width:"100%",padding:"14px",backgroundColor:"#10b981",color:"black",border:"none",borderRadius:"12px",fontWeight:"bold",cursor:"pointer",fontSize:"15px"},children:"Frsk igen"})]})}):this.props.children}}try{const n=document.getElementById("root");if(!n)throw new Error("Root element not found");II.createRoot(n).render(x.jsx(Q.StrictMode,{children:x.jsx(sB,{children:x.jsx(iB,{})})}))}catch(n){console.error("CRITICAL STARTUP ERROR:",n),document.body.innerHTML=`
    <div style="background:#09090b;color:#fff;min-height:100vh;padding:20px;font-family:monospace;">
      <h1 style="color:#ef4444;">Startup Error</h1>
      <pre>${n instanceof Error?n.stack:String(n)}</pre>
    </div>
  `}export{j2 as W};
